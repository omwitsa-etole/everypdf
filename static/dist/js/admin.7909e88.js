!function(n){var i={};function r(e){var t;return(i[e]||(t=i[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,r),t.l=!0,t)).exports}r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=415)}([function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return l});var i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&i>=e.length?void 0:e)&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}},function(t,e,n){!function(e){t.exports=e.jQuery=n(83)}.call(this,n(31))},function(e,t,n){"use strict";function i(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return m(e,Error)}}function r(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function o(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function u(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function l(e){return"[object Object]"===Object.prototype.toString.call(e)}function c(e){return"undefined"!=typeof Event&&m(e,Event)}function d(e){return"undefined"!=typeof Element&&m(e,Element)}function p(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function f(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function h(e){return l(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function m(e,t){try{return e instanceof t}catch(e){return!1}}n.d(t,"d",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"k",function(){return s}),n.d(t,"i",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"f",function(){return c}),n.d(t,"c",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"m",function(){return f}),n.d(t,"l",function(){return h}),n.d(t,"g",function(){return m})},function(e,f,h){"use strict";!function(e){h.d(f,"e",function(){return o}),h.d(f,"i",function(){return i}),h.d(f,"h",function(){return r}),h.d(f,"d",function(){return a}),h.d(f,"c",function(){return s}),h.d(f,"b",function(){return u}),h.d(f,"a",function(){return l}),h.d(f,"f",function(){return c}),h.d(f,"g",function(){return p});var t=h(39),n=(h(23),{});function o(){return Object(t.b)()?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:n}function i(){var e,t=o(),t=t.crypto||t.msCrypto;return void 0!==t&&t.getRandomValues?(e=new Uint16Array(8),t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768,(t=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t})(e[0])+t(e[1])+t(e[2])+t(e[3])+t(e[4])+t(e[5])+t(e[6])+t(e[7])):"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function r(e){var t,n;return(e=e&&e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/))?(t=e[6]||"",n=e[8]||"",{host:e[4],path:e[5],protocol:e[2],relative:e[5]+t+n}):{}}function a(e){var t;return e.message||(e.exception&&e.exception.values&&e.exception.values[0]?(t=e.exception.values[0]).type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>":e.event_id||"<unknown>")}function s(e){var t,n,i,r=o();return"console"in r?(t=r.console,n={},["debug","info","warn","error","log","assert"].forEach(function(e){e in r.console&&t[e].__sentry_original__&&(n[e]=t[e],t[e]=t[e].__sentry_original__)}),i=e(),Object.keys(n).forEach(function(e){t[e]=n[e]}),i):e()}function u(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function l(t,n){void 0===n&&(n={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(n).forEach(function(e){t.exception.values[0].mechanism[e]=n[e]})}catch(e){}}function c(){try{return document.location.href}catch(e){return""}}var d=6e4;function p(e,t){var n;return t?(n=parseInt(""+t,10),isNaN(n)?(t=Date.parse(""+t),isNaN(t)?d:t-e):1e3*n):d}}.call(this,h(31))},,function(e,v,y){"use strict";!function(n){y.d(v,"c",function(){return e}),y.d(v,"f",function(){return t}),y.d(v,"e",function(){return s}),y.d(v,"d",function(){return h}),y.d(v,"b",function(){return m}),y.d(v,"a",function(){return g});var u=y(0),a=y(40),l=y(2),c=y(72),i=y(19),o=y(23);function e(e,t,n){if(t in e){var i=e[t],n=n(i);if("function"==typeof n)try{n.prototype=n.prototype||{},Object.defineProperties(n,{__sentry_original__:{enumerable:!1,value:i}})}catch(e){}e[t]=n}}function t(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function d(e){if(Object(l.d)(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}if(Object(l.f)(e)){var i,r=e,o={};o.type=r.type;try{o.target=Object(l.c)(r.target)?Object(a.a)(r.target):Object.prototype.toString.call(r.target)}catch(e){o.target="<unknown>"}try{o.currentTarget=Object(l.c)(r.currentTarget)?Object(a.a)(r.currentTarget):Object.prototype.toString.call(r.currentTarget)}catch(e){o.currentTarget="<unknown>"}for(i in"undefined"!=typeof CustomEvent&&Object(l.g)(e,CustomEvent)&&(o.detail=r.detail),r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r);return o}return e}function r(e){return e=JSON.stringify(e),~-encodeURI(e).split(/%..|./).length}function s(e,t,n){void 0===n&&(n=102400);var i=h(e,t=void 0===t?3:t);return r(i)>n?s(e,t-1,n):i}function p(e,t){return"domain"===t&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":void 0!==n&&e===n?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":Object(l.l)(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+Object(i.a)(e)+"]":"symbol"==typeof e?"["+String(e)+"]":"bigint"==typeof e?"[BigInt: "+String(e)+"]":e}function f(e,t,n,i){if(void 0===n&&(n=1/0),void 0===i&&(i=new c.a),0===n)return o=t,r=Object.prototype.toString.call(o),"string"==typeof o?o:"[object Object]"===r?"[Object]":"[object Array]"===r?"[Array]":(o=p(o),Object(l.i)(o)?o:r);var r;if(null!=t&&"function"==typeof t.toJSON)return t.toJSON();var o=p(t,e);if(Object(l.i)(o))return o;var a,s=d(t),u=Array.isArray(t)?[]:{};if(i.memoize(t))return"[Circular ~]";for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(u[a]=f(a,s[a],n-1,i));return i.unmemoize(t),u}function h(e,n){try{return JSON.parse(JSON.stringify(e,function(e,t){return f(e,t,n)}))}catch(e){return"**non-serializable**"}}function m(e,t){void 0===t&&(t=40);var n=Object.keys(d(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Object(o.d)(n[0],t);for(var i=n.length;0<i;i--){var r=n.slice(0,i).join(", ");if(!(r.length>t))return i===n.length?r:Object(o.d)(r,t)}return""}function g(e){var t,n;if(Object(l.h)(e)){var i=e,r={};try{for(var o=Object(u.f)(Object.keys(i)),a=o.next();!a.done;a=o.next()){var s=a.value;void 0!==i[s]&&(r[s]=g(i[s]))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return Array.isArray(e)?e.map(g):e}}.call(this,y(31))},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"d",function(){return v}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return _});var s=n(0),u=n(3),l=n(104),r=n(12),i=n(39),o=n(36),a=n(78),c=n(5),d=(p.prototype.update=function(e){(e=void 0===e?{}:e).user&&(e.user.ip_address&&(this.ipAddress=e.user.ip_address),e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Date.now(),e.sid&&(this.sid=32===e.sid.length?e.sid:Object(u.i)()),e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),"number"==typeof e.duration?this.duration=e.duration:this.duration=this.timestamp-this.started,e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),e.ipAddress&&(this.ipAddress=e.ipAddress),e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},p.prototype.close=function(e){e?this.update({status:e}):this.status===a.a.Ok?this.update({status:a.a.Exited}):this.update()},p.prototype.toJSON=function(){return Object(c.a)({sid:""+this.sid,init:!0,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Object(c.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},p);function p(e){this.errors=0,this.sid=Object(u.i)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=a.a.Ok,e&&this.update(e)}var f=3,h=(m.prototype.isOlderThan=function(e){return this._version<e},m.prototype.bindClient=function(e){(this.getStackTop().client=e)&&e.setupIntegrations&&e.setupIntegrations()},m.prototype.pushScope=function(){var e=o.a.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},m.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},m.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},m.prototype.getClient=function(){return this.getStackTop().client},m.prototype.getScope=function(){return this.getStackTop().scope},m.prototype.getStack=function(){return this._stack},m.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},m.prototype.captureException=function(e,t){var n=this._lastEventId=Object(u.i)(),i=t;if(!t){t=void 0;try{throw new Error("Sentry syntheticException")}catch(e){t=e}i={originalException:e,syntheticException:t}}return this._invokeClient("captureException",e,Object(s.a)(Object(s.a)({},i),{event_id:n})),n},m.prototype.captureMessage=function(e,t,n){var i=this._lastEventId=Object(u.i)(),r=n;if(!n){n=void 0;try{throw new Error(e)}catch(e){n=e}r={originalException:e,syntheticException:n}}return this._invokeClient("captureMessage",e,t,Object(s.a)(Object(s.a)({},r),{event_id:i})),i},m.prototype.captureEvent=function(e,t){var n=this._lastEventId=Object(u.i)();return this._invokeClient("captureEvent",e,Object(s.a)(Object(s.a)({},t),{event_id:n})),n},m.prototype.lastEventId=function(){return this._lastEventId},m.prototype.addBreadcrumb=function(e,t){var n,i,r,o=this.getStackTop(),a=o.scope,o=o.client;a&&o&&(r=(o=o.getOptions&&o.getOptions()||{}).beforeBreadcrumb,n=void 0===r?null:r,(o=void 0===(r=o.maxBreadcrumbs)?100:r)<=0||(r=Object(l.a)(),i=Object(s.a)({timestamp:r},e),null!==(r=n?Object(u.c)(function(){return n(i,t)}):i)&&a.addBreadcrumb(r,Math.min(o,100))))},m.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},m.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},m.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},m.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},m.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},m.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},m.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,t=t.client;n&&t&&e(n)},m.prototype.run=function(e){var t=v(this);try{e(this)}finally{v(t)}},m.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return r.a.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},m.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},m.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},m.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},m.prototype.startSession=function(e){this.endSession();var t=this.getStackTop(),n=t.scope,t=t.client,t=t&&t.getOptions()||{},i=t.release,t=t.environment,i=new d(Object(s.a)(Object(s.a)({release:i,environment:t},n&&{user:n.getUser()}),e));return n&&n.setSession(i),i},m.prototype.endSession=function(){var e,t=this.getStackTop(),n=t.scope,t=t.client;n&&(e=n.getSession&&n.getSession())&&(e.close(),t&&t.captureSession&&t.captureSession(e),n.setSession())},m.prototype._invokeClient=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getStackTop(),r=i.scope,i=i.client;i&&i[e]&&i[e].apply(i,Object(s.e)(t,[r]))},m.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=g().__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[e])return i.extensions[e].apply(this,t);r.a.warn("Extension method "+e+" couldn't be found, doing nothing.")},m);function m(e,t,n){void 0===t&&(t=new o.a),this._version=n=void 0===n?f:n,this._stack=[{}],this.getStackTop().scope=t,this.bindClient(e)}function g(){var e=Object(u.e)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function v(e){var t=g(),n=_(t);return w(t,e),n}function y(){var t=g();if(b(t)&&!_(t).isOlderThan(f)||w(t,new h),!Object(i.b)())return _(t);try{var e,n=function(){var e=g().__SENTRY__;return e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active}();return n?(b(n)&&!_(n).isOlderThan(f)||(e=_(t).getStackTop(),w(n,new h(e.client,o.a.clone(e.scope)))),_(n)):_(t)}catch(e){return _(t)}}function b(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub}function _(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new h),e.__SENTRY__.hub}function w(e,t){e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t)}},function(e,a,s){"use strict";!function(n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},t=(Object.defineProperty(a,"__esModule",{value:!0}),a.Lang=void 0,e(s(87)));function o(){}o.t=function(e,t){var n="iloveLang";return t&&t.source&&(n=t.source),window[n]&&window[n][e]&&(e=window[n][e]),e=this.tr(e,t)},o.tr=function(n,i){return null!=i&&Object.keys(i).forEach(function(e){var t=i[e];n=(n=n.replace("${"+e+"}",t)).replace("{"+e+"}",t)}),n},o.w=function(e,t){n("."+(e=void 0===e?"translate":e)).each(function(){var e=n(this).html();n(this).html(o.t(e,t))}),n("#"+e).each(function(){var e=n(this).html();n(this).html(o.t(e,t))})},o.fontsForWritingSystem=function(e){switch(e){case"latin":return["arial","verdana","courier","comic","times-new-roman","impact","arial-unicode-ms"];case"indic":return["lohit-marathi","lohit-devanagari","arial-unicode-ms"];default:return["arial-unicode-ms"]}},o.getFontsInfo=function(){var e=window.fonts;if(e)return e;throw"[Lang Service] You have to load the fonts information from the backend to use this method"},o.loadAllFonts=function(){for(var e in window.fonts)window.fonts.hasOwnProperty(e)&&"arial"!=e&&this.loadFont(e)},o.loadFont=function(e){e in this.loadedFonts||(t.lazyloadCss("/font/"+e+".css"),this.loadedFonts[e]=!0)},o.hasHindiCharacters=function(e){return 0<e.split("").filter(function(e){e=e.charCodeAt();return 2309<=e&&e<=2361}).length},o.hasJapanCharacters=function(e){return/[\u3000-\u303f]|[\u3040-\u309f]|[\u30a0-\u30ff]|[\uff00-\uff9f]|[\u4e00-\u9faf]|[\u3400-\u4dbf]/.test(e)},o.hasChineseCharacters=function(e){return/[\u4e00-\u9fff]|[\u3400-\u4dbf]|[\uf900-\ufaff]|[\u3300-\u33ff]|[\ufe30-\ufe4f]|[\uf900-\ufaff]/.test(e)},o.hasKoreanCharacters=function(e){return/[\uac00-\uafff]|[\ub000-\ubfff]/.test(e)},o.hasArabicCharacters=function(e){return/[\u0600-\u06FF]|[\u0750-\u077F]/.test(e)},o.hasGreekCharacters=function(e){return/[\u0370-\u03FF]|[\u1F00-\u1FFF]/.test(e)},o.hasCyrillicCharacters=function(e){return/[\u0400-\u04FF]|[\u0500-\u052F]/.test(e)},o.hasCommonLatinCharacters=function(e){return!1},o.keyCodeToWritingSystem=function(e){for(var t in this.writingSystemCharacterRanges)for(var n=this.writingSystemCharacterRanges[t],i=0;i<n.length;i++){var r=n[i],o=r[0],r=r[1];if(o<=e&&e<=r)return t}return"unknown"},o.detectWritingSystems=function(e){if(0===e.length)return[];for(var t={},n=0;n<e.length;n++)t[this.keyCodeToWritingSystem(e.charCodeAt(n))]=!0;return Object.keys(t)},o.loadedFonts={},o.FALLBACK_FONT_FAMILY="arial-unicode-ms",o.writingSystemCharacterRanges={latin:[[0,127],[128,255],[256,383],[384,591],[7680,7935],[9312,9471],[11360,11391],[42784,43007],[64256,64335],[65104,65135]],indic:[[2304,2431],[43232,43263]]},a.Lang=o}.call(this,s(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IloveEvent=void 0,t.IloveEvent=function(e,t){void 0===t&&(t=null),this.name=e,this.detail=t}},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"f",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"j",function(){return f}),n.d(t,"g",function(){return h}),n.d(t,"i",function(){return m}),n.d(t,"k",function(){return g}),n.d(t,"m",function(){return v}),n.d(t,"l",function(){return y});var r=n(0),o=n(6);function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Object(o.b)();if(i&&i[e])return i[e].apply(i,Object(r.e)(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function i(e,t){var n;try{throw new Error("Sentry syntheticException")}catch(e){n=e}return a("captureException",e,{captureContext:t,originalException:e,syntheticException:n})}function s(e,t){var n;try{throw new Error(e)}catch(e){n=e}var i="string"!=typeof t?{captureContext:t}:void 0;return a("captureMessage",e,"string"==typeof t?t:void 0,Object(r.a)({originalException:e,syntheticException:n},i))}function u(e){return a("captureEvent",e)}function l(e){a("configureScope",e)}function c(e){a("addBreadcrumb",e)}function d(e,t){a("setContext",e,t)}function p(e){a("setExtras",e)}function f(e){a("setTags",e)}function h(e,t){a("setExtra",e,t)}function m(e,t){a("setTag",e,t)}function g(e){a("setUser",e)}function v(e){a("withScope",e)}function y(e,t){return a("startTransaction",Object(r.a)({},e),t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i,r={},o=(n.r(r),n.d(r,"FunctionToString",function(){return o}),n.d(r,"InboundFilters",function(){return h}),a.prototype.setupOnce=function(){i=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return i.apply(n,e)}},a.id="FunctionToString",a);function a(){this.name=a.id}var s=n(0),u=n(36),l=n(6),c=n(12),d=n(3),p=n(23),f=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],h=(m.prototype.setupOnce=function(){Object(u.b)(function(e){var t=Object(l.b)();if(t){var n=t.getIntegration(m);if(n){t=t.getClient(),t=t?t.getOptions():{},t=n._mergeOptions(t);if(n._shouldDropEvent(e,t))return null}}return e})},m.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(c.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(d.d)(e)),!0):this._isIgnoredError(e,t)?(c.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(d.d)(e)),!0):this._isDeniedUrl(e,t)?(c.a.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Object(d.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isAllowedUrl(e,t)&&(c.a.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Object(d.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},m.prototype._isSentryError=function(e,t){if(!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(e){return!1}},m.prototype._isIgnoredError=function(e,n){return!(!n.ignoreErrors||!n.ignoreErrors.length)&&this._getPossibleEventMessages(e).some(function(t){return n.ignoreErrors.some(function(e){return Object(p.a)(t,e)})})},m.prototype._isDeniedUrl=function(e,t){var n;return!(!t.denyUrls||!t.denyUrls.length||!(n=this._getEventFilterUrl(e)))&&t.denyUrls.some(function(e){return Object(p.a)(n,e)})},m.prototype._isAllowedUrl=function(e,t){var n;return!t.allowUrls||!t.allowUrls.length||!(n=this._getEventFilterUrl(e))||t.allowUrls.some(function(e){return Object(p.a)(n,e)})},m.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{allowUrls:Object(s.e)(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:Object(s.e)(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:Object(s.e)(this._options.ignoreErrors||[],e.ignoreErrors||[],f),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},m.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,i=void 0===n?"":n,r=e.value,o=void 0===r?"":r;return[""+o,i+": "+o]}catch(e){c.a.error("Cannot extract message for event "+Object(d.d)(t))}return[]},m.prototype._getEventFilterUrl=function(t){try{var e,n;return t.stacktrace?(e=t.stacktrace.frames)&&e[e.length-1].filename||null:t.exception&&(n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames)&&n[n.length-1].filename||null}catch(e){return c.a.error("Cannot extract url for event "+Object(d.d)(t)),null}},m.id="InboundFilters",m);function m(e){this._options=e=void 0===e?{}:e,this.name=m.id}},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return d});var o=n(0),a=n(9),i=n(50),s=n(3),r=n(12),u=0;function l(){return 0<u}function c(t,i,r){if(void 0===i&&(i={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}function e(){var n=Array.prototype.slice.call(arguments);try{r&&"function"==typeof r&&r.apply(this,arguments);var e=n.map(function(e){return c(e,i)});return t.handleEvent?t.handleEvent.apply(this,e):t.apply(this,e)}catch(t){throw u+=1,setTimeout(function(){--u}),Object(a.m)(function(e){e.addEventProcessor(function(e){e=Object(o.a)({},e);return i.mechanism&&(Object(s.b)(e,void 0,void 0),Object(s.a)(e,i.mechanism)),e.extra=Object(o.a)(Object(o.a)({},e.extra),{arguments:n}),e}),Object(a.c)(t)}),t}}try{for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}catch(e){}t.prototype=t.prototype||{},e.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:e}),Object.defineProperties(e,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(e,"name").configurable&&Object.defineProperty(e,"name",{get:function(){return t.name}})}catch(e){}return e}function d(e){var t;(e=void 0===e?{}:e).eventId?e.dsn?((t=document.createElement("script")).async=!0,t.src=new i.a(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad),(document.head||document.body).appendChild(t)):r.a.error("Missing dsn option in showReportDialog call"):r.a.error("Missing eventId option in showReportDialog call")}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(3),r=Object(i.e)(),o="Sentry Logger ",t=(a.prototype.disable=function(){this._enabled=!1},a.prototype.enable=function(){this._enabled=!0},a.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(i.c)(function(){r.console.log(o+"[Log]: "+e.join(" "))})},a.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(i.c)(function(){r.console.warn(o+"[Warn]: "+e.join(" "))})},a.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(i.c)(function(){r.console.error(o+"[Error]: "+e.join(" "))})},a);function a(){this._enabled=!1}r.__SENTRY__=r.__SENTRY__||{};var s=r.__SENTRY__.logger||(r.__SENTRY__.logger=new t)},function(e,t,n){"use strict";n.r(t),n.d(t,"LogLevel",function(){return i}),n.d(t,"SessionStatus",function(){return o.a}),n.d(t,"Severity",function(){return a.a}),n.d(t,"Status",function(){return s.a}),n.d(t,"TransactionSamplingMethod",function(){return r}),(t=i=i||{})[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose";var i,r,o=n(78),a=n(32),s=n(58);(t=r=r||{}).Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i,r=n(2),o=((t=i=i||{}).PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED",a.resolve=function(t){return new a(function(e){e(t)})},a.reject=function(n){return new a(function(e,t){t(n)})},a.all=function(e){return new a(function(n,i){var r,o;Array.isArray(e)?0===e.length?n([]):(r=e.length,o=[],e.forEach(function(e,t){a.resolve(e).then(function(e){o[t]=e,0==--r&&n(o)}).then(null,i)})):i(new TypeError("Promise.all requires an array as input."))})},a.prototype.then=function(i,r){var e=this;return new a(function(t,n){e._attachHandler({done:!1,onfulfilled:function(e){if(i)try{t(i(e))}catch(e){n(e)}else t(e)},onrejected:function(e){if(r)try{t(r(e))}catch(e){n(e)}else n(e)}})})},a.prototype.catch=function(e){return this.then(function(e){return e},e)},a.prototype.finally=function(r){var o=this;return new a(function(e,t){var n,i;o.then(function(e){i=!1,n=e,r&&r()},function(e){i=!0,n=e,r&&r()}).then(function(){(i?t:e)(n)})})},a.prototype.toString=function(){return"[object SyncPromise]"},a);function a(e){var n=this;this._state=i.PENDING,this._handlers=[],this._resolve=function(e){n._setResult(i.RESOLVED,e)},this._reject=function(e){n._setResult(i.REJECTED,e)},this._setResult=function(e,t){n._state===i.PENDING&&(Object(r.m)(t)?t.then(n._resolve,n._reject):(n._state=e,n._value=t,n._executeHandlers()))},this._attachHandler=function(e){n._handlers=n._handlers.concat(e),n._executeHandlers()},this._executeHandlers=function(){var e;n._state!==i.PENDING&&(e=n._handlers.slice(),n._handlers=[],e.forEach(function(e){e.done||(n._state===i.RESOLVED&&e.onfulfilled&&e.onfulfilled(n._value),n._state===i.REJECTED&&e.onrejected&&e.onrejected(n._value),e.done=!0)}))};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Severity",function(){return i.a}),n.d(t,"Status",function(){return r.a}),n.d(t,"addGlobalEventProcessor",function(){return o.b}),n.d(t,"addBreadcrumb",function(){return a.a}),n.d(t,"captureException",function(){return a.c}),n.d(t,"captureEvent",function(){return a.b}),n.d(t,"captureMessage",function(){return a.d}),n.d(t,"configureScope",function(){return a.e}),n.d(t,"getHubFromCarrier",function(){return s.c}),n.d(t,"getCurrentHub",function(){return s.b}),n.d(t,"Hub",function(){return s.a}),n.d(t,"makeMain",function(){return s.d}),n.d(t,"Scope",function(){return o.a}),n.d(t,"startTransaction",function(){return a.l}),n.d(t,"setContext",function(){return a.f}),n.d(t,"setExtra",function(){return a.g}),n.d(t,"setExtras",function(){return a.h}),n.d(t,"setTag",function(){return a.i}),n.d(t,"setTags",function(){return a.j}),n.d(t,"setUser",function(){return a.k}),n.d(t,"withScope",function(){return a.m}),n.d(t,"BrowserClient",function(){return u.a}),n.d(t,"injectReportDialog",function(){return l.a}),n.d(t,"eventFromException",function(){return c.a}),n.d(t,"eventFromMessage",function(){return c.b}),n.d(t,"defaultIntegrations",function(){return d.b}),n.d(t,"forceLoad",function(){return d.d}),n.d(t,"init",function(){return d.e}),n.d(t,"lastEventId",function(){return d.f}),n.d(t,"onLoad",function(){return d.g}),n.d(t,"showReportDialog",function(){return d.h}),n.d(t,"flush",function(){return d.c}),n.d(t,"close",function(){return d.a}),n.d(t,"wrap",function(){return d.i}),n.d(t,"SDK_NAME",function(){return p.a}),n.d(t,"SDK_VERSION",function(){return p.b}),n.d(t,"Integrations",function(){return v}),n.d(t,"Transports",function(){return g});var t=n(0),i=n(32),r=n(58),o=n(36),a=n(9),s=n(6),u=n(43),l=n(11),c=n(22),d=n(18),p=n(26),f=n(10),h=n(3),m=n(42),g=n(49),n={},h=Object(h.e)(),v=(h.Sentry&&h.Sentry.Integrations&&(n=h.Sentry.Integrations),Object(t.a)(Object(t.a)(Object(t.a)({},n),f.a),m))},function(e,n,t){"use strict";!function(r){var e=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},o=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},t=(Object.defineProperty(n,"__esModule",{value:!0}),n.UserModel=void 0,Object.defineProperty(a,"userType",{get:function(){return a.isPremium()?"premium":a.isUser()?"user":"guest"},enumerable:!1,configurable:!0}),a.isTeamManaged=function(){var e=window.userModel;return e&&null!=e.team_role&&"owner"!=e.team_role},a.hasSubscription=function(){var e=window.userModel;return"object"==typeof e&&null!=e&&null!=e.current_subscription},a.prototype.login=function(n){var i="//"+this.domain+"/"+this.loginUrl;return new Promise(function(t,e){r.post(i,n,function(e){window.ilovepdfConfig&&(window.ilovepdfConfig.fileLimits=e.user.limits,window.ilovepdfConfig.userToken=e.token),t(e)}).fail(e)})},a.prototype.register=function(n){var i="//"+this.domain+"/"+this.registerUrl;return new Promise(function(t,e){r.post(i,n,function(e){t(e)}).fail(e)})},a.prototype.sendResetPasswordEmail=function(n){var i="//"+this.domain+"/"+this.sendResetPasswordEmailUrl;return new Promise(function(t,e){r.post(i,n,function(e){t(e)}).fail(e)})},a.isLoggedIn=function(){return!!window.userModel},a.get=function(){return window.userModel},a.set=function(e){window.userModel=e},a.logout=function(){document.location.href=r(".logout").attr("href")},a.isUser=function(){var e=a.get();return"object"==typeof e&&null!=e},a.isPremium=function(){return a.isRealPremium()},a.isPremiumTemp=function(){return window.ilovepdfConfig&&"premium"==window.ilovepdfConfig.levelTemp},a.isTempPremium=function(){return a.isPremiumTemp()},a.isRealPremium=function(){var e=window.userModel;return"object"==typeof e&&null!=e&&e.premium},a.canDoTrial=function(){var e=window.userModel;return"object"==typeof e&&null!=e?e.can_trial:!!window.uct},a.refresh=function(r){return void 0===r&&(r=null),e(this,void 0,void 0,function(){var t,n,i;return o(this,function(e){switch(e.label){case 0:return[4,fetch(r?"/user/info/"+r:"/user/info")];case 1:return t=e.sent(),i=(n=JSON).parse,[4,t.json()];case 2:return t=i.apply(n,[e.sent()]),a.set(t.user),[2]}})})},a.removeAds=function(){var e=document.getElementsByClassName("add");e&&Array.from(e).forEach(function(e){e.remove()})},a.updateUser=function(e){window.userModel=e,window.ilovepdfConfig&&(window.ilovepdfConfig.user=e),1==a.isRealPremium()&&a.removeAds()},a.serviceToken=function(){var e=window.userModel;return e?e.token:null},a);function a(e){void 0===e&&(e={}),this.loginUrl="auth",this.registerUrl="signup",this.sendResetPasswordEmailUrl="login/forgetpassword",Object.assign(this,e);e="en-US"==window.lang?"":"/"+window.lang;this.domain=window.location.hostname+e}n.UserModel=t}.call(this,t(1))},function(e,r,o){"use strict";!function(i){Object.defineProperty(r,"__esModule",{value:!0}),r.Tools=void 0;var t=o(7);function n(){}n.isRtlPage=function(){var e=null!=document.dir?document.dir:document.getElementsByTagName("html")[0].getAttribute("dir");return"rtl"==e},n.sleep=function(n){return new Promise(function(e,t){setTimeout(e,n)})},n.bytesToSize=function(e){var t;return 0==e?"0 Byte":(t=Math.floor(Math.log(e)/Math.log(1024)),(e/Math.pow(1024,t)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB"][t])},n.mbytesToSize=function(e){return n.bytesToSize(1e6*e)},n.convertPointsToPixels=function(e){return e*(1+1/3)},n.strCapitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n.isRTL=function(){return i("body").hasClass("rtl")},n.isTextRTL=function(e){return new RegExp("^[^A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿]*[֑-߿יִ-﷽ﹰ-ﻼ]").test(e)},Object.defineProperty(n,"textDirection",{get:function(){return n.isRTL()?"right":"left"},enumerable:!1,configurable:!0}),n.getClosestNumber=function(e,t){for(var n=Math.abs(t[0]-e),i=0,r=1;r<t.length;r++){var o=Math.abs(t[r]-e);o<n&&(i=r,n=o)}return t[i]},n.modalView=function(e){var t='<div class="modal fade" id="'+e.id+'" aria-labelledby="'+e.id+'Modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog '+(e.size?"modal-"+e.size:"")+'" role="document"><div class="modal-content">',n='<div class="dialog__close" data-dismiss="modal" aria-label="Close"></div>';return"title"in e&&(t=t+('<div class="dialog__header"><h4 class="dialog__title">'+e.title)+"</h4>"+n+"</div>"),"content"in e?t=t+('<div class="dialog__body">'+(e.title?"":n)+e.content)+"</div>":t+='<div class="dialog__body"></div>',"btn"in e&&(t=t+('<div class="dialog__footer"><button type="button" class="btn" data-dismiss="modal">'+e.btn)+"</button></div>"),t+="</div></div></div>"},n.modalViewOk=function(e){return e.btn=t.Lang.t("Ok"),n.modalView(e)},n.dialogViewOk=function(e){return e.btn=t.Lang.t("Ok"),n.dialogView(e)},n.dialogView=function(e){var t=e.title,n=e.content,i=e.btn,r="<div>",o='<div class="dialog__close"></div>';return"title"in e&&(r=r+'<div class="dialog__header"><h4 class="dialog__title">'+t+"</h4>"+o+"</div>"),"content"in e?r=r+'<div class="dialog__body">'+(t?"":o)+n+"</div>":r+='<div class="dialog__body"></div>',"btn"in e&&(r=r+'<div class="dialog__footer"><button data-action=\'close\' type="button" class="btn">'+i+"</button></div>"),r+="</div>"},n.setInputCursorAtTheEnd=function(e){var t=e.val().length;e.focus(),e[0].setSelectionRange(t,t)},n.svgClose=function(){return n.svgRemove(12,12)},n.svgRotate=function(e,t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(e=void 0===e?14:e)+'" height="'+(t=void 0===t?16:t)+'" viewBox="0 0 14 16"><path d="M11.328 6.364l1.24-1.2c.79.98 1.283 2.113 1.433 3.288h-1.775c-.123-.735-.43-1.454-.896-2.088zm.896 3.778H14c-.15 1.175-.633 2.308-1.424 3.288l-1.24-1.2c.457-.634.765-1.344.888-2.088zm-.888 4.497C10.318 15.4 9.13 15.856 7.9 16v-1.716a5.31 5.31 0 0 0 2.162-.871l1.266 1.226zM6.152 2.595V0l4 3.846-4 3.76V4.302c-2.496.406-4.394 2.485-4.394 4.995s1.898 4.59 4.394 4.995V16C2.68 15.586 0 12.746 0 9.297s2.68-6.29 6.152-6.703z" fill="#47474F" fill-rule="evenodd"/></svg>'},n.svgRemove=function(e,t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(e=void 0===e?12:e)+'" height="'+(t=void 0===t?12:t)+'" viewBox="0 0 12 12"><polygon fill="#47474F" fill-rule="evenodd" points="12 1.208 10.79 0 6 4.792 1.21 0 0 1.208 4.79 6 0 10.792 1.21 12 6 7.208 10.79 12 12 10.792 7.21 6"/></svg>'},n.svgArrowRight=function(e,t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(e=void 0===e?12:e)+'" height="'+(t=void 0===t?12:t)+'" viewBox="0 0 448 512"><path d="M313.94 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.94v46.06c0 21.382 25.85 32.1 40.97 16.97l86.06-86.06c9.373-9.373 9.373-24.57 0-33.94l-86.06-86.06c-15.12-15.12-40.97-4.41-40.97 16.97V216z"/></svg>'},n.svgHome=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="26" height="21"><path d="M22.028 12.67v6.468a1.08 1.08 0 0 1-1.083 1.083h-5.236c-.298 0-.542-.244-.542-.542v-5.056c0-.298-.244-.542-.542-.542h-3.25c-.298 0-.542.244-.542.542v5.056c0 .298-.244.542-.542.542H5.056a1.08 1.08 0 0 1-1.083-1.083V12.67a.54.54 0 0 1 .199-.42l8.486-6.987a.55.55 0 0 1 .691 0l8.486 6.987c.122.104.194.257.194.42zm3.774-2.75l-3.774-3.1V.56c0-.298-.244-.542-.542-.542h-2.528c-.298 0-.542.244-.542.542v3.277L14.377.5c-.8-.66-1.955-.66-2.753 0L.2 9.922c-.23.2-.262.533-.072.763l1.15 1.4c.2.23.533.262.763.072l10.617-8.743a.55.55 0 0 1 .691 0l10.617 8.743c.23.2.573.158.763-.072l1.15-1.4c.2-.235.153-.573-.077-.763z"/></svg>'},n.randomId=function(){for(var e="";e.length<8;)e+=Math.random().toString(36).replace(/[^a-z]+/g,"");return e.slice(0,8)},n.uuid=function(){return Date.now()+"-"+Math.floor(Math.random()*Date.now()/100)},n.actionId=function(){return window.aid=window.aid||n.uuid(),window.aid},n.colorpicker=function(t){var e=null,e=1==i(t).data("limit")?{preferredFormat:"hex",showPaletteOnly:!0,color:"blanchedalmond",palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]]}:{allowEmpty:!0,showInitial:!0,preferredFormat:"hex"};1==i(t).data("input")&&(e.showInput=!0),1==i(t).data("empty")&&(e.allowEmpty=!0,1==i(t).data("limit")&&e.palette.push(["transparent"]),e.change=function(e){e=0===e._a?"transparent":e.toHexString(),i(t).val(e)}),1==i(t).data("inline")&&(e.flat=!0),1==i(t).data("aplha")&&(e.showAlpha=!0),e.clickoutFiresChange=!0;try{i(t).spectrum(e)}catch(t){}},n.isElementInView=function(e,t){return void 0===t&&(t=!1),0!=e.length&&(0==t?e.offset().top<i(window).height()&&60<e.offset().top+e.height():e.offset().top+e.height()<i(window).height()&&60<e.offset().top)},n.keepInNumericBounds=function(e,t,n){return null!==e&&n<e&&(n=e),n=null!==t&&t<n?t:n},n.scrollControl=function(t,n,i){var r=0;t.scroll(function(){var e=t.scrollTop();r<e&&"function"==typeof i&&i(),e<r&&"function"==typeof n&&n(),r=e})},n.loadingFromPreviousStart=function(){var e=i(".fromPrevious");0<=e.length||(e=i('<div class="wait fromPrevious">'+t.Lang.t("previousTaskLoading")+"</div>"),i(".main").append(e)),e.css("display","flex")},n.loadingFromPreviousFail=function(){var e="<div><p>"+t.Lang.t("previousFail")+'</p><p></p><p><button class="btn" onclick="window.history.go(-1); return false;">'+t.Lang.t("previousFailBack")+'</button> <button class="btn btn--red" id="closePrevious">'+t.Lang.t("previousFailContinue")+"</button></p></div>";i(".fromPrevious").html(e).css("background-image","none")},n.loadingFromPreviousEnd=function(){i(".fromPrevious").remove()},n.serializeFormData=function(e){var t={};try{for(var n=0,i=e.entries();n<i.length;n++){var r=i[n],o=r[0],a=r[1];t[o]=a}}catch(e){}return t={info:"form data serialize failed"}},n.parseTemplate=function(n,e,t){return void 0===t&&(t="simple"),null!=(e=void 0===e?null:e)&&("simple"==t&&i.each(e,function(e,t){n=n.replace("{"+e+"}",t)}),"dollar"==t)&&i.each(e,function(e,t){n=n.replace("${"+e+"}",t)}),n},n.isEmail=function(e){return!!/^\w+([\+\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w+)+$/.test(e)},n.getBrowserTimezone=function(){var e,t="UTC";return t=window.Intl&&window.Intl.DateTimeFormat()&&(e=window.Intl.DateTimeFormat().resolvedOptions().timeZone)?e:t},r.Tools=n}.call(this,o(1))},function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"e",function(){return l}),n.d(t,"h",function(){return m}),n.d(t,"f",function(){return g}),n.d(t,"d",function(){return v}),n.d(t,"g",function(){return y}),n.d(t,"c",function(){return b}),n.d(t,"a",function(){return _}),n.d(t,"i",function(){return w});var t=n(10),c=n(56),d=n(6),p=n(3),i=n(14),f=n(43),r=n(11),o=n(52),a=n(51),s=n(53),u=n(54),n=n(55),h=[new t.a.InboundFilters,new t.a.FunctionToString,new o.a,new a.a,new s.a,new u.a,new n.a];function l(e){var t;if(void 0===(e=void 0===e?{}:e).defaultIntegrations&&(e.defaultIntegrations=h),void 0===e.release&&(t=Object(p.e)()).SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!1),Object(c.a)(f.a,e),e.autoSessionTracking){function n(){s&&a&&o.endSession()}function i(){a=!0,n(),r.removeEventListener("load",i)}var r=Object(p.e)(),o=Object(d.b)(),a="complete"===document.readyState,s=!1;o.startSession(),a||r.addEventListener("load",i);try{var u=new PerformanceObserver(function(e,t){e.getEntries().forEach(function(e){"first-contentful-paint"===e.name&&e.startTime<l&&(t.disconnect(),s=!0,n())})}),l="hidden"===document.visibilityState?0:1/0;document.addEventListener("visibilitychange",function(e){l=Math.min(l,e.timeStamp)},{once:!0}),u.observe({type:"paint",buffered:!0})}catch(e){s=!0,n()}}}function m(e){(e=void 0===e?{}:e).eventId||(e.eventId=Object(d.b)().lastEventId());var t=Object(d.b)().getClient();t&&t.showReportDialog(e)}function g(){return Object(d.b)().lastEventId()}function v(){}function y(e){e()}function b(e){var t=Object(d.b)().getClient();return t?t.flush(e):i.a.reject(!1)}function _(e){var t=Object(d.b)().getClient();return t?t.close(e):i.a.reject(!1)}function w(e){return Object(r.c)(e)()}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i="<anonymous>";function r(e){try{return e&&"function"==typeof e?e.name||i:i}catch(e){return i}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var t=n(0),i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e});r=Error,Object(t.b)(a,r);var r,o=a;function a(e){var t=this.constructor,n=r.call(this,e)||this;return n.message=e,n.name=t.prototype.constructor.name,i(n,t.prototype),n}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},a=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},s=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},u=(Object.defineProperty(t,"__esModule",{value:!0}),t.StateBase=void 0,n(7)),l=n(25),c=n(8),d=n(34),p=o(n(15));function f(){var r=this;this.wasDomReadyExecutedBefore=!1,this.loadingElem=null,this.backdropElem=null,this.runTooltip=!0,this.showBackdrop=function(e,t,n){var i=r.appendBackdropElement(),e=(i.innerHTML="",e.classList.add("ilove-backdrop__content"),i.appendChild(e),i.querySelector(".ilove-backdrop__title")),t=(e.querySelector(".ilove-backdrop__title__text").innerHTML=null!=t?t:"",i.querySelector(".ilove-backdrop__subtitle"));t.querySelector(".ilove-backdrop__subtitle__text").innerHTML=null!=n?n:"",i.classList.add("ilove-backdrop--visible"),r.domRoot.style.overflow="hidden",e.addEventListener("click",function(){r._backdrop_click_callback1&&r._backdrop_click_callback1()}),t.addEventListener("click",function(){r._backdrop_click_callback2&&r._backdrop_click_callback2()})},this.setBackdropCallback=function(e,t){r._backdrop_click_callback1=e,r._backdrop_click_callback2=t},this.clearBackdrop=function(){var e;null!=(e=r.backdropElem)&&e.classList.remove("ilove-backdrop--visible"),r.domRoot.style.overflow="",r.setBackdropCallback(null,null)},this._onLayoutTemplateLoaded=function(){r.ctx._onDomReady(r.domRoot),r.dispatchEvent(new c.IloveEvent("unsetContentAbandonment")),!0===r.runTooltip&&d.Tooltip.init(),r.onDomReady(),r.wasDomReadyExecutedBefore=!0},this.showLoadingScreen=function(){r.appendLoadingElement().classList.add("wait--visible"),r.domRoot.style.overflow="hidden"},this.clearLoadingScreen=function(){var e;null!=(e=r.loadingElem)&&e.classList.remove("wait--visible"),r.domRoot.style.overflow=""},this.deleteLoadingElements=function(){r.domRoot.parentNode.querySelectorAll("state-wait").forEach(function(e){return e.parentElement.removeChild(e)})},this.cleanup=function(){var e=r.loadingElem;e&&e.parentElement&&e.parentElement.removeChild(e)},this.goToPreviousStateButtonIsVisible=function(){var e=r.domStateRoot.querySelector(".dialog__back");return!!e&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},this.t=function(e,t){if(r._t){if(e in r._t)return u.Lang.tr(r._t[e],t);throw"Key '"+e+"' not found"}var n=r.domRoot.querySelector("[data-state='"+r.name+"'] .text-translations");if(!n)throw"Text translations for state '"+r.name+"' not found";if("html"===n.dataset.format){var i=n.querySelector("[data-key="+e+"]");if(i)return i=i.innerHTML,u.Lang.tr(i,t);throw"Key '"+e+"' not found"}if(r._t=JSON.parse(n.textContent),"object"!=typeof r._t)throw"Translation object not found";return r.t(e,t)},this.eventEmitter=new l.ILoveEventEmitter}f.prototype.render=function(e,t){var n=this;void 0===t&&(t={}),this.domRoot=e,this.ctx.isInline?(this.showCurrentStateScreens(),this._onLayoutTemplateLoaded()):this.getTemplateParameters(this.LAYOUT_TEMPLATE_NAME).then(function(e){e=Object.assign({},e,t);n.loadTemplateOn(n.LAYOUT_TEMPLATE_NAME,n.domRoot,e).then(function(){n.showLoadingScreen(),n.showCurrentStateScreens().then(n._onLayoutTemplateLoaded).catch(function(e){throw e})}).catch(function(e){e="Problem loading template "+n.LAYOUT_TEMPLATE_NAME+": "+e;throw p.captureMessage(e),e})}).catch(function(e){e="Problem getting template params. Reason: "+e;throw p.captureMessage(e),e})},f.prototype.reset=function(){},f.prototype.getTemplateParameters=function(e){return a(this,void 0,void 0,function(){return s(this,function(e){return[2,{cache:!0,queryParams:null}]})})},f.prototype.appendLoadingElement=function(){var e=this.domRoot;return this.loadingElem||(this.loadingElem=document.createElement("div"),this.loadingElem.classList.add("state-wait","wait","wait--animated","wait--sm"),e.parentNode.appendChild(this.loadingElem)),this.loadingElem},f.prototype.appendBackdropElement=function(){var e=this.domRoot;return this.backdropElem||(this.backdropElem=document.createElement("div"),this.backdropElem.classList.add("ilove-backdrop","ilove-backdrop--animated","ilove-backdrop--sm"),e.parentNode.appendChild(this.backdropElem)),this.backdropElem},f.prototype.isTemplateAppended=function(e){return this.ctx.appendedTemplates.includes(e)},f.prototype.loadTemplateOn=function(i,r,e){var o=this,t=this.isTemplateAppended(i),n=e&&!0===e.cache,a=e&&!0===(null==e?void 0:e.clearDom);return n&&t?(a&&(r.innerHTML=this.ctx.getCachedTemplateHtml(i)),Promise.resolve()):new Promise(function(t,n){o.ctx.getTemplateViaAjax(i,e.queryParams,{useCache:e.cache}).then(function(e){o.ctx.appendedTemplates.includes(i)||o.ctx.appendedTemplates.push(i),r.innerHTML=e,t()},function(e){n()})})},f.prototype.showCurrentStateScreens=function(){return a(this,void 0,void 0,function(){var t,n,i;return s(this,function(e){switch(e.label){case 0:if(this.domRoot.querySelectorAll("[data-state]").forEach(function(e){return e.style.display="none"}),t=this.domRoot.querySelector("[data-state='"+this.name+"']"))return t.style.display="",(n=t.getAttribute("data-template-name"))?[4,this.getTemplateParameters(n)]:[3,2];throw"Template container for '"+this.name+"' state not found";case 1:return i=e.sent(),[2,this.loadTemplateOn(n,t,i)];case 2:return[2,Promise.resolve()]}})})},f.prototype.changeScreen=function(e){this.domRoot.querySelectorAll("[data-state='"+this.name+"'] [data-screen]").forEach(function(e){e.style.display="none"});var t=this.domRoot.querySelector("[data-state="+this.name+"] [data-screen='"+e+"']");if(!t)throw"Screen '"+e+"' for state '"+this.name+"' not found";t.style.display="",this.currentScreen=t},f.prototype.setContext=function(e){this.ctx=e},Object.defineProperty(f.prototype,"domStateRoot",{get:function(){var e=this.domRoot.querySelector("[data-state="+this.name+"]");if(e)return e;throw"Dom State root for "+this.name+" not found"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"dialogCloseBtn",{get:function(){return this.domStateRoot.querySelector(".dialog__close")},enumerable:!1,configurable:!0}),f.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},f.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},t.StateBase=f},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p});var a=n(0),r=n(32),s=n(3),o=n(14),u=n(2),l=n(28),c=n(24);function i(e,t,n){t=p(t,n&&n.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return Object(s.a)(t,{handled:!0,type:"generic"}),t.level=r.a.Error,n&&n.event_id&&(t.event_id=n.event_id),o.a.resolve(t)}function d(e,t,n,i){void 0===n&&(n=r.a.Info);t=f(t,i&&i.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return t.level=n,i&&i.event_id&&(t.event_id=i.event_id),o.a.resolve(t)}function p(e,t,n){var i,r,o;if(void 0===n&&(n={}),Object(u.e)(e)&&e.error)return e=e.error,r=Object(l.b)(Object(c.a)(e));if(Object(u.a)(e)||Object(u.b)(e))o=(i=e).name||(Object(u.a)(i)?"DOMError":"DOMException"),r=f(o=i.message?o+": "+i.message:o,t,n),Object(s.b)(r,o),"code"in i&&(r.tags=Object(a.a)(Object(a.a)({},r.tags),{"DOMException.code":""+i.code}));else{if(Object(u.d)(e))return r=Object(l.b)(Object(c.a)(e));Object(u.h)(e)||Object(u.f)(e)?(o=e,r=Object(l.a)(o,t,n.rejection)):(r=f(e,t,n),Object(s.b)(r,""+e,void 0)),Object(s.a)(r,{synthetic:!0})}return r}function f(e,t,n){e={message:e};return(n=void 0===n?{}:n).attachStacktrace&&t&&(n=Object(c.a)(t),t=Object(l.d)(n.stack),e.stacktrace={frames:t}),e}},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var i=n(2);function r(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function o(e,t){var n,i=e.length;return i<=150||(i<t&&(t=i),(t=Math.max(t-60,0))<5&&(t=0),(n=i-5<(n=Math.min(t+140,i))?i:n)===i&&(t=Math.max(n-140,0)),e=e.slice(t,n),0<t&&(e="'{snip} "+e),n<i&&(e+=" {snip}")),e}function a(e,t){if(!Array.isArray(e))return"";for(var n=[],i=0;i<e.length;i++){var r=e[i];try{n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function s(e,t){return!!Object(i.k)(e)&&(Object(i.j)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(0),l="?",s=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,c=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,d=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,p=/\((\S*)(?::(\d+))(?::(\d+))\)/,r=/Minified React error #\d+;/i;function o(e){var t=null,n=0;e&&("number"==typeof e.framesToPop?n=e.framesToPop:r.test(e.message)&&(n=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=e.stacktrace,i=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=n.split("\n"),a=[],s=0;s<o.length;s+=2){var u=null;(t=i.exec(o[s]))?u={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=r.exec(o[s]))&&(u={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),u&&(!u.func&&u.line&&(u.func=l),a.push(u))}return a.length?{message:f(e),name:e.name,stack:a}:null}(e))return a(t,n)}catch(e){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,i=[],r=e.stack.split("\n"),o=0;o<r.length;++o){if(n=s.exec(r[o])){var a=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=p.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),a={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||l,args:a?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=c.exec(r[o]))a={url:n[2],func:n[1]||l,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=u.exec(r[o])))continue;n[3]&&-1<n[3].indexOf(" > eval")&&(t=d.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==o||n[5]||void 0===e.columnNumber||(i[0].column=e.columnNumber+1),a={url:n[3],func:n[1]||l,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!a.func&&a.line&&(a.func=l),i.push(a)}return i.length?{message:f(e),name:e.name,stack:i}:null}(e))return a(t,n)}catch(e){}return{message:f(e),name:e&&e.name,stack:[],failed:!0}}function a(t,e){try{return Object(i.a)(Object(i.a)({},t),{stack:t.stack.slice(e)})}catch(e){return t}}function f(e){e=e&&e.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}},function(e,t,n){"use strict";function i(){this._eventEmitterCallbacks={}}Object.defineProperty(t,"__esModule",{value:!0}),t.ILoveEventEmitter=void 0,i.prototype.addEventListener=function(e,t){e in this._eventEmitterCallbacks||(this._eventEmitterCallbacks[e]=[]),this._eventEmitterCallbacks[e].push(t)},i.prototype.dispatchEvent=function(t){t.name in this._eventEmitterCallbacks&&this._eventEmitterCallbacks[t.name].forEach(function(e){return e(t)});var e=new Event(t.name);document.dispatchEvent(e)},t.ILoveEventEmitter=i},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var i="sentry.javascript.browser",r="5.30.0"},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r});var o=n(0);function i(e,t){return{body:JSON.stringify({sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(e),type:"session",url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function r(e,t){var n=e.tags||{},i=n.__sentry_samplingMethod,r=n.__sentry_sampleRate,n=Object(o.d)(n,["__sentry_samplingMethod","__sentry_sampleRate"]),n=(e.tags=n,"transaction"===e.type),t={body:JSON.stringify(e),type:e.type||"event",url:n?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};return n&&(n=JSON.stringify({event_id:e.event_id,sent_at:(new Date).toISOString()}),e=JSON.stringify({type:e.type,sample_rates:[{id:i,rate:r}]}),t.body=n+"\n"+e+"\n"+t.body),t}},function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return c});var i=n(2),r=n(5),o=n(24),a=50;function s(e){var t=c(e.stack),e={type:e.name,value:e.message};return t&&t.length&&(e.stacktrace={frames:t}),void 0===e.type&&""===e.value&&(e.value="Unrecoverable error caught"),e}function u(e,t,n){n={exception:{values:[{type:Object(i.f)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(r.b)(e)}]},extra:{__serialized__:Object(r.e)(e)}};return t&&(e=c(Object(o.a)(t).stack),n.stacktrace={frames:e}),n}function l(e){return{exception:{values:[s(e)]}}}function c(e){var t,n;return e&&e.length?(e=(t=e)[0].func||"",n=t[t.length-1].func||"",-1===e.indexOf("captureMessage")&&-1===e.indexOf("captureException")||(t=t.slice(1)),(t=-1!==n.indexOf("sentryWrapped")?t.slice(0,-1):t).slice(0,a).map(function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}}).reverse()):[]}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o,u=n(0),l=n(2),c=n(12),t=n(3),d=n(5),s=n(19),r=n(44),p=Object(t.e)(),f={},h={};function i(e){var i,a,s,t;if(!h[e])switch(h[e]=!0,e){case"console":"console"in p&&["debug","info","warn","error","log","assert"].forEach(function(i){i in p.console&&Object(d.c)(p.console,i,function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];m("console",{args:e,level:i}),n&&Function.prototype.apply.call(n,p.console,e)}})});break;case"dom":"document"in p&&(p.document.addEventListener("click",_("click",m.bind(null,"dom")),!1),p.document.addEventListener("keypress",w(m.bind(null,"dom")),!1),["EventTarget","Node"].forEach(function(e){e=p[e]&&p[e].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Object(d.c)(e,"addEventListener",function(i){return function(e,t,n){return t&&t.handleEvent?("click"===e&&Object(d.c)(t,"handleEvent",function(t){return function(e){return _("click",m.bind(null,"dom"))(e),t.call(this,e)}}),"keypress"===e&&Object(d.c)(t,"handleEvent",function(t){return function(e){return w(m.bind(null,"dom"))(e),t.call(this,e)}})):("click"===e&&_("click",m.bind(null,"dom"),!0)(this),"keypress"===e&&w(m.bind(null,"dom"))(this)),i.call(this,e,t,n)}}),Object(d.c)(e,"removeEventListener",function(i){return function(e,t,n){try{i.call(this,e,t.__sentry_wrapped__,n)}catch(e){}return i.call(this,e,t,n)}}))}));break;case"xhr":"XMLHttpRequest"in p&&(a=[],s=[],t=XMLHttpRequest.prototype,Object(d.c)(t,"open",function(o){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];function i(){if(4===r.readyState){try{r.__sentry_xhr__&&(r.__sentry_xhr__.status_code=r.status)}catch(e){}try{var e,t=a.indexOf(r);-1!==t&&(a.splice(t),e=s.splice(t)[0],r.__sentry_xhr__)&&void 0!==e[0]&&(r.__sentry_xhr__.body=e[0])}catch(e){}m("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}}var r=this,t=n[1];r.__sentry_xhr__={method:Object(l.k)(n[0])?n[0].toUpperCase():n[0],url:n[1]},Object(l.k)(t)&&"POST"===r.__sentry_xhr__.method&&t.match(/sentry_key/)&&(r.__sentry_own_request__=!0);return"onreadystatechange"in r&&"function"==typeof r.onreadystatechange?Object(d.c)(r,"onreadystatechange",function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(),n.apply(r,e)}}):r.addEventListener("readystatechange",i),o.apply(r,n)}}),Object(d.c)(t,"send",function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.push(this),s.push(e),m("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),n.apply(this,e)}}));break;case"fetch":Object(r.c)()&&Object(d.c)(p,"fetch",function(i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={args:e,fetchData:{method:function(e){void 0===e&&(e=[]);if("Request"in p&&Object(l.g)(e[0],Request)&&e[0].method)return String(e[0].method).toUpperCase();if(e[1]&&e[1].method)return String(e[1].method).toUpperCase();return"GET"}(e),url:function(e){void 0===e&&(e=[]);if("string"==typeof e[0])return e[0];if("Request"in p&&Object(l.g)(e[0],Request))return e[0].url;return String(e[0])}(e)},startTimestamp:Date.now()};return m("fetch",Object(u.a)({},n)),i.apply(p,e).then(function(e){return m("fetch",Object(u.a)(Object(u.a)({},n),{endTimestamp:Date.now(),response:e})),e},function(e){throw m("fetch",Object(u.a)(Object(u.a)({},n),{endTimestamp:Date.now(),error:e})),e})}});break;case"history":Object(r.b)()&&(i=p.onpopstate,p.onpopstate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=p.location.href;if(m("history",{from:o,to:o=n}),i)return i.apply(this,e)},Object(d.c)(p.history,"pushState",n),Object(d.c)(p.history,"replaceState",n));break;case"error":E=p.onerror,p.onerror=function(e,t,n,i,r){return m("error",{column:i,error:r,line:n,msg:e,url:t}),!!E&&E.apply(this,arguments)};break;case"unhandledrejection":S=p.onunhandledrejection,p.onunhandledrejection=function(e){return m("unhandledrejection",e),!S||S.apply(this,arguments)};break;default:c.a.warn("unknown instrumentation type:",e)}function n(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,i=2<e.length?e[2]:void 0;return i&&(n=o,i=String(i),m("history",{from:n,to:o=i})),r.apply(this,e)}}}function a(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(f[e.type]=f[e.type]||[],f[e.type].push(e.callback),i(e.type))}function m(t,e){var n,i;if(t&&f[t])try{for(var r=Object(u.f)(f[t]||[]),o=r.next();!o.done;o=r.next()){var a=o.value;try{a(e)}catch(e){c.a.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+Object(s.a)(a)+"\nError: "+e)}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}var g,v,y=1e3,b=0;function _(t,n,i){return void 0===i&&(i=!1),function(e){g=void 0,e&&v!==e&&(v=e,b&&clearTimeout(b),i?b=setTimeout(function(){n({event:e,name:t})}):n({event:e,name:t}))}}function w(i){return function(e){var t;try{t=e.target}catch(e){return}var n=t&&t.tagName;n&&("INPUT"===n||"TEXTAREA"===n||t.isContentEditable)&&(g||_("input",i)(e),clearTimeout(g),g=setTimeout(function(){g=void 0},y))}}var E=null;var S=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lazyload=void 0,t.lazyload=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n="async");for(var i=document.getElementsByTagName("script"),r=i.length;r--;)if(i[r].src.match(e))return!0;var o,a,s=document.createElement("script");for(o in s.type="text/javascript",0 in document.createElement("script"),"defer"in document.createElement("script")&&(s.defer=!0),s.src=e,t)t.hasOwnProperty(o)&&(a=t[o],s.setAttribute(o,a));return(n=document.getElementsByTagName("script")[0]).parentNode.insertBefore(s,n),!0}},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var i,r;n.d(t,"a",function(){return i}),(n=i=i||{}).Fatal="fatal",n.Error="error",n.Warning="warning",n.Log="log",n.Info="info",n.Debug="debug",n.Critical="critical",(r=i=i||{}).fromString=function(e){switch(e){case"debug":return r.Debug;case"info":return r.Info;case"warn":case"warning":return r.Warning;case"error":return r.Error;case"fatal":return r.Fatal;case"critical":return r.Critical;default:return r.Log}}},function(e,n,i){var s;!function(r){"use strict";function a(t,n,i){var r,o=document.createElement("img");return o.onerror=function(e){return a.onerror(o,e,t,n,i)},o.onload=function(e){return a.onload(o,e,t,n,i)},"string"==typeof t?(a.fetchBlob(t,function(e){e&&a.isInstanceOf("Blob",e)?(t=e,r=a.createObjectURL(t)):(r=t,i&&i.crossOrigin&&(o.crossOrigin=i.crossOrigin)),o.src=r},i),o):a.isInstanceOf("Blob",t)||a.isInstanceOf("File",t)?(r=o._objectURL=a.createObjectURL(t))?(o.src=r,o):a.readFile(t,function(e){var t=e.target;t&&t.result?o.src=t.result:n&&n(e)}):void 0}var t=r.createObjectURL&&r||r.URL&&URL.revokeObjectURL&&URL||r.webkitURL&&webkitURL;function o(e,t){!e._objectURL||t&&t.noRevoke||(a.revokeObjectURL(e._objectURL),delete e._objectURL)}a.fetchBlob=function(e,t){t()},a.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},a.transform=function(e,t,n,i,r){n(e,r)},a.onerror=function(e,t,n,i,r){o(e,r),i&&i.call(e,t)},a.onload=function(e,t,n,i,r){o(e,r),i&&a.transform(e,r,i,n,{originalWidth:e.naturalWidth||e.width,originalHeight:e.naturalHeight||e.height})},a.createObjectURL=function(e){return!!t&&t.createObjectURL(e)},a.revokeObjectURL=function(e){return!!t&&t.revokeObjectURL(e)},a.readFile=function(e,t,n){if(r.FileReader){var i=new FileReader;if(i.onload=i.onerror=t,i[n=n||"readAsDataURL"])return i[n](e),i}return!1},void 0!==(s=function(){return a}.call(n,i,n,e))&&(e.exports=s)}("undefined"!=typeof window&&window||this)},function(e,s,u){"use strict";!function(i){var r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},t=(Object.defineProperty(s,"__esModule",{value:!0}),s.Tooltip=void 0,e(u(30))),n=u(73),e=(a.compat=function(){(-1!==navigator.appVersion.indexOf("MSIE 10")||0<=navigator.userAgent.indexOf(" UCBrowser/")||0<=navigator.userAgent.indexOf("Opera Mini")||0<=navigator.userAgent.indexOf("Android")&&4.4<parseFloat(navigator.userAgent.slice(navigator.userAgent.indexOf("Android")+8)))&&t.lazyload("//cdn.jsdelivr.net/npm/mutationobserver-shim/dist/mutationobserver.min.js")},a.init=function(e){void 0===e&&(e=null),window.tippy&&(i(e=null==e?".tooltip":e).each(function(e,t){i(t)[0]._tippy||(window._tippyInstances=window._tippyInstances||[],t=window.tippy(i(t)[0],a.getOptions(t)),window._tippyInstances.push(t))}),n.LinkTitle.disable(e),i(e).hover(function(){if(i(this).hasClass("rotate")||i(this).hasClass("remove"))try{var e=i(this).parent().parent()[0]._tippy;e&&(e.hide(),e.disable())}catch(e){}},function(){if(i(this).hasClass("rotate")||i(this).hasClass("remove"))try{var e=i(this).parent().parent()[0]._tippy;e&&e.enable()}catch(e){}}),i(".tooltip").on("mouseenter",function(e){e.preventDefault()}))},a.getOptions=function(e){var t={animation:"fade",delay:[0,0],offset:[0,20],allowHTML:!0,content:i(e).is("[data-title]")?i(e).attr("data-title"):i(e).attr("title"),arrow:!0,placement:a.getPlacement(e),showOnCreate:i(e).hasClass("tooltip--show"),hideOnClick:!i(e).hasClass("tooltip--fixed"),theme:i(e).is("[data-theme]")?i(e).attr("data-theme"):""};return i(e).is("[data-z]")&&(t.zIndex=i(e).attr("data-z")),t},a.getPlacement=function(e){e=i(e);return e.hasClass("tooltip--top")?"top":e.hasClass("tooltip--top-start")?"top-start":e.hasClass("tooltip--top-end")?"top-end":e.hasClass("tooltip--bottom")?"bottom":e.hasClass("tooltip--left")?"left":e.hasClass("tooltip--right")?"right":"top"},a.setContent=function(e,n){if(1==i(e).length)return i(e).attr("title",n),i(e).attr("data-title",n),i(e)[0]._tippy?(i(e)[0]._tippy.hide(),void i(e)[0]._tippy.setContent(n)):void a.init(e);i(e).each(function(e,t){a.setContent(t,n)})},a.show=function(e,t){void 0===t&&(t=null);var n;i(e)[0];0!=i(e).length&&("_tippy"in i(e)[0]||a.init(i(e)),n=i(e)[0]._tippy,i(e).is(":disabled")?(i(e).attr("disabled",!1),n.show(),setTimeout(function(){i(e).attr("disabled",!0)},100)):n.show(),null!=t)&&setTimeout(function(){i(e)[0]._tippy.hide()},t)},a.shake=function(e){var t=i(e)[0]._tippy;window.setTimeout(function(){i(t.popper).children().addClass("shake")},500)},a.hide=function(e){try{i(e)[0]._tippy.hide()}catch(e){}},a.enable=function(e){if(1==i(e).length)try{i(e)[0]._tippy.enable()}catch(e){}else i(e).each(function(e,t){a.enable(t)})},a.disable=function(e){if(1==i(e).length)try{i(e)[0]._tippy.hide(),i(e)[0]._tippy.disable()}catch(e){}else i(e).each(function(e,t){a.disable(t)})},a.destroy=function(e){if(1==i(e).length)try{i(e)}catch(e){}else i(e).each(function(e,t){a.destroy(t)})},a.wrapDisabled=function(e){i(e).wrap("<div class='tootlip-wrap'></div>")},a);function a(){}s.Tooltip=e,window.tootip=e}.call(this,u(1))},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var m=n(0),i=n(50),a=n(58),r=n(20),o=n(14),s=(u.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},u.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then(function(){return t.remove(e)}).then(null,function(){return t.remove(e).then(null,function(){})}),e):o.a.reject(new r.a("Not adding Promise due to buffer limit reached."))},u.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},u.prototype.length=function(){return this._buffer.length},u.prototype.drain=function(n){var i=this;return new o.a(function(e){var t=setTimeout(function(){n&&0<n&&e(!1)},n);o.a.all(i._buffer).then(function(){clearTimeout(t),e(!0)}).then(null,function(){e(!0)})})},u);function u(e){this._limit=e,this._buffer=[]}var l=n(12),g=n(3),c=(d.prototype.sendEvent=function(e){throw new r.a("Transport Class has to implement `sendEvent` method")},d.prototype.close=function(e){return this._buffer.drain(e)},d.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,i=e.headers,r=e.resolve,e=e.reject,o=a.a.fromHttpCode(n.status);this._handleRateLimit(i)&&l.a.warn("Too many requests, backing off until: "+this._disabledUntil(t)),o===a.a.Success?r({status:o}):e(n)},d.prototype._disabledUntil=function(e){return this._rateLimits[e]||this._rateLimits.all},d.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},d.prototype._handleRateLimit=function(e){var t,n,i,r,o=Date.now(),a=e["x-sentry-rate-limits"],e=e["retry-after"];if(a){try{for(var s=Object(m.f)(a.trim().split(",")),u=s.next();!u.done;u=s.next()){var l=u.value.split(":",2),c=parseInt(l[0],10),d=1e3*(isNaN(c)?60:c);try{i=void 0;for(var p=Object(m.f)(l[1].split(";")),f=p.next();!f.done;f=p.next()){var h=f.value;this._rateLimits[h||"all"]=new Date(o+d)}}catch(e){i={error:e}}finally{try{f&&!f.done&&(r=p.return)&&r.call(p)}finally{if(i)throw i.error}}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return!0}return!!e&&(this._rateLimits.all=new Date(o+Object(g.g)(o,e)),!0)},d);function d(e){this.options=e,this._buffer=new s(30),this._rateLimits={},this._api=new i.a(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return d});var u=n(0),l=n(2),i=n(104),c=n(14),r=n(3),o=(a.clone=function(e){var t=new a;return e&&(t._breadcrumbs=Object(u.e)(e._breadcrumbs),t._tags=Object(u.a)({},e._tags),t._extra=Object(u.a)({},e._extra),t._contexts=Object(u.a)({},e._contexts),t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=Object(u.e)(e._eventProcessors)),t},a.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},a.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},a.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},a.prototype.getUser=function(){return this._user},a.prototype.setTags=function(e){return this._tags=Object(u.a)(Object(u.a)({},this._tags),e),this._notifyScopeListeners(),this},a.prototype.setTag=function(e,t){var n;return this._tags=Object(u.a)(Object(u.a)({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},a.prototype.setExtras=function(e){return this._extra=Object(u.a)(Object(u.a)({},this._extra),e),this._notifyScopeListeners(),this},a.prototype.setExtra=function(e,t){var n;return this._extra=Object(u.a)(Object(u.a)({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},a.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},a.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},a.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},a.prototype.setTransaction=function(e){return this.setTransactionName(e)},a.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=Object(u.a)(Object(u.a)({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},a.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},a.prototype.getSpan=function(){return this._span},a.prototype.getTransaction=function(){var e,t=this.getSpan();return null!=(e=t)&&e.transaction?null==(e=t)?void 0:e.transaction:null!=(e=null==(e=t)?void 0:e.spanRecorder)&&e.spans[0]?t.spanRecorder.spans[0]:void 0},a.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},a.prototype.getSession=function(){return this._session},a.prototype.update=function(e){if(e){var t;if("function"==typeof e)return(t=e(this))instanceof a?t:this;e instanceof a?(this._tags=Object(u.a)(Object(u.a)({},this._tags),e._tags),this._extra=Object(u.a)(Object(u.a)({},this._extra),e._extra),this._contexts=Object(u.a)(Object(u.a)({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):Object(l.h)(e)&&(this._tags=Object(u.a)(Object(u.a)({},this._tags),e.tags),this._extra=Object(u.a)(Object(u.a)({},this._extra),e.extra),this._contexts=Object(u.a)(Object(u.a)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint)&&(this._fingerprint=e.fingerprint)}return this},a.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},a.prototype.addBreadcrumb=function(e,t){e=Object(u.a)({timestamp:Object(i.a)()},e);return this._breadcrumbs=void 0!==t&&0<=t?Object(u.e)(this._breadcrumbs,[e]).slice(-t):Object(u.e)(this._breadcrumbs,[e]),this._notifyScopeListeners(),this},a.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},a.prototype.applyToEvent=function(e,t){var n;return this._extra&&Object.keys(this._extra).length&&(e.extra=Object(u.a)(Object(u.a)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=Object(u.a)(Object(u.a)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=Object(u.a)(Object(u.a)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=Object(u.a)(Object(u.a)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span&&(e.contexts=Object(u.a)({trace:this._span.getTraceContext()},e.contexts),n=null==(n=this._span.transaction)?void 0:n.name)&&(e.tags=Object(u.a)({transaction:n},e.tags)),this._applyFingerprint(e),e.breadcrumbs=Object(u.e)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=0<e.breadcrumbs.length?e.breadcrumbs:void 0,this._notifyEventProcessors(Object(u.e)(s(),this._eventProcessors),e,t)},a.prototype._notifyEventProcessors=function(i,r,o,a){var s=this;return void 0===a&&(a=0),new c.a(function(t,e){var n=i[a];null===r||"function"!=typeof n?t(r):(n=n(Object(u.a)({},r),o),(Object(l.m)(n)?n.then(function(e){return s._notifyEventProcessors(i,e,o,a+1).then(t)}):s._notifyEventProcessors(i,n,o,a+1).then(t)).then(null,e))})},a.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(e){e(t)}),this._notifyingListeners=!1)},a.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},a);function a(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}function s(){var e=Object(r.e)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function d(e){s().push(e)}},function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t,n,i=Array.prototype.slice.call(arguments,1);i.length;){var r=i.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var o in r)t=r,n=o,Object.prototype.hasOwnProperty.call(t,n)&&(e[o]=r[o])}}return e},t.shrinkBuf=function(e,t){if(e.length!==t){if(e.subarray)return e.subarray(0,t);e.length=t}return e};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){for(var t,n,i,r=0,o=0,a=e.length;o<a;o++)r+=e[o].length;for(i=new Uint8Array(r),o=t=0,a=e.length;o<a;o++)n=e[o],i.set(n,t),t+=n.length;return i}},o={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(i)},,function(e,r,o){"use strict";!function(e,t){o.d(r,"b",function(){return n}),o.d(r,"a",function(){return i});o(2),o(5);function n(){return"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}function i(e,t){return e.require(t)}}.call(this,o(102),o(67)(e))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var u=n(2);function i(e){try{for(var t,n=e,i=[],r=0,o=0,a=" > ".length;n&&r++<5&&!("html"===(t=function(e){var t,n,i,r,o=e,a=[];if(!o||!o.tagName)return"";a.push(o.tagName.toLowerCase()),o.id&&a.push("#"+o.id);if((e=o.className)&&Object(u.k)(e))for(t=e.split(/\s+/),r=0;r<t.length;r++)a.push("."+t[r]);var s=["type","name","title","alt"];for(r=0;r<s.length;r++)n=s[r],(i=o.getAttribute(n))&&a.push("["+n+'="'+i+'"]');return a.join("")}(n))||1<r&&80<=o+i.length*a+t.length);)i.push(t),o+=t.length,n=n.parentNode;return i.reverse().join(" > ")}catch(e){return"<unknown>"}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(58),r=n(14),o=(a.prototype.sendEvent=function(e){return r.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:i.a.Skipped})},a.prototype.close=function(e){return r.a.resolve(!0)},a);function a(){}},function(e,t,n){"use strict";n.r(t);var i=n(53),r=(n.d(t,"GlobalHandlers",function(){return i.a}),n(52)),o=(n.d(t,"TryCatch",function(){return r.a}),n(51)),a=(n.d(t,"Breadcrumbs",function(){return o.a}),n(54)),s=(n.d(t,"LinkedErrors",function(){return a.a}),n(55));n.d(t,"UserAgent",function(){return s.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var i,r=n(0),t=n(71),o=n(3),a=n(12),s=n(70),u=n(32),l=n(44),c=n(22),d=n(68),p=n(69),f=(i=s.a,Object(r.b)(h,i),h.prototype.eventFromException=function(e,t){return Object(c.a)(this._options,e,t)},h.prototype.eventFromMessage=function(e,t,n){return void 0===t&&(t=u.a.Info),Object(c.b)(this._options,e,t,n)},h.prototype._setupTransport=function(){var e;return this._options.dsn?(e=Object(r.a)(Object(r.a)({},this._options.transportOptions),{dsn:this._options.dsn}),new(this._options.transport||(Object(l.a)()?d:p).a)(e)):i.prototype._setupTransport.call(this)},h);function h(){return null!==i&&i.apply(this,arguments)||this}var m,g=n(11),v=n(51),y=n(26),b=(m=t.a,Object(r.b)(_,m),_.prototype.showReportDialog=function(e){void 0===e&&(e={}),Object(o.e)().document&&(this._isEnabled()?Object(g.a)(Object(r.a)(Object(r.a)({},e),{dsn:e.dsn||this.getDsn()})):a.a.error("Trying to call showReportDialog with Sentry Client disabled"))},_.prototype._prepareEvent=function(e,t,n){return e.platform=e.platform||"javascript",e.sdk=Object(r.a)(Object(r.a)({},e.sdk),{name:y.a,packages:Object(r.e)(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:y.b}]),version:y.b}),m.prototype._prepareEvent.call(this,e,t,n)},_.prototype._sendEvent=function(e){var t=this.getIntegration(v.a);t&&t.addSentryBreadcrumb(e),m.prototype._sendEvent.call(this,e)},_);function _(e){return m.call(this,f,e=void 0===e?{}:e)||this}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return l});var i=n(12),r=n(3);function o(){if(!("fetch"in Object(r.e)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function s(){if(!o())return!1;var e=Object(r.e)();if(a(e.fetch))return!0;var t=!1,e=e.document;if(e&&"function"==typeof e.createElement)try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=a(n.contentWindow.fetch)),e.head.removeChild(n)}catch(e){i.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}function u(){if(!o())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function l(){var e=Object(r.e)(),t=e.chrome,t=t&&t.app&&t.app.runtime,e="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!t&&e}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},a=(Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0,o(n(107)));function s(){}s.get=function(e){var t="production";return a[t][e]},s.mode=function(){var e="production";return e},s.env=function(){return"production"},t.Settings=s},function(e,t,n){var i,r;!function(){"use strict";r=[n(33)],void 0!==(r="function"==typeof(i=function(h){"use strict";var e=typeof Blob!=="undefined"&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),o=(h.blobSlice=e&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},h.metaDataParsers={jpeg:{65505:[],65517:[]}},h.parseMetaData=function(e,c,d,p){d=d||{};p=p||{};var f=this;var t=d.maxMetaDataSize||262144;var n=!(typeof DataView!=="undefined"&&e&&e.size>=12&&e.type==="image/jpeg"&&h.blobSlice);if(n||!h.readFile(h.blobSlice.call(e,0,t),function(e){if(e.target.error){console.log(e.target.error);c(p);return}var t=e.target.result;var n=new DataView(t);var i=2;var r=n.byteLength-4;var o=i;var a;var s;var u;var l;if(n.getUint16(0)===65496){while(i<r){a=n.getUint16(i);if(a>=65504&&a<=65519||a===65534){s=n.getUint16(i+2)+2;if(i+s>n.byteLength){console.log("Invalid meta data: Invalid segment size.");break}u=h.metaDataParsers.jpeg[a];if(u&&!d.disableMetaDataParsers)for(l=0;l<u.length;l+=1)u[l].call(f,n,i,s,p,d);i+=s;o=i}else break}if(!d.disableImageHead&&o>6)if(t.slice)p.imageHead=t.slice(0,o);else p.imageHead=new Uint8Array(t).subarray(0,o)}else console.log("Invalid JPEG file: Missing JPEG marker.");c(p)},"readAsArrayBuffer"))c(p)},h.replaceHead=function(t,n,i){h.parseMetaData(t,function(e){i(new Blob([n,h.blobSlice.call(t,e.imageHead.byteLength)],{type:"image/jpeg"}))},{maxMetaDataSize:256,disableMetaDataParsers:true})},h.hasMetaOption=function(e){return e&&e.meta},h.transform);h.transform=function(t,n,i,r,e){if(h.hasMetaOption(n))h.parseMetaData(r,function(e){o.call(h,t,n,i,r,e)},n,e);else o.apply(h,arguments)}})?i.apply(t,r):i)&&(e.exports=r)}()},function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},s=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.ContextBase=void 0,n(16)),r=n(108),u=n(61),o=n(25),l=n(8),n=(c.prototype.setContextPlacement=function(e){this._ctxPlacement=e},c.prototype.getContextPlacement=function(){return this._ctxPlacement},c.prototype.render=function(e,t){void 0===t&&(t={}),this.state||(this.state=this.getInitialState(),this.changeState(this.state)),this.state.render(e,t)},Object.defineProperty(c.prototype,"isInline",{get:function(){return this._isInline},enumerable:!1,configurable:!0}),c.prototype.getState=function(){return this.state},c.prototype.changeState=function(e){if(!e)throw"State cannot be empty";if(this._inEndState)throw"Context is in end state; Cannot transition to state '"+e.name+"'";this.state&&this.state.cleanup(),this.state=e,this.state.setContext(this),this.stateHistory.push(this.state),this.listenToEvents(this.state)},c.prototype.canGoToAPreviousState=function(){return!(this.stateHistory.length<2)},c.prototype.goToPreviousState=function(){var e;if(this.canGoToAPreviousState())return this.stateHistory.pop(),e=this.stateHistory.pop(),this.changeState(e),e;throw"Cannot transition to previous state"},c.prototype.getTemplateViaAjax=function(i,r,o){return void 0===r&&(r={}),a(this,void 0,void 0,function(){var t,n;return s(this,function(e){switch(e.label){case 0:return n=o.useCache,t="template_"+i,n&&c.cache.existsEntry(t)?[2,c.cache.getEntry(t)]:[4,u.AjaxTemplate.load(i,r)];case 1:return n=e.sent(),c.cache.setEntry(t,n),[2,n]}})})},c.prototype.getCachedTemplateHtml=function(e){return c.cache.getEntry("template_"+e)},c.prototype.getStateHistory=function(){return this.stateHistory.map(function(e){return e.name})},c.prototype.wasUserLoggedOnInitialization=function(){return this._wasUserLoggedOnInitialization},c.prototype.reset=function(){this.state&&this.state.reset()},Object.defineProperty(c.prototype,"userType",{get:function(){var e=i.UserModel.userType;return 1!=i.UserModel.isTeamManaged()&&"premium"==e&&0==i.UserModel.hasSubscription()?"user":e},enumerable:!1,configurable:!0}),c.prototype.canUserDoTrial=function(){switch(this.userType){case"guest":case"user":return i.UserModel.canDoTrial();case"premium":return!1;default:throw"Unknown userType "+this.userType+" to determine if can do trial"}},c.prototype.isTeamManaged=function(){return i.UserModel.isPremium()&&i.UserModel.isTeamManaged()},c.prototype.isTrialEnabledForThisTool=function(){return!(window.ilovepdfConfig&&"dtr"in window.ilovepdfConfig&&window.ilovepdfConfig.dtr)},c.prototype.isLoggedIn=function(){return"guest"!==this.userType},Object.defineProperty(c.prototype,"user",{get:function(){return i.UserModel.get()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"userCurrentPaymentMethod",{get:function(){var e=this.user.last_payment;return e&&e.provider?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"userCurrentSubscription",{get:function(){return this.user&&this.user.current_subscription||null},enumerable:!1,configurable:!0}),c.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},c.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},c.prototype.getInstanceID=function(){return this._instanceID},c.cache=new r.Cache,c._static_instanceID=0,c);function c(e){var t=this;void 0===e&&(e={}),this.state=null,this.stateHistory=[],this.objsListeningTo=new WeakMap,this.appendedTemplates=[],this._isInline=!1,this._ctxPlacement="dom",this._inEndState=!1,this.setEndState=function(){t._inEndState=!0},this.isInEndState=function(){return t._inEndState},this.listenToEvents=function(e){t.objsListeningTo.has(e)&&!0===t.objsListeningTo.get(e)||(e.addEventListener("end",function(e){t.setEndState(),t.dispatchEvent(new l.IloveEvent("end",e.detail))}),e.addEventListener("disableContentAbandonment",function(e){return t.dispatchEvent(new l.IloveEvent("disableContentAbandonment"))}),e.addEventListener("unsetContentAbandonment",function(e){return t.dispatchEvent(new l.IloveEvent("unsetContentAbandonment"))}),t.objsListeningTo.set(e,!0))},this.notifyOfContainerClosing=function(){t.dispatchEvent(new l.IloveEvent("contextContainerClosed")),t.isInEndState()&&t.dispatchEvent(new l.IloveEvent("end"))},this._onDomReady=function(e){t.dispatchEvent(new l.IloveEvent("domReady",{domRoot:e}))},this.eventEmitter=new o.ILoveEventEmitter,this._instanceID=++c._static_instanceID,this._wasUserLoggedOnInitialization=this.isLoggedIn(),this._isInline=e.isInline||!1}t.ContextBase=n},function(e,s,l){"use strict";!function(r){var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},e=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},u=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},a=(Object.defineProperty(s,"__esModule",{value:!0}),s.Api=s.APP_VERSION=s.API_VERSION=void 0,l(62)),t=l(45),n=(s.API_VERSION="v1",s.APP_VERSION="web.0",Object.defineProperty(i.prototype,"userToken",{get:function(){return"function"==typeof this._userToken?this._userToken():this._userToken},set:function(e){this._userToken=e},enumerable:!1,configurable:!0}),i.ping=function(o,a){return void 0===a&&(a=!1),new Promise(function(e,t){var n=new XMLHttpRequest,i=0,r=0;n.open("GET",o,!0),n.onreadystatechange=function(){4==n.readyState&&(200==n.status||0==i&&0==r&&0!=n.status&&1==a?e({}):t())},n.ontimeout=function(){i=1},n.onerror=function(e){r=1},n.send()})},i.prototype.pingService=function(){return i.ping(this.serviceServer+"/ping")},i.prototype.sendRequest=function(e,t,n,i,r){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===r&&(r=!1);var o=new XMLHttpRequest;return o.open(e,this.workerServer+"/"+this.apiVersion+"/"+t,!0),o.setRequestHeader("Authorization","Bearer "+this.token),o.setRequestHeader("Accept","application/json"),1==r&&o.setRequestHeader("Content-Type","application/json"),i&&(o.responseType="blob"),1==r?o.send(JSON.stringify(n)):o.send(n),o},i.prototype.sendServiceRequest=function(e,t,n,i,r){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===r&&(r=!1);var o=new XMLHttpRequest;return o.open(e,this.serviceServer+"/"+t,!0),o.setRequestHeader("Authorization","Bearer "+this.userToken),o.setRequestHeader("Accept","application/json"),1==r&&o.setRequestHeader("Content-Type","application/json"),i&&(o.responseType="blob"),1==r?o.send(JSON.stringify(n)):o.send(n),o},i.prototype.query=function(e,r,o,a,s,u){void 0===o&&(o=null),void 0===a&&(a=!1),void 0===s&&(s=!1),void 0===u&&(u="api");var l=this;return new Promise(function(t,n){var i=null;if("api"==u)i=l.sendRequest(e,r,o,a,s);else{if("service"!=u)throw new Error("invalid target api");i=l.sendServiceRequest(e,r,o,a,s)}i.onerror=function(e){n({status:-1})},i.onload=function(){if(4==i.readyState)if(200==i.status)try{t(JSON.parse(i.responseText))}catch(e){n({error:"invalidJSONResponse",status:500,response:i.responseText})}else if(400==i.status||500==i.status)try{(e=JSON.parse(i.responseText)).status=i.status,n(e)}catch(e){n({error:"invalidJSONResponse",status:500,response:i.responseText})}else{var e={};try{e=JSON.parse(i.responseText)}catch(e){}e.status=i.status,n(e)}}})},i.prototype.process=function(e){return this.query("POST","process",e)},i.prototype.getSigner=function(e){return this.query("GET","signature/signer/"+e)},i.prototype.request=function(e,t,n){n=a.FormDataHelper.jsonToFormData(n);return this.query(e,t,n)},i.prototype.getTask=function(){var i=this;return new Promise(function(e,t){var n=i.sendRequest("GET","task/"+i.taskId);n.onreadystatechange=function(){4==n.readyState&&(200==n.status?e(JSON.parse(n.responseText)):(400!=n.status&&n.status,window.ev("event","send","download_deleted",i.workerServer),t(n.responseText)))}})},i.prototype.getLink=function(e){return this.workerServer+"/"+this.apiVersion+"/"+e},i.prototype.deleteTask=function(){return this.request("delete","task/"+this.taskId,{})},i.prototype.resetTask=function(r){return e(this,void 0,void 0,function(){var t,n,i;return u(this,function(e){switch(e.label){case 0:for(n in(t=new FormData).append("task",this.taskId),r)i=r[n],t.append(n,i);return[4,fetch(this.getLink("task/reset"),{method:"POST",body:t,headers:{Authorization:"Bearer "+this.token}})];case 1:return[2,e.sent()]}})})},i.prototype.oneStepTask=function(s){return e(this,void 0,void 0,function(){var t,n,i,r,o,a;return u(this,function(e){switch(e.label){case 0:return t=s.tool,n=s.file,i=s.filename,r=s.download,o=this.workerServer+"/run",(a=new FormData).append("tool",t),a.append("file",n),a.append("name",i),!1===r&&a.append("download","0"),[4,fetch(o,{method:"POST",body:a,headers:{Authorization:"Bearer "+this.token}})];case 1:return[2,e.sent()]}})})},i.prototype.oneStep_copyTask=function(r){return e(this,void 0,void 0,function(){var t,n,i;return u(this,function(e){return t=r.file,n=r.filename,i=r.download,[2,this.oneStepTask({file:t,filename:n,tool:"copy",download:i})]})})},i.prototype.copyTask=function(s){return e(this,void 0,void 0,function(){var t,n,i,r,o,a;return u(this,function(e){switch(e.label){case 0:for(t=s.taskId,n=s.files,i=s.keepInputFile,this.getLink("process/"),(r=new FormData).append("tool","copy"),r.append("task",t),i&&r.append("keep","1"),o=0;o<n.length;o++)a=n[o],r.append("files["+o+"][server_filename]",a.server_filename),r.append("files["+o+"][filename]",a.name),r.append("files["+o+"][pages]",a.pages);return[4,this.query("POST","process",r)];case 1:return[2,e.sent()]}})})},i.prototype.getSubdomain=function(e){return e.split("/")[2].split(".")[0]},i.prototype.getDomain=function(e){return e.split("/")[2]},i.prototype.uploadFromUrl=function(e){var t=new FormData;return t.append("cloud_file",e),t.append("cloud_source","public"),t.append("task",this.taskId),this.query("post","upload",t)},i.prototype.getPreview=function(e,t){var n,i=new FormData;for(n in i.append("server_filename",e),i.append("task",this.taskId),delete t.output_filename,delete t.packaged_filename,t)t.hasOwnProperty(n)&&i.append(n,t[n]);return this.query("post","preview",i)},i.prototype.upscale=function(n,i){return e(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return(t=new FormData).append("task",this.taskId),t.append("server_filename",n),t.append("scale",""+i),[4,fetch(this.getLink("upscale"),{method:"POST",body:t,headers:{Authorization:"Bearer "+this.token}})];case 1:return[4,e.sent().blob()];case 2:return[2,e.sent()]}})})},i.prototype.removeBackground=function(n){return e(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return(t=new FormData).append("task",this.taskId),t.append("server_filename",n),[4,fetch(this.getLink("removebackground"),{method:"POST",body:t,headers:{Authorization:"Bearer "+this.token}})];case 1:return[4,e.sent().blob()];case 2:return[2,e.sent()]}})})},i.prototype.detectFaces=function(n,i,r){return e(this,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return t=a.FormDataHelper.jsonToFormData(o({task:this.taskId,level:n,fileArray:i},void 0!==r?{face:r}:{})),[4,this.query("post","detectfaces",t)];case 1:return[2,e.sent().data.coordArray]}})})},i.prototype.removeFile=function(i){var r=this,o=new FormData;return new Promise(function(e,t){var n=r.sendRequest("delete","upload/"+r.taskId+"/"+i,o);n.onreadystatechange=function(){4==n.readyState&&(404!=n.status&&(400==n.status||500==n.status)?t():e({}))}})},i.prototype.next=function(e,t,n){var i=new FormData;return i.append("task",e),i.append("tool",t),i.append("worker",n),i.append("thumbnails","1"),this.query("post","task/next",i)},i.prototype.nextFile=function(e,t){return this.workerServer+"/thumbnails/"+e+"/"+t},i.prototype.info=function(){return this.query("get","info")},i.prototype.getStatus=function(n,i){return void 0===i&&(i=0),n=(n=void 0===n?null:n)||this.workerServer,new Promise(function(t,e){r.ajax({url:n+"/status.json",dataType:"json",success:function(e){t(e)},timeout:i,error:function(){e()}})})},i.prototype.getFilePreviewInfo=function(e,t,n,i){void 0===i&&(i=null),n=(n=void 0===n?150:n)||150;i="pdfrender/"+e+"/"+t.replace(".pdf","");return this.query("get",i)},i.prototype.saveToolConfig=function(e,t,n){e=a.FormDataHelper.jsonToFormData({tool:e,options:t});return this.userToken=n,this.query("post","tool/save",e,!1,!1,"service")},i.prototype.touchTask=function(e){return this.query("get","task/touch/"+e)},i);function i(e){this.taskId=null,this.tool=null,this.preWorker=null,this.serviceServer=t.Settings.get("service"),this.workerServer=null,this.downloadUrl="",this.apiVersion=s.API_VERSION,this.appVersion=s.APP_VERSION,this.token=null,this.encrypted=!1,this.encryptKey=null,Object.assign(this,e)}s.Api=n}.call(this,l(1))},function(e,t,n){"use strict";n.r(t);var i=n(35),r=(n.d(t,"BaseTransport",function(){return i.a}),n(68)),o=(n.d(t,"FetchTransport",function(){return r.a}),n(69));n.d(t,"XHRTransport",function(){return o.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(105),r=n(5),o=(a.prototype.getDsn=function(){return this._dsnObject},a.prototype.getBaseApiEndpoint=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"},a.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},a.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},a.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},a.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},a.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,i=["Sentry sentry_version=7"];return i.push("sentry_client="+e+"/"+t),i.push("sentry_key="+n.user),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},a.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t,n=this._dsnObject,i=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(t in r.push("dsn="+n.toString()),e)"dsn"!==t&&("user"===t?e.user&&(e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email)&&r.push("email="+encodeURIComponent(e.user.email)):r.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t])));return r.length?i+"?"+r.join("&"):i},a.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},a.prototype._getIngestEndpoint=function(e){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+e+"/"},a.prototype._encodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:"7"};return Object(r.f)(e)},a);function a(e){this.dsn=e,this._dsnObject=new i.a(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(0),o=n(6),r=n(32),a=n(3),s=n(29),u=n(23),l=n(40),c=(d.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&Object(o.b)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Object(a.d)(e)},{event:e})},d.prototype.setupOnce=function(){var n=this;this._options.console&&Object(s.a)({callback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._consoleBreadcrumb.apply(n,Object(i.e)(e))},type:"console"}),this._options.dom&&Object(s.a)({callback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._domBreadcrumb.apply(n,Object(i.e)(e))},type:"dom"}),this._options.xhr&&Object(s.a)({callback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._xhrBreadcrumb.apply(n,Object(i.e)(e))},type:"xhr"}),this._options.fetch&&Object(s.a)({callback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._fetchBreadcrumb.apply(n,Object(i.e)(e))},type:"fetch"}),this._options.history&&Object(s.a)({callback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._historyBreadcrumb.apply(n,Object(i.e)(e))},type:"history"})},d.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:r.a.fromString(e.level),message:Object(u.b)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(Object(u.b)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}Object(o.b)().addBreadcrumb(t,{input:e.args,level:e.level})},d.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?Object(l.a)(e.event.target):Object(l.a)(e.event)}catch(e){t="<unknown>"}0!==t.length&&Object(o.b)().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name})},d.prototype._xhrBreadcrumb=function(e){var t,n,i,r;e.endTimestamp&&!e.xhr.__sentry_own_request__&&(t=(r=e.xhr.__sentry_xhr__||{}).method,n=r.url,i=r.status_code,r=r.body,Object(o.b)().addBreadcrumb({category:"xhr",data:{method:t,url:n,status_code:i},type:"http"},{xhr:e.xhr,input:r}))},d.prototype._fetchBreadcrumb=function(e){!e.endTimestamp||e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?Object(o.b)().addBreadcrumb({category:"fetch",data:e.fetchData,level:r.a.Error,type:"http"},{data:e.error,input:e.args}):Object(o.b)().addBreadcrumb({category:"fetch",data:Object(i.a)(Object(i.a)({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response}))},d.prototype._historyBreadcrumb=function(e){var t=Object(a.e)(),n=e.from,e=e.to,t=Object(a.h)(t.location.href),i=Object(a.h)(n),r=Object(a.h)(e);i.path||(i=t),t.protocol===r.protocol&&t.host===r.host&&(e=r.relative),t.protocol===i.protocol&&t.host===i.host&&(n=i.relative),Object(o.b)().addBreadcrumb({category:"navigation",data:{from:n,to:e}})},d.id="Breadcrumbs",d);function d(e){this.name=d.id,this._options=Object(i.a)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(0),o=n(3),a=n(5),s=n(19),u=n(11),r=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],l=(c.prototype.setupOnce=function(){var e=Object(o.e)();this._options.setTimeout&&Object(a.c)(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Object(a.c)(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Object(a.c)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&Object(a.c)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:r).forEach(this._wrapEventTarget.bind(this))},c.prototype._wrapTimeFunction=function(i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0];return e[0]=Object(u.c)(n,{mechanism:{data:{function:Object(s.a)(i)},handled:!0,type:"instrument"}}),i.apply(this,e)}},c.prototype._wrapRAF=function(t){return function(e){return t.call(this,Object(u.c)(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(s.a)(t)},handled:!0,type:"instrument"}}))}},c.prototype._wrapEventTarget=function(r){var e=Object(o.e)(),e=e[r]&&e[r].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Object(a.c)(e,"addEventListener",function(i){return function(e,t,n){try{"function"==typeof t.handleEvent&&(t.handleEvent=Object(u.c)(t.handleEvent.bind(t),{mechanism:{data:{function:"handleEvent",handler:Object(s.a)(t),target:r},handled:!0,type:"instrument"}}))}catch(e){}return i.call(this,e,Object(u.c)(t,{mechanism:{data:{function:"addEventListener",handler:Object(s.a)(t),target:r},handled:!0,type:"instrument"}}),n)}}),Object(a.c)(e,"removeEventListener",function(o){return function(e,t,n){var i;try{var r=null==(i=t)?void 0:i.__sentry_wrapped__;r&&o.call(this,e,r,n)}catch(e){}return o.call(this,e,t,n)}}))},c.prototype._wrapXHR=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(function(n){n in i&&"function"==typeof i[n]&&Object(a.c)(i,n,function(e){var t={mechanism:{data:{function:n,handler:Object(s.a)(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(t.mechanism.data.handler=Object(s.a)(e.__sentry_original__)),Object(u.c)(e,t)})}),n.apply(this,e)}},c.id="TryCatch",c);function c(e){this.name=c.id,this._options=Object(i.a)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n(0),a=n(6),o=n(32),r=n(12),s=n(29),u=n(2),l=n(3),c=n(22),d=n(11),p=(f.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(r.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(r.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},f.prototype._installGlobalOnErrorHandler=function(){var o=this;this._onErrorHandlerInstalled||(Object(s.a)({callback:function(e){var t=e.error,n=Object(a.b)(),i=n.getIntegration(f),r=t&&!0===t.__sentry_own_request__;!i||Object(d.b)()||r||(i=n.getClient(),r=Object(u.i)(t)?o._eventFromIncompleteOnError(e.msg,e.url,e.line,e.column):o._enhanceEventWithInitialFrame(Object(c.c)(t,void 0,{attachStacktrace:i&&i.getOptions().attachStacktrace,rejection:!1}),e.url,e.line,e.column),Object(l.a)(r,{handled:!1,type:"onerror"}),n.captureEvent(r,{originalException:t}))},type:"error"}),this._onErrorHandlerInstalled=!0)},f.prototype._installGlobalOnUnhandledRejectionHandler=function(){var r=this;this._onUnhandledRejectionHandlerInstalled||(Object(s.a)({callback:function(e){var t=e;try{"reason"in e?t=e.reason:"detail"in e&&"reason"in e.detail&&(t=e.detail.reason)}catch(e){}var e=Object(a.b)(),n=e.getIntegration(f),i=t&&!0===t.__sentry_own_request__;if(!n||Object(d.b)()||i)return!0;n=e.getClient(),i=Object(u.i)(t)?r._eventFromRejectionWithPrimitive(t):Object(c.c)(t,void 0,{attachStacktrace:n&&n.getOptions().attachStacktrace,rejection:!0});i.level=o.a.Error,Object(l.a)(i,{handled:!1,type:"onunhandledrejection"}),e.captureEvent(i,{originalException:t})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},f.prototype._eventFromIncompleteOnError=function(e,t,n,i){var r,e=Object(u.e)(e)?e.message:e,o=(Object(u.k)(e)&&(o=e.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i))&&(r=o[1],e=o[2]),{exception:{values:[{type:r||"Error",value:e}]}});return this._enhanceEventWithInitialFrame(o,t,n,i)},f.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},f.prototype._enhanceEventWithInitialFrame=function(e,t,n,i){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];i=isNaN(parseInt(i,10))?void 0:i,n=isNaN(parseInt(n,10))?void 0:n,t=Object(u.k)(t)&&0<t.length?t:Object(l.f)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:i,filename:t,function:"?",in_app:!0,lineno:n}),e},f.id="GlobalHandlers",f);function f(e){this.name=f.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Object(i.a)({onerror:!0,onunhandledrejection:!0},e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),i=n(36),o=n(6),a=n(2),s=n(28),u=n(24),l=(c.prototype.setupOnce=function(){Object(i.b)(function(e,t){var n=Object(o.b)().getIntegration(c);return n?n._handler(e,t):e})},c.prototype._handler=function(e,t){return e.exception&&e.exception.values&&t&&Object(a.g)(t.originalException,Error)&&(t=this._walkErrorTree(t.originalException,this._key),e.exception.values=Object(r.e)(t,e.exception.values)),e},c.prototype._walkErrorTree=function(e,t,n){var i;return void 0===n&&(n=[]),!Object(a.g)(e[t],Error)||n.length+1>=this._limit?n:(i=Object(u.a)(e[t]),i=Object(s.c)(i),this._walkErrorTree(e[t],t,Object(r.e)([i],n)))},c.id="LinkedErrors",c);function c(e){void 0===e&&(e={}),this.name=c.id,this._key=e.key||"cause",this._limit=e.limit||5}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(0),i=n(36),a=n(6),t=n(3),s=Object(t.e)(),r=(u.prototype.setupOnce=function(){Object(i.b)(function(e){var t,n,i,r;return Object(a.b)().getIntegration(u)&&(s.navigator||s.location||s.document)?(t=(null==(t=e.request)?void 0:t.url)||(null==(t=s.location)?void 0:t.href),r=(s.document||{}).referrer,n=(s.navigator||{}).userAgent,i=Object(o.a)(Object(o.a)(Object(o.a)({},null==(i=e.request)?void 0:i.headers),r&&{Referer:r}),n&&{"User-Agent":n}),r=Object(o.a)(Object(o.a)({},t&&{url:t}),{headers:i}),Object(o.a)(Object(o.a)({},e),{request:r})):e})},u.id="UserAgent",u);function u(){this.name=u.id}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(6),r=n(12);function o(e,t){!0===t.debug&&r.a.enable();var n=Object(i.b)(),e=new e(t);n.bindClient(e)}},function(e,t,o){"use strict";!function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.UserAuth=void 0;var i=o(16);function r(e){var t=this;this.onLoginSucess=null,this.onLoginError=null,this.onRegisterSuccess=null,this.onRegisterError=null,this.loginSuccess=function(e){e.token&&(e.user.token=e.token),window.userModel=e.user,window.ilovepdfConfig&&(r.updateUserMenu(e.content),r.updateUser(e.user)),null===t.onLoginSucess||"function"!=typeof t.onLoginSucess&&"object"!=typeof t.onLoginSucess||t.onLoginSucess(e.user)},this.registerSuccess=function(e){r.updateUserMenu(e.content),r.updateUser(e.user),e.token&&(e.user.token=e.token),n(".user-menu__item--premium").remove(),r.sendGA_registered(t.runningFrom),"function"==typeof t.onRegisterSuccess&&t.onRegisterSuccess(e)},this.registerError=function(e){"function"==typeof t.onRegisterError&&t.onRegisterError(e)},Object.assign(this,e),this.userModel=new i.UserModel}r.initActions=function(){n(".logout").click(function(e){e.preventDefault(),i.UserModel.logout()})},r.sendGA_registered=function(e){window.ev("send","event","user","registered",e),window.ev("event","sign_up",{mode:e})},r.prototype.login=function(t){var n=this;(t=void 0===t?null:t)||this.extraLoginParams&&this.extraLoginParams.forEach(function(e){t.push(e)}),this.userModel.login(t).then(this.loginSuccess,function(e){return n.loginError(e.responseJSON)})},r.prototype.sendResetPasswordEmail=function(e){return this.userModel.sendResetPasswordEmail(e)},r.prototype.loginError=function(e){"function"==typeof this.onLoginError&&this.onLoginError(e)},r.updateUser=function(e){window.userModel=e,window.ilovepdfConfig&&(window.ilovepdfConfig.user=e),i.UserModel.updateUser(e),r.initActions()},r.updateUserMenu=function(e){var t,n=document.querySelector(".header .actions");n&&(t=n.querySelectorAll(":scope > a"),n.querySelector(".avatar")||(t.forEach(function(e){e.remove()}),n.innerHTML=e+n.innerHTML))},r.prototype.register=function(e){e=this.userModel.register(e);return e.then(this.registerSuccess,this.registerError),e},r.sendEventUserAuth=function(){var e=new CustomEvent("userAuth");window.dispatchEvent(e)},t.UserAuth=r}.call(this,o(1))},function(e,t,n){"use strict";var i,r;n.d(t,"a",function(){return i}),(n=i=i||{}).Unknown="unknown",n.Skipped="skipped",n.Success="success",n.RateLimit="rate_limit",n.Invalid="invalid",n.Failed="failed",(r=i=i||{}).fromHttpCode=function(e){return 200<=e&&e<300?r.Success:429===e?r.RateLimit:400<=e&&e<500?r.Invalid:500<=e?r.Failed:r.Unknown}},function(e,c,d){"use strict";!function(t){var i,e,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=(Object.defineProperty(c,"__esModule",{value:!0}),c.TemporaryDialog=void 0,d(8)),o=d(25),a=d(80),s=(e=a.Dialog,n(u,e),u);function u(){return null!==e&&e.apply(this,arguments)||this}function l(e){var n=this;void 0===e&&(e={}),this.isShown=!1,this.setTemplate=function(e,t){return void 0===t&&(t=null),n.contentBuilderFn=null,n.template=e,n.onTemplateRenderFn=t,n},this.show=function(){var e;if(!n.isShown)return t(".modal:visible").removeAttr("tabindex"),(e=new s(n.dialogProps)).addEventListener("closed",function(){n.currentDialog=null,n.dispatchEvent(new r.IloveEvent("closed"))}),e.addEventListener("hidden",function(){n.isShown=!1,e.destroy(),n.dispatchEvent(new r.IloveEvent("hidden"))}),e.addEventListener("shown",function(){n.dispatchEvent(new r.IloveEvent("shown"))}),n.fillDialog(e),(n.currentDialog=e).show(),n.isShown=!0,e},this.close=function(){n.currentDialog&&(n.currentDialog.close(),n.currentDialog=null)},this.setContentBuilder=function(e){return n.template=null,n.onTemplateRenderFn=null,n.contentBuilderFn=e,n},this.eventEmitter=new o.ILoveEventEmitter,this.dialogProps=e}c.TemporaryDialog=s,l.prototype.isClosedOrInProcessOfClosing=function(){return!this.currentDialog||this.currentDialog.isClosedOrInProcessOfClosing()},l.prototype.fillDialog=function(e){if(this.contentBuilderFn)e.setContent(this.contentBuilderFn());else{if(!this.template)throw"Unknown DisposableDialog creation mechanism";var t;this.template.content?(t=this.template.content.cloneNode(!0),e.domRoot.appendChild(t)):(this.template,e.domRoot.innerHTML=this.template.innerHTML),this.onTemplateRenderFn&&this.onTemplateRenderFn(e.domRoot)}},l.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},l.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},Object.defineProperty(l.prototype,"domRoot",{get:function(){var e;return null==(e=this.currentDialog)?void 0:e.domRoot},enumerable:!1,configurable:!0}),c.default=l}.call(this,d(1))},function(e,n,o){"use strict";!function(i){Object.defineProperty(n,"__esModule",{value:!0}),n.Limits=n.REASON=void 0;var s,l=o(16),u=o(7),r=o(17),e=((e=s=n.REASON||(n.REASON={})).ERROR_FEATURE="this feature is for premium only",e.ERROR_SIZE="file size too big",e.ERROR_FILES="too much files",e.ERROR_EXTENSION="invalid filetype",e.ERROR_PAGES="too much pages",e.ERROR_PXSIZE="file pixels too big",t.prototype.getTool=function(){return this.concreteTool||(this.tool==this.subtool?this.tool:-1!==this.tool.indexOf("image")&&-1===this.subtool.indexOf("image")?this.tool.replace("image",this.subtool):this.subtool)},t.prototype.addIgnoredFile=function(e){this.ignored.push(e)},t.prototype.getIgnoredFiles=function(){return this.ignored},t.prototype.getLimitedFiles=function(){return this.files.limited},t.prototype.getLimitedFilenames=function(){var t=this,e=this.getLimitedFiles(),n=[];return e.forEach(function(e){var e=t.files.getFile(e);e&&(e=e.name.substring(0,20)+(20<e.name.length?"...":""),n.push(e))}),n},t.prototype.isIgnored=function(e){return-1!=this.ignored.indexOf(e)},t.prototype.isLimited=function(e){return-1!==this.files.limited.indexOf(e)},t.prototype.setFileLimits=function(){var n,i,r,o,a=this,e=(this.fileLimits=window.ilovepdfConfig.fileLimits,l.UserModel.get());e&&1==e.premium&&(this.fileLimits=e.limits),this.files.resetLimitedFiles(),this.checkHasLimits()&&(r=i=n=0,o=!1,this.files.files.forEach(function(e){var t;!1===o?(n++,e.size&&(i+=parseInt(e.size)),e.file&&e.file.numPages&&(r+=e.file.numPages),t=e.width*e.height,null!==a.checkFileLimits(i,n,r,t)&&(o=!0,a.files.limitFile(e.id))):a.files.limitFile(e.id)}))},t.prototype.checkFileLimits=function(e,t,n,i){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),e=(e=void 0===e?null:e)||this.files.getFileSizeNotIgnored(),t=t||this.files.countNotIgnored(),n=n||this.files.getFilePagesNotIgnored(),i=i||this.files.getFilePxsizeNotIgnored(),this.fileLimits=window.ilovepdfConfig.fileLimits;var r,o,a,s,u=l.UserModel.get();if(u&&1==u.premium&&(this.fileLimits=u.limits),this.checkHasLimits()){if(null!==(r=this.checkSizeLimit(e))&&this.hasSurpasedLimits(r))return r;if(null!==(o=this.checkPagesLimit(n))&&this.hasSurpasedLimits(o))return o;if(null!==(a=this.checkFilesLimit(t))&&this.hasSurpasedLimits(a))return a;if(null!==(s=this.checkPxsizeLimit(i))&&this.hasSurpasedLimits(s))return s}return r||o||a||s||null},t.prototype.resetEventSent=function(){this.eventSent=!1},t.prototype.checkHasLimits=function(e){return void 0===e&&(e=null),this.fileLimits[this.concreteTool]?null==e||this.fileLimits[this.concreteTool].hasOwnProperty(e):null},t.prototype.checkSizeLimit=function(e){return(e=(e=void 0===e?null:e)||this.files.getFileSizeNotIgnored())>1024*parseInt(this.fileLimits[this.concreteTool].mb)*1024?(e=Math.floor(e/1024/1024),!0!==this.eventSent&&0==i(".download").length&&(this.eventSent=!0,window.ev("sendOnce","event","limits","filesize-exceeded",this.concreteTool,e),window.ev("eventOnce","limit",{reason:"filesize",tool:this.concreteTool,quantity:e})),s.ERROR_SIZE):null},t.prototype.checkFilesLimit=function(e){return(e=(e=void 0===e?null:e)||this.files.countNotIgnored())>this.fileLimits[this.concreteTool].files?(!0!==this.eventSent&&0==i(".download").length&&(this.eventSent=!0,window.ev)&&(window.ev("sendOnce","event","limits","filenumber-exceeded",this.concreteTool,e),window.ev("eventOnce","limit",{reason:"filenumber",tool:this.concreteTool,quantity:e})),s.ERROR_FILES):null},t.prototype.checkPagesLimit=function(e){return e=(e=void 0===e?null:e)||this.files.getFilePagesNotIgnored(),this.fileLimits[this.concreteTool].pages&&e>this.fileLimits[this.concreteTool].pages?(!0!==this.eventSent&&0==i(".download").length&&(this.eventSent=!0,window.ev("sendOnce","event","limits","pages-exceeded",this.concreteTool,e),window.ev("eventOnce","limit",{reason:"pages",tool:this.concreteTool,quantity:e})),s.ERROR_PAGES):null},t.prototype.checkPxsizeLimit=function(e){return e=e||this.files.getFilePxsizeNotIgnored(),this.fileLimits[this.concreteTool].pxsize&&e>this.fileLimits[this.concreteTool].pxsize?(!0!==this.eventSent&&0==i(".download").length&&(this.eventSent=!0,window.ev("sendOnce","event","limits","pxsize-exceeded",this.concreteTool,e),window.ev("eventOnce","limit",{reason:"pxsize",tool:this.concreteTool,quantity:e})),s.ERROR_PXSIZE):null},t.prototype.findNextLevelLimit=function(e,t,n){for(var i in this.allFileLimits)if(this.allFileLimits.hasOwnProperty(i)){var r=this.allFileLimits[i];if(r.hasOwnProperty(e)){r=r[e];if(r.hasOwnProperty(t)&&r[t]>=n)return i}}return!1},t.prototype.getPremiumLimitByTool=function(e,t){return this.allFileLimits.premium_limits[e][t]},t.prototype.getLevelLimit=function(e,t,n){return 0==n&&(n=this.LEVEL_PREMIUM),this.allFileLimits[n][e][t]},t.prototype.makeErrorData=function(e,t,n,i,r){var o=this;function a(e,t){return 1==e?"files"==t?u.Lang.t("1 file"):u.Lang.t("1 mb"):("mb"==t&&1e3<=e&&(e/=1e3,t="Gb"),u.Lang.t("${limit} "+t.toLowerCase(),{limit:e}))}function s(e){return e==o.LEVEL_REGISTERED?u.Lang.t("registeredLevel"):e==o.LEVEL_PREMIUM?u.Lang.t("premiumLevel"):u.Lang.t("publicLevel")}return{currentLimit:a(t,e),currentLevel:s(n).ucFirst(),nextLimit:a(i,e),nextLevel:s(r).ucFirst()}},t.prototype.getLimitData=function(e,t){return 1==e?"files"==t?u.Lang.t("1 file"):"pages"==t?u.Lang.t("1 page"):u.Lang.t("1 mb"):("mb"==t&&1e3<=e&&(e/=1e3,t="Gb"),u.Lang.t("${limit} "+t.toLowerCase(),{limit:e}))},t.prototype.limitErrorText=function(e){return u.Lang.t("limitTaskMsg",e)},t.prototype.setLimit=function(e){this.err=e;var t,n=this.getNextLimit(e);return 0==n.nextLevel?(t=this.getPremiumLimitByTool(this.concreteTool,n.name),0==i("#superlimit").length&&(e=r.Tools.modalView({id:"superlimit",title:"",content:""}),(e=i(e)).find(".modal-dialog").addClass("modal-dialog-centered"),e.appendTo(i("body"))),setTimeout(function(){"files"==n.name?(i("#superlimit .modal-title").html(u.Lang.t("File number exceeded")),i("#superlimit .modal-body").html(u.Lang.t("Sorry, we are not ready for that.")+"<br>\n                         \x3c!--"+u.Lang.t("limitFiles",{files:t})+"<br>--\x3e\n                         "+u.Lang.t("superlimitWhoa")+"<br>\n                         "+u.Lang.t("superlimitDownload"))):(i("#superlimit .modal-title").html(u.Lang.t("File size exceeded")),i("#superlimit .modal-body").html(u.Lang.t("Sorry, we are not ready for that.")+"<br>\n                         \x3c!--"+u.Lang.t("limitMb",{mb:t})+"<br>--\x3e\n                         "+u.Lang.t("superlimitWhoa")+"<br>\n                         "+u.Lang.t("superlimitDownload"))),i("#superlimit").modal("toggle")},500),null):n.nextLevel==this.LEVEL_PUBLIC?null:{limitName:n.name,limitValue:n.currentValue,nextLevelLimit:n.nextLevel,nextLimit:n.nextValue}},t.prototype.getCurrentLimitsLevel=function(){var e=this.LEVEL_PUBLIC;return e=l.UserModel.isUser()&&(e=this.LEVEL_REGISTERED,l.UserModel.isPremium())?this.LEVEL_PREMIUM:e},t.prototype.getLimitTexts=function(){var e,t,n=this.checkFileLimits(),i=[this.fileLimits[this.getTool()],this.allFileLimits.premium_limits[this.getTool()]],r=i[0],o=i[1],a=null;switch(n){case s.ERROR_FILES:e=u.Lang.t("limitFree")+" "+u.Lang.t("limitFiles",{n:r.files}),t=u.Lang.t("limitPremium")+" "+u.Lang.t("limitFiles",{n:o.files}),a="files";break;case s.ERROR_SIZE:e=u.Lang.t("limitFree")+" "+u.Lang.t("limitSize",{n:r.mb}),t=u.Lang.t("limitPremium")+" "+u.Lang.t("limitSize",{n:o.mb}),a="size";break;case s.ERROR_PAGES:e=u.Lang.t("limitFree")+" "+u.Lang.t("limitPages",{n:r.pages}),t=u.Lang.t("limitPremium")+" "+u.Lang.t("limitPages",{n:o.pages}),a="pages";break;case s.ERROR_PXSIZE:e=u.Lang.t("limitFree")+" "+u.Lang.t("limitPxsize",{n:r.pxsize}),t=u.Lang.t("limitPremium")+" "+u.Lang.t("limitPxsize",{n:o.pxsize}),a="pxsize"}return{current:e,premium:t,limit:a}},t.prototype.getNextLimit=function(e,t){var n,i;switch(null==(t=void 0===t?null:t)&&(t=this.getTool()),e){case s.ERROR_SIZE:n="mb",i=this.files.getFileSizeNotIgnored()/1024/1024;break;case s.ERROR_FILES:n="files",i=this.files.countNotIgnored();break;case s.ERROR_PAGES:n="pages",i=this.files.getFilePagesNotIgnored();break;case s.ERROR_PXSIZE:n="pxsize",i=this.files.getFilePxsizeNotIgnored()}return{name:n,currentValue:i,nextValue:0!=(e=this.findNextLevelLimit(t,n,i))&&this.getLevelLimit(t,n,e),nextLevel:e}},t.prototype.getNextLevelLimit=function(e){return this.getNextLimit(e).nextLevel},t.prototype.hasSurpasedLimits=function(e){return!1===this.getNextLevelLimit(e)},t.prototype.sendEventLimitsChanged=function(){var e=new CustomEvent("limitsChanged");window.dispatchEvent(e)},t.prototype.canContinueWithoutPremium=function(){for(var e=!0,t=0;t<this.minFiles;t++)1==this.files.files[t].limited&&(e=!1);return e},t);function t(e){this.minFiles=1,this.LEVEL_PREMIUM="premium_limits",this.LEVEL_REGISTERED="registered_limits",this.LEVEL_PUBLIC="limits",this.err=null,this.files=null,this.fileLimits=null,this.allFileLimits=null,this.tool=null,this.subtool=null,this.ignored=[],this.userLevel="public",Object.assign(this,e),this.concreteTool=this.getTool()}n.Limits=e}.call(this,o(1))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},u=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},r=(Object.defineProperty(t,"__esModule",{value:!0}),t.AjaxTemplate=void 0,l.load=function(a,s){return void 0===s&&(s={}),i(this,void 0,void 0,function(){var n,t,i,r,o;return u(this,function(e){return s=s||{},n=new XMLHttpRequest,i=t=!1,r=function(e){return!t&&!i&&200===e.status},o=this.buildQueryParams(s),o=o?a+"?"+o:a,n.open("GET",l.getLangBaseUrl()+"/"+o,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Accept","text/html"),n.ontimeout=function(){return t=!0},n.onerror=function(){return i=!0},[2,new Promise(function(e,t){n.onreadystatechange=function(){4===n.readyState&&(r(n)?e(n.responseText):t(n.response))},n.send()})]})})},l.getLangBaseUrl=function(){var e=window.lang;return"en-US"==e?"/"+l.BASE_URL:"/"+e+"/"+l.BASE_URL},l.buildQueryParams=function(e){if(0===Object.keys(e).length)return null;var t,n=[];for(t in e)n.push(t+"="+encodeURIComponent(e[t]));return n.join("&")},l.BASE_URL="templates",l);function l(){}t.AjaxTemplate=r},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.FormDataHelper=void 0,r.buildFormData=function(t,n,i){void 0===i&&(i=null),!n||"object"!=typeof n||n instanceof Date||n instanceof File?t.append(i,null==n?"":n):Object.keys(n).forEach(function(e){r.buildFormData(t,n[e],null!=i?i+"["+e+"]":e)})},r.jsonToFormData=function(e){var t=new FormData;return r.buildFormData(t,e),t},t.FormDataHelper=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkPreloadIsNeeded=t.get_browser=t.isSafari=t.isIE11=t.isEdgeBrowser=void 0;var i=n(79);function r(e){return void 0===e&&(e=i.getUserAgent()),/^((?!chrome|android|crios).)*safari/i.test(e)}function o(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===n[1]&&null!=(e=t.match(/\bOPR|Edge\/(\d+)/))?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}t.isEdgeBrowser=function(e){return void 0===e&&(e=i.getUserAgent()),/Edge/i.test(e)},t.isIE11=function(){return!!window.MSInputMethodContext&&!!document.documentMode},t.isSafari=r,t.get_browser=o,t.checkPreloadIsNeeded=function(){var e;return!(!i.isIos()&&!r())||"Chrome"==(e=o()).name&&e.version<=73||"Firefox"==e.name&&e.version<=94||"Edge"==e.name&&e.version<=18||"Yandex"==e.name}},,function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},s=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},u=(Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractPaymentState=void 0,n(21)),l=n(82),f=n(8),n=(r=u.StateBase,o(c,r),c.prototype.initAbstractPayment=function(n){var i;return a(this,void 0,void 0,function(){var t=this;return s(this,function(e){switch(e.label){case 0:if(this.ctx.canGoToAPreviousState()&&this.goToPreviousStateButtonIsVisible()?(this.dispatchEvent(new f.IloveEvent("disableContentAbandonment")),this.dialogCloseBtn&&(this.dialogCloseBtn.style.display="none")):this.dialogCloseBtn&&(this.dialogCloseBtn.style.display=""),this.abstractPaymentInited)return[2];if(this.userPayment=n.userPayment||new l.UserPayment,this.abstractPaymentInited=!0,Object.assign(this,n),"gui"===(null==(i=this.paymentInterval)?void 0:i.type))switch(this.paymentInterval.gui){case"radio":break;case"boxes":this.initPaymentIntervalSelectorButtons();break;default:throw"Unknown way to determine paymentInterval '"+this.paymentInterval.type+"'"}return[4,this.initUserPayment(this.userPayment).then(function(){t.userPayment.addEventListener("UserPayment:ActionButtonClicked",t._abstractOnPayButtonClicked),t.userPayment.addEventListener("UserPayment:BeforeExternalAction",function(e){return t._onExternalPaymentAction("UserPayment:BeforeExternalAction",e)}),t.userPayment.addEventListener("UserPayment:AfterExternalAction",function(e){return t._onExternalPaymentAction("UserPayment:AfterExternalAction",e)})})];case 1:return e.sent(),[2]}})})},c.prototype.initAbstractCard=function(n){return a(this,void 0,void 0,function(){var t=this;return s(this,function(e){switch(e.label){case 0:return this.abstractPaymentInited=!0,Object.assign(this,n),this.userPayment=n.userPayment||new l.UserPayment,[4,this.initUserPayment(this.userPayment).then(function(){t.userPayment.addEventListener("UserPayment:ActionButtonClicked",t._abstractOnPayButtonClicked)})];case 1:return e.sent(),[2]}})})},Object.defineProperty(c.prototype,"stripeViewParams",{get:function(){return{paymentButtonText:this.paymentProviderProps.find(function(e){return"stripe"===e.name}).paymentButtonText,currentPaymentMethod:this.currentPaymentMethod}},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"paypalViewParams",{get:function(){function e(){return!(n.ctx.isTrialEnabledForThisTool()&&n.ctx.canUserDoTrial())}var t,n=this;this.paymentProviderProps.find(function(e){return"paypal"===e.name});switch(this.paymentAction){case"become_premium":case"subsc_update":t={actionName:"become_premium"===this.paymentAction?"PaySubscription":"UpdateSubscription",actionParams:{subscriptionInterval:function(){return n.selectedPaymentInterval},numUsers:function(){return n.numUsers?n.numUsers():n.paymentNumUsersDefault},numDigitalSignatures:function(){return n.numSignatures?n.numSignatures():void 0},disableTrial:e}};break;case"pay_package":t={actionName:"PayPackage",actionParams:{packageName:function(){return n.package.name},quantity:function(){return n.package.qty},disableTrial:e}};break;default:throw"Unknown paypal paymentAction '"+this.paymentAction+"'"}return{action:t}},enumerable:!1,configurable:!0}),c.prototype._executePaymentAction=function(e,t){var n=this,i=this.selectedPaymentProvider,r=this.paymentAction,o=this.paymentInterval?this.selectedPaymentInterval:void 0,a=this.numUsers?this.numUsers():this.paymentNumUsersDefault,s=(this.showLoadingScreen(),this.userPayment.disableActionButton(i),this.dispatchEvent(new f.IloveEvent("disableContentAbandonment")),!(this.ctx.isTrialEnabledForThisTool()&&this.ctx.canUserDoTrial())),u=this.couponCode?this.couponCode():void 0;switch(r){case"become_premium":c=this.userPayment.paySubscription({numUsers:a,provider:i,subscriptionInterval:o,disableTrial:s,couponCode:u});break;case"subsc_update":var l=this.numSignatures(),c=this.userPayment.updateSubscription({numSignatures:l,numUsers:a,provider:i,subscriptionInterval:o,disableTrial:s,couponCode:u});break;case"pay_package":var l=this.package.name,d=this.package.qty;c=this.userPayment.payPackage({packageName:l,packageQuantity:d,provider:i,disableTrial:s});break;case"update_card":l=this.userPayment.stripeService.view.card;c=this.userPayment.updateCard({provider:i,element:l})}c.then(function(e){return n._abstractOnPaymentSuccess(i,e)}),c.catch(function(e){return n._abstractOnPaymentFailed(i,e)});function p(e){n.clearLoadingScreen(),n.userPayment.enableActionButton(i),n.dispatchEvent(new f.IloveEvent("unsetContentAbandonment"))}return c.then(p,p),c},c.prototype.initUserPayment=function(i){var r;return a(this,void 0,void 0,function(){var t,n;return s(this,function(e){switch(e.label){case 0:return(t=this.initializedPaymentProviders).includes("stripe")?[4,i.mountView("stripe",this.stripeViewMountPoint,this.stripeViewParams)]:[3,2];case 1:e.sent(),e.label=2;case 2:return t.includes("paypal")?[4,i.mountView("paypal",this.paypalViewMountPoint,this.paypalViewParams)]:[3,4];case 3:e.sent(),e.label=4;case 4:return n=null!=(r=null==(r=this.currentPaymentMethod)?void 0:r.provider)?r:this.DEFAULT_SELECTED_PROVIDER_BTN,this.initPaymentProviderSelectorButtons(),this.clickProviderButton(n),[2]}})})},Object.defineProperty(c.prototype,"initializedPaymentProviders",{get:function(){return this.paymentProviderProps.map(function(e){return e.name})},enumerable:!1,configurable:!0}),c.prototype.initPaymentIntervalSelectorButtons=function(){var e=this.domStateRoot.querySelectorAll(".payment__interval-selector__select-box"),t=function(){e.forEach(function(e){return e.setAttribute("data-selected","false")})};e.forEach(function(e){return e.addEventListener("click",function(e){return e=e.currentTarget,t(),void e.setAttribute("data-selected","true")})})},c.prototype.clickProviderButton=function(t){var e=this,n=this.domRoot,i=(n.querySelector(".payment__provider-views"),n.querySelector(".payment__provider-selector")),n=(n.querySelectorAll(".payment__provider-selector .payment__provider-selector__item"),Array.from(i.querySelectorAll(".payment__provider-selector__item"))),i=(n.forEach(function(e){return e.setAttribute("data-checked","false")}),n.find(function(e){return e.dataset.value===t}));i.setAttribute("data-checked","true");n=i.getAttribute("data-value");e.domRoot.querySelectorAll(".payment__provider-views .payment__provider-views__item").forEach(function(e){return e.classList.remove("payment__provider-views__item--appeared")}),(n=e.domRoot.querySelector('.payment__provider-views .payment__provider-views__item[data-provider-name="'+n+'"]'))&&n.classList.add("payment__provider-views__item--appeared")},c.prototype.initPaymentProviderSelectorButtons=function(){var n=this,e=this.domRoot,t=e.querySelector(".payment__provider-selector").querySelectorAll(".payment__provider-selector__item"),e=e.querySelectorAll(".payment__provider-selector .payment__provider-selector__item"),i=(t.forEach(function(t){t.addEventListener("click",function(e){n.clickProviderButton(t.dataset.value)})}),this.initializedPaymentProviders);e.forEach(function(e){var t=e.getAttribute("data-value");if(!t)throw"Provider selector button is missing data-value attribute";i.includes(t)||(e.style.display="none")})},Object.defineProperty(c.prototype,"stripeViewMountPoint",{get:function(){var e=this.domRoot.querySelector(".payment__stripe-view");if(e)return e;throw"Mountpoint for Stripe view not found"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"paypalViewMountPoint",{get:function(){var e=this.domRoot.querySelector(".payment__paypal-view");if(e)return e;throw"Mountpoint for Paypal view not found"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"selectedPaymentProvider",{get:function(){return 1==this.paymentProviderProps.length?this.paymentProviderProps[0].name:this.domRoot.querySelector(".payment__provider-selector .payment__provider-selector__item[data-checked='true']").getAttribute("data-value")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"selectedPaymentInterval",{get:function(){if("gui"===this.paymentInterval.type){if("boxes"===this.paymentInterval.gui)return this.selected_paymentInterval_boxes;if("radio"===this.paymentInterval.gui)return this.selected_paymentInterval_radio}else if("predefined"===this.paymentInterval.type)return this.paymentInterval.value;throw"Unknown way to determine paymentInterval '"+this.paymentInterval.type+"'"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"selected_paymentInterval_radio",{get:function(){var e=Array.from(this.domRoot.querySelectorAll(".payment__interval-selector [name='paymentInterval']"));if(0===e.length)throw"Radio buttons for payment interval not found";for(var t=0;t<e.length;t++)if(e[t].checked)return e[t].value;return null},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"selected_paymentInterval_boxes",{get:function(){var e=this.domStateRoot.querySelector(".payment__interval-selector__select-box[data-selected='true']");if(e)return e.getAttribute("data-value");throw"No selected interval box found"},enumerable:!1,configurable:!0}),c);function c(){var n=null!==r&&r.apply(this,arguments)||this;return n.abstractPaymentInited=!1,n.paymentNumUsersDefault=1,n.DEFAULT_SELECTED_PROVIDER_BTN="stripe",n._onExternalPaymentAction=function(e,t){t=t.detail;"UserPayment:AfterExternalAction"===e&&n._onPaymentSuccess(t.provider,t)},n._abstractOnPayButtonClicked=function(e){n._executePaymentAction("payButton",e)},n._abstractOnPaymentSuccess=function(e,t){n._onPaymentSuccess(e,t)},n._abstractOnPaymentFailed=function(e,t){n.userPayment.notifyPaymentError(e,t,n.paymentAction),n._onPaymentFailed(e,t)},n}t.AbstractPaymentState=n},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t){e.exports=function(e){var t;return e.webpackPolyfill||((t=Object.create(e)).children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1),t}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i,t=n(0),r=n(27),o=n(3),a=n(44),s=n(14),n=n(35),u=Object(o.e)(),l=(i=n.a,Object(t.b)(c,i),c.prototype.sendEvent=function(e){return this._sendRequest(Object(r.a)(e,this._api),e)},c.prototype.sendSession=function(e){return this._sendRequest(Object(r.b)(e,this._api),e)},c.prototype._sendRequest=function(r,e){var t,o=this;return this._isRateLimited(r.type)?Promise.reject({event:e,type:r.type,reason:"Transport locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429}):(t={body:r.body,method:"POST",referrerPolicy:Object(a.d)()?"origin":""},void 0!==this.options.fetchParameters&&Object.assign(t,this.options.fetchParameters),void 0!==this.options.headers&&(t.headers=this.options.headers),this._buffer.add(new s.a(function(n,i){u.fetch(r.url,t).then(function(e){var t={"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")};o._handleResponse({requestType:r.type,response:e,headers:t,resolve:n,reject:i})}).catch(i)})))},c);function c(){return null!==i&&i.apply(this,arguments)||this}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i,t=n(0),r=n(27),a=n(14),n=n(35),o=(i=n.a,Object(t.b)(s,i),s.prototype.sendEvent=function(e){return this._sendRequest(Object(r.a)(e,this._api),e)},s.prototype.sendSession=function(e){return this._sendRequest(Object(r.b)(e,this._api),e)},s.prototype._sendRequest=function(r,e){var o=this;return this._isRateLimited(r.type)?Promise.reject({event:e,type:r.type,reason:"Transport locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429}):this._buffer.add(new a.a(function(t,n){var e,i=new XMLHttpRequest;for(e in i.onreadystatechange=function(){var e;4===i.readyState&&(e={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")},o._handleResponse({requestType:r.type,response:i,headers:e,resolve:t,reject:n}))},i.open("POST",r.url),o.options.headers)o.options.headers.hasOwnProperty(e)&&i.setRequestHeader(e,o.options.headers[e]);i.send(r.body)}))},s);function s(){return null!==i&&i.apply(this,arguments)||this}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(12),r=n(20),o=n(41),a=(s.prototype.eventFromException=function(e,t){throw new r.a("Backend has to implement `eventFromException` method")},s.prototype.eventFromMessage=function(e,t,n){throw new r.a("Backend has to implement `eventFromMessage` method")},s.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,function(e){i.a.error("Error while sending event: "+e)})},s.prototype.sendSession=function(e){this._transport.sendSession?this._transport.sendSession(e).then(null,function(e){i.a.error("Error while sending session: "+e)}):i.a.warn("Dropping session because custom transport doesn't implement sendSession")},s.prototype.getTransport=function(){return this._transport},s.prototype._setupTransport=function(){return new o.a},s);function s(e){this._options=e,this._options.dsn||i.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var f=n(0),a=n(36),h=n(78),i=n(105),s=n(2),u=n(12),l=n(14),c=n(3),d=n(104),r=n(5),p=n(23),m=n(20),g=n(6),v=[];function o(e){var t,n,i,r,o={};return i=(e=e).defaultIntegrations&&Object(f.e)(e.defaultIntegrations)||[],e=e.integrations,r=[],Array.isArray(e)?(t=e.map(function(e){return e.name}),n=[],i.forEach(function(e){-1===t.indexOf(e.name)&&-1===n.indexOf(e.name)&&(r.push(e),n.push(e.name))}),e.forEach(function(e){-1===n.indexOf(e.name)&&(r.push(e),n.push(e.name))})):r="function"==typeof e?(r=e(i),Array.isArray(r)?r:[r]):Object(f.e)(i),-1!==(e=r.map(function(e){return e.name})).indexOf("Debug")&&r.push.apply(r,Object(f.e)(r.splice(e.indexOf("Debug"),1))),r.forEach(function(e){o[e.name]=e,e=e,-1===v.indexOf(e.name)&&(e.setupOnce(a.b,g.b),v.push(e.name),u.a.log("Integration installed: "+e.name))}),o}b.prototype.captureException=function(e,t,n){var i=this,r=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then(function(e){return i._captureEvent(e,t,n)}).then(function(e){r=e})),r},b.prototype.captureMessage=function(e,t,n,i){var r=this,o=n&&n.event_id,t=Object(s.i)(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(t.then(function(e){return r._captureEvent(e,n,i)}).then(function(e){o=e})),o},b.prototype.captureEvent=function(e,t,n){var i=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then(function(e){i=e})),i},b.prototype.captureSession=function(e){e.release?this._sendSession(e):u.a.warn("Discarded session because of missing release")},b.prototype.getDsn=function(){return this._dsn},b.prototype.getOptions=function(){return this._options},b.prototype.flush=function(e){var n=this;return this._isClientProcessing(e).then(function(t){return n._getBackend().getTransport().close(e).then(function(e){return t&&e})})},b.prototype.close=function(e){var t=this;return this.flush(e).then(function(e){return t.getOptions().enabled=!1,e})},b.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=o(this._options))},b.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return u.a.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},b.prototype._updateSessionFromEvent=function(e,t){var n,i,r,o=!1,a=!1,s=t.exception&&t.exception.values;if(s){a=!0;try{for(var u=Object(f.f)(s),l=u.next();!l.done;l=u.next()){var c=l.value.mechanism;if(c&&!1===c.handled){o=!0;break}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}s=t.user;if(!e.userAgent){var d,p=t.request?t.request.headers:{};for(d in p)if("user-agent"===d.toLowerCase()){r=p[d];break}}e.update(Object(f.a)(Object(f.a)({},o&&{status:h.a.Crashed}),{user:s,userAgent:r,errors:e.errors+Number(a||o)}))},b.prototype._sendSession=function(e){this._getBackend().sendSession(e)},b.prototype._isClientProcessing=function(i){var r=this;return new l.a(function(e){var t=0,n=setInterval(function(){0==r._processing?(clearInterval(n),e(!0)):(t+=1,i&&i<=t&&(clearInterval(n),e(!1)))},1)})},b.prototype._getBackend=function(){return this._backend},b.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},b.prototype._prepareEvent=function(e,t,n){var i=this,r=this.getOptions().normalizeDepth,o=void 0===r?3:r,r=Object(f.a)(Object(f.a)({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:Object(c.i)()),timestamp:e.timestamp||Object(d.a)()}),e=(this._applyClientOptions(r),this._applyIntegrationsMetadata(r),t),t=(n&&n.captureContext&&(e=a.a.clone(e).update(n.captureContext)),l.a.resolve(r));return(t=e?e.applyToEvent(r,n):t).then(function(e){return"number"==typeof o&&0<o?i._normalizeEvent(e,o):e})},b.prototype._normalizeEvent=function(e,t){var n;return e?(n=Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(e){return Object(f.a)(Object(f.a)({},e),e.data&&{data:Object(r.d)(e.data,t)})})}),e.user&&{user:Object(r.d)(e.user,t)}),e.contexts&&{contexts:Object(r.d)(e.contexts,t)}),e.extra&&{extra:Object(r.d)(e.extra,t)}),e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace),n):null},b.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.environment,i=t.release,r=t.dist,o=t.maxValueLength,o=void 0===o?250:o,t=("environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==i&&(e.release=i),void 0===e.dist&&void 0!==r&&(e.dist=r),e.message&&(e.message=Object(p.d)(e.message,o)),e.exception&&e.exception.values&&e.exception.values[0]),n=(t&&t.value&&(t.value=Object(p.d)(t.value,o)),e.request);n&&n.url&&(n.url=Object(p.d)(n.url,o))},b.prototype._applyIntegrationsMetadata=function(e){var e=e.sdk,t=Object.keys(this._integrations);e&&0<t.length&&(e.integrations=t)},b.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},b.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then(function(e){return e.event_id},function(e){u.a.error(e)})},b.prototype._processEvent=function(e,t,n){var i,r=this,o=this.getOptions(),a=o.beforeSend,o=o.sampleRate;return this._isEnabled()?!(i="transaction"===e.type)&&"number"==typeof o&&Math.random()>o?l.a.reject(new m.a("Discarding event because it's not included in the random sample (sampling rate = "+o+")")):this._prepareEvent(e,n,t).then(function(e){if(null===e)throw new m.a("An event processor returned null, will not send event.");if(t&&t.data&&!0===t.data.__sentry__||i||!a)return e;e=a(e,t);if(void 0===e)throw new m.a("`beforeSend` method has to return `null` or a valid event.");return Object(s.m)(e)?e.then(function(e){return e},function(e){throw new m.a("beforeSend rejected with "+e)}):e}).then(function(e){if(null===e)throw new m.a("`beforeSend` returned `null`, will not send event.");var t=n&&n.getSession&&n.getSession();return!i&&t&&r._updateSessionFromEvent(t,e),r._sendEvent(e),e}).then(null,function(e){if(e instanceof m.a)throw e;throw r.captureException(e,{data:{__sentry__:!0},originalException:e}),new m.a("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}):l.a.reject(new m.a("SDK not enabled, will not send event."))},b.prototype._process=function(e){var t=this;this._processing+=1,e.then(function(e){return--t._processing,e},function(e){return--t._processing,e})};var y=b;function b(e,t){this._integrations={},this._processing=0,this._backend=new e(t),(this._options=t).dsn&&(this._dsn=new i.a(t.dsn))}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});r.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e)return!0;return this._inner.push(e),!1},r.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}};var i=r;function r(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}},function(e,n,t){"use strict";!function(t){function e(){}Object.defineProperty(n,"__esModule",{value:!0}),n.LinkTitle=void 0,e.disable=function(e){t(e).hover(function(){var e=t(this).attr("data-title");void 0!==e&&!1!==e||(e=t(this).attr("title"),t(this).attr("data-title",e)),t(this).attr("title","")},function(){var e=t(this).attr("data-title");t(this).attr("title",e)})},n.LinkTitle=e}.call(this,t(1))},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.PremiumContext=void 0,n(7)),p=n(60),a=n(47),s=n(119),u=n(120),l=n(122),c=n(124),n=(r=a.ContextBase,o(f,r),f.prototype.initAllFeaturesTooltip=function(e){if(!this.tooltipRoot){if(this.tooltipRoot=e.querySelector(".new-premium__all-features-tooltip"),!this.tooltipRoot)throw"'All features' dom element not found";e=e.querySelector(".new-premium__all-features-tooltip__html-template");if(!e)throw"htmlTemplate not found for 'All features' tooltip";window.tippy(this.tooltipRoot,{allowHTML:!0,theme:"light new-premium-all-features-tooltip",content:e.innerHTML,placement:"bottom",arrow:!0,animation:"fade",trigger:"mouseenter",interactive:!0})}},f.prototype.initOCRTooltip=function(e){if(!this.tooltipRoot_OCR){if(this.tooltipRoot_OCR=e.querySelector(".new-premium__ocr-tooltip"),!this.tooltipRoot_OCR)throw"'OCR' dom element not found";e=e.querySelector(".new-premium__ocr-features-tooltip__html-template");if(!e)throw"htmlTemplate not found for 'OCR' tooltip";window.tippy(this.tooltipRoot_OCR,{allowHTML:!0,theme:"light new-premium__ocr-tooltip",content:e.innerHTML,placement:"bottom",arrow:!0,animation:"fade",trigger:"mouseenter",interactive:!0})}},f.prototype.updateTitleText=function(e){var t=e.querySelector(".dialog__title");if(!t)throw"'Title' element not found";var n=this.isTrialEnabledForThisTool()&&this.canUserDoTrial();switch(this.userType){case"guest":case"user":return void(t.innerHTML=n?this.getTranslation(e,"title_canTrial"):this.getTranslation(e,"title_cannotTrial"));case"premium":return;default:throw"Unhandled userType '"+this.userType+"' for updateTitleText"}},f.prototype.updateTriggerReasonText=function(e){var t,n,i=e.querySelector(".new-premium__trigger-reason_sub1"),r=e.querySelector(".new-premium__trigger-reason_sub2");if(!i)throw"'Trigger Reason subtitle1' element not found";if(!r)throw"'Trigger Reason subtitle2' element not found";var o,a,s=null!=(n=this.tool)?n:null==(n=this.limits)?void 0:n.tool,u=null==(n=window.ilovepdfConfig)?void 0:n.subtool,l=!1;switch(this.triggerReason){case p.REASON.ERROR_FEATURE:var c="triggerReason_errorFeature";switch(s){case"sign":case"pdfa":case"pdfoffice":c+="_"+s}["pdfexcel","pdfword"].includes(u)&&(c+="_"+u),this.premiumFeatureName&&(c+="_"+this.premiumFeatureName),i.innerHTML=this.getTranslation(e,c+"_subtitle1"),"ocr"===this.premiumFeatureName&&"pdfoffice"===s&&(l=!0,i.innerHTML=i.innerHTML.replace("OCR",'<span class="new-premium__ocr-tooltip" data-template="new-premium__ocr-features-tooltip__html-template">OCR</span>')),r.innerHTML=this.getTranslation(e,c+"_subtitle2");break;case p.REASON.ERROR_FILES:if(!this.limits)throw"Limits object is needed to translate subtitles' text";o=(a=[this.limits.fileLimits[this.tool],this.limits.allFileLimits.premium_limits[this.tool]])[0],a=a[1],i.innerHTML=d.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesNum_subtitle1"),{n:o.files}),r.innerHTML=d.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesNum_subtitle2"),{n:a.files});break;case p.REASON.ERROR_SIZE:if(!this.limits)throw"Limits object is needed to translate subtitles' text";o=(t=[this.limits.fileLimits[this.tool],this.limits.allFileLimits.premium_limits[this.tool]])[0],a=t[1],i.innerHTML=d.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesSize_subtitle1"),{n:o.mb}),r.innerHTML=d.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesSize_subtitle2"),{n:a.mb/1e3});break;case p.REASON.ERROR_PAGES:if(!this.limits)throw"Limits object is needed to translate subtitles' text";o=(t=[this.limits.fileLimits[this.tool],this.limits.allFileLimits.premium_limits[this.tool]])[0],a=t[1],i.innerHTML=d.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesPages_subtitle1"),{n:o.pages}),r.innerHTML=d.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesPages_subtitle2"),{n:a.pages});break;case null:i.style.display="none",r.style.display="none";break;default:throw"Unknown triggerReason '"+this.triggerReason+"'"}this.initAllFeaturesTooltip(e),l&&this.initOCRTooltip(e)},f.prototype.getTranslation=function(e,t,n){if(void 0===n&&(n={}),this._translations){if(t in this._translations)return this._translations[t];throw"Translation for key '"+t+"' not found"}n=e.querySelector(".new-premium__text-translations");if(!n)throw"'Text translations' DOM not found";if("html"!==n.dataset.format)return this._translations=JSON.parse(n.innerHTML),this._translations?this.getTranslation(e,t):null;e=n.querySelector("[data-key="+t+"]");if(e)return e.innerHTML;throw"Key '"+t+"' not found"},f.prototype.getInitialState=function(){return this.isLoggedIn()?this._getInitialState():new s.AuthState},f.prototype._getInitialState=function(){switch(this.userType){case"guest":return new s.AuthState;case"user":return new(this.canUserDoTrial()&&this.isTrialEnabledForThisTool()?l.CanTrialState:u.CannotTrialState);case"premium":return new c.PremiumState;default:throw"Not implemented 'initialState' when userType is "+this.userType}},f);function f(e){var t=r.call(this,e)||this;return t.contentName="PremiumContext",t.onDomReadyCalledOnce=!1,t._onDomReady=function(e){t.onDomReadyCalledOnce||t.updateTriggerReasonText(e),t.onDomReadyCalledOnce=!0,t.updateTitleText(e)},t.triggerReason="triggerReason"in e?e.triggerReason:void 0,t.limits="limits"in e?e.limits:void 0,t.premiumFeatureName="premiumFeatureName"in e?e.premiumFeatureName:void 0,t.tool=e.tool,t}t.PremiumContext=n},function(e,n,o){"use strict";!function(a){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},t=(Object.defineProperty(n,"__esModule",{value:!0}),n.Banner=void 0,e(o(15)));function s(){}s.preventClickAds=function(){s.preventClick("ad"),s.preventClick("adsq")},s.sendEvent=function(e){return function(){return t.captureMessage(e)}},s.preventClick=function(e){void 0===e&&(e="ad");var t=document.getElementById(e),n=(a(window).width(),"prvnt"+e),i=1100,r="ac";if(document.body.classList.contains("download")&&(i=500),"adsq"==e&&(r="acsq"),null==document.getElementById(n)&&t&&0!=t.getBoundingClientRect().height){t.style.position="relative";var o=document.createElement("div");o.setAttribute("id",n),o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.width=t.getBoundingClientRect().width+"px",o.style.height=t.getBoundingClientRect().height+"px",o.style.zIndex="9",o.style.background="hsl(0,0%,100%,.01)",o.addEventListener("click",s.sendEvent(r));try{t.prepend(o)}catch(e){t.appendChild(o)}window.setTimeout(function(){o.removeEventListener("click",s.sendEvent(r)),o.remove()},i)}},n.Banner=s}.call(this,o(1))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileStack=t.File=void 0;var i=n(7),n=(t.File=function(e){void 0===e&&(e={}),this.reUploaded=!1,this.server_filename=null,this.filename=null,this.rotate=null,this.password=null,this.file=null,this.elementArray=[],this.processed=!0,Object.assign(this,e),null!=this.filename&&(this.filename=this.filename.replace(/[\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000\ufeff]/g," ").trim())},r.prototype.addFile=function(e){e=this.cleanName(e),this.files.push(e),this.onFileAdd()},r.prototype.getFile=function(t){return this.files.find(function(e){return e.id==t})},r.prototype.getFileIndex=function(t){return this.files.findIndex(function(e){return e.id==t})},r.prototype.swapFilesPositionsByIndex=function(e,t){var n;e!=t&&this.files[e]&&this.files[t]&&(n=[this.files[t],this.files[e]],this.files[e]=n[0],this.files[t]=n[1])},r.prototype.move=function(e,t){for(;e<0;)e+=this.files.length;for(;t<0;)t+=this.files.length;if(t>=this.files.length)for(var n=t-this.files.length;1+n--;)this.files.push(void 0);this.files.splice(t,0,this.files.splice(e,1)[0])},r.prototype.getFileByServerFilename=function(t){return this.files.find(function(e){return e.server_filename==t})},r.prototype.getFirst=function(){return this.files[0]},r.prototype.getLast=function(){return this.files[this.files.length-1]},r.prototype.onFileAdd=function(){var e,t=this;try{null!=(e=document.querySelectorAll(".numPages"))&&e.forEach(function(e){t.files[0].numPages&&(e.innerHTML=t.files[0].numPages.toString())})}catch(e){}},r.prototype.updateFile=function(e,t){e=this.getFile(e);return e&&(t=this.cleanName(t),Object.assign(e,t)),e},r.prototype.removeFile=function(n,i){var r=this;void 0===i&&(i=!1),this.files.forEach(function(e,t){e&&e.id==n&&(e.removed=!0,r.removed.push(n),-1<t&&r.files.splice(t,1),0==i)&&(e=new CustomEvent("fileRemoved",{detail:{fileId:n}}),window.dispatchEvent(e))})},r.prototype.removeFilesExcept=function(n){var i=this;this.files.forEach(function(e,t){(null==e?void 0:e.id)!==n&&-1<t&&i.files.splice(t,1)})},r.prototype.removeAllFiles=function(t){var n=this;void 0===t&&(t=!1),this.files.forEach(function(e){n.removeFile(e.id,t)})},r.prototype.limitFile=function(e,t){void 0===t&&(t=!1);var n=this.getFile(e);n&&(this.limited.push(e),n.limited=!0,window.plupload&&(n.status=window.plupload.FAILED,n.error=window.plupload.GENERIC_ERROR),0==t)&&(n=new CustomEvent("fileLimited",{detail:{fileId:e}}),window.dispatchEvent(n))},r.prototype.resetLimitedFiles=function(){this.files.forEach(function(e){1==(null==e?void 0:e.limited)&&(delete e.limited,e.status==window.plupload.FAILED)&&e.error==window.plupload.GENERIC_ERROR&&(e.status=window.plupload.QUEUED,delete e.error)}),this.limited=[]},r.prototype.removeLimitedFiles=function(e){var t=this,n=(void 0===e&&(e=!1),this.files=this.files.filter(function(e){return-1===t.limited.indexOf(e.id)}),[].concat(this.limited));this.limited=[],!0!==e&&n.forEach(function(e){e=new CustomEvent("fileRemoved",{detail:{fileId:e}});window.dispatchEvent(e)})},r.prototype.count=function(){return this.files.length},r.prototype.countNotIgnored=function(t){return void 0===t&&(t=!1),this.files.filter(function(e){return!(1==t&&1==e.limited)&&1!=e.ignored}).length},r.prototype.countNotLimited=function(){return this.files.filter(function(e){return!0!==e.limited}).length},r.prototype.countIgnored=function(){return this.files.filter(function(e){return 1==e.ignored}).length},r.prototype.countLimited=function(){return this.files.filter(function(e){return 1==e.limited}).length},r.prototype.size=function(){var t=0;return this.files.forEach(function(e){t+=parseInt(e.size)}),t},r.prototype.fileSize=function(e){var n=this,i=0;return e instanceof Array?e.forEach(function(e,t){i+=n.fileSize(e)}):(e=this.getFile(e),i=parseInt(e.size)),i},r.prototype.getFileSizeNotIgnored=function(n){void 0===n&&(n=!1);var i=0;return this.files.forEach(function(e,t){e&&(1!=n||1!=e.limited)&&1!=e.ignored&&e.size&&(i+=parseInt(e.size.toString()))}),i},r.prototype.getFilePagesNotIgnored=function(n){void 0===n&&(n=!1);var i=0;return this.files.forEach(function(e,t){e&&(1!=n||1!=e.limited)&&1!=e.ignored&&e.file&&e.file.numPages&&(i+=e.file.numPages?parseInt(e.file.numPages.toString()):0)}),i},r.prototype.cleanName=function(e){return"filename"in e&&null!=e.filename&&(e.filename,e.filename.replace(/[\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000\ufeff]/g," ").trim(),e.filename=e.filename.replace(/"/g,"")),"name"in e&&null!=e.name&&(e.name,e.name.replace(/[\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000\ufeff]/g," ").trim(),e.name=e.name.replace(/"/g,"")),e},r.prototype.onUploaded=function(){return new Promise(function(e,t){})},r.prototype.checkFilesUploaded=function(){var t=!0,n=this;return this.files.forEach(function(e){if(null==e)return!0;if("percent"in e&&!(e.percent<100)&&("server_filename"in e||"error"in e&&!("error"in e&&0==e.error))||(t=!1),1==e.error){t=!1;try{window.Toastr.error(i.Lang.t(e.errorData.error.param.type[0])+"<br>"+e.name,i.Lang.t("Wops"),{timeOut:5e3,positionClass:"toast-top-left"})}catch(e){}n.removeFile(e.id)}}),t},r.prototype.getUploadedFiles=function(){var n={};return this.files.forEach(function(e){var t={filename:e.name,server_filename:e.server_filename};e.rename&&(t.filename=e.rename),e.password&&(t.password=e.password),e.pages&&(t.pages=e.pages),e.rotate&&(t.rotate=e.rotate),e.elementArray&&(t.elementArray=e.elementArray),e.processed&&(t.processed=e.processed),n[e.id]=t}),n},r);function r(){var e=this;this.getFilePxsizeNotIgnored=function(t){void 0===t&&(t=!1);var n=0;return e.files.forEach(function(e){!e||1==t&&1==e.limited||1==e.ignored||(n=Math.max(e.width*e.height,n))}),n},this.files=[],this.ignored=[],this.removed=[],this.limited=[]}t.FileStack=n},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),(n=i=i||{}).Ok="ok",n.Exited="exited",n.Crashed="crashed",n.Abnormal="abnormal"},function(e,t,n){"use strict";function i(){return window.navigator.mockUserAgent||window.navigator.userAgent}function r(){return!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches}function o(e){return-1!==(e=void 0===e?i():e).indexOf("FBAN")||-1!==e.indexOf("FBAV")}function a(e){return void 0===e&&(e=i()),/FxiOS/i.test(e)}function s(e){return void 0===e&&(e=i()),/EdgiOS/i.test(e)}function u(e){return-1<(e=void 0===e?i():e).indexOf("Opera Mini")}function l(e){return void 0===e&&(e=i()),/Android/.test(e)}function c(e){return void 0===e&&(e=i()),/iPhone|iPod|iPad/.test(e)}function d(e){return void 0===e&&(e=i()),/\bGSA\b/.test(e)}function p(e){return void 0===e&&(e=i()),/QQBrowser/.test(e)}function f(e){return!!c(e=void 0===e?i():e)&&(!!d(e)||/.+AppleWebKit(?!.*Safari)/.test(e))}function h(e){return!!l(e=void 0===e?i():e)&&/Version\/[\d.]+/.test(e)&&!u(e)}function m(){var e=i();return/Macintosh.*AppleWebKit(?!.*Safari)/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.supportsPopups=t.isMacOsCna=t.isIEIntranet=t.isIECompHeader=t.isIE=t.isWebView=t.isAndroidWebview=t.isIosWebview=t.isQQBrowser=t.isGoogleSearchApp=t.isIos=t.isAndroid=t.isOperaMini=t.isEdgeIOS=t.isFirefoxIOS=t.isFacebookWebView=t.isStandAlone=t.isDevice=t.getUserAgent=void 0,t.getUserAgent=i,t.isDevice=function(){return!!i().match(/Android|webOS|iPhone|iPad|iPod|bada|Symbian|Palm|CriOS|BlackBerry|IEMobile|WindowsMobile|Opera Mini/i)},t.isStandAlone=r,t.isFacebookWebView=o,t.isFirefoxIOS=a,t.isEdgeIOS=s,t.isOperaMini=u,t.isAndroid=l,t.isIos=c,t.isGoogleSearchApp=d,t.isQQBrowser=p,t.isIosWebview=f,t.isAndroidWebview=h,t.isWebView=function(){return o()||f()||h()},t.isIE=function(){return!!window.document.documentMode||Boolean(window.navigator&&window.navigator.userAgent&&/Edge|MSIE/i.test(window.navigator.userAgent))},t.isIECompHeader=function(){var e=window.document.querySelector('meta[http-equiv="X-UA-Compatible"]'),t=window.document.querySelector('meta[content="IE=edge"]');return!(!e||!t)},t.isIEIntranet=function(){if(window.document.documentMode)try{var e=window.status;return(window.status="testIntranetMode")===window.status?(window.status=e,!0):!1}catch(e){}return!1},t.isMacOsCna=m,t.supportsPopups=function(e){return!(f(e=void 0===e?i():e)||h(e)||u(e)||a(e)||s(e)||o(e)||p(e)||m()||r())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dialog=void 0;var r=n(8),o=n(25),a=n(75),n=(s.getVisibleDialogs=function(){return Array.from(this.visibleDialogs).filter(function(e){return!e.isClosing()})},s.prototype.canBeClosedByUser=function(){return void 0!==this._canBeClosedByUser?this._canBeClosedByUser:this.props.canBeClosedByUser},s.prototype.isClosedOrInProcessOfClosing=function(){return this.isClosing()||!this.isShown},s.prototype.isClosing=function(){return this._isClosing},s.prototype.listenToEvents=function(e){var t=this;-1===this.contentsListeningTo.indexOf(e.getInstanceID())&&(e.addEventListener("end",function(){t.isClosedOrInProcessOfClosing()||t.close()}),e.addEventListener("disableContentAbandonment",function(){return t._canBeClosedByUser=!1}),e.addEventListener("unsetContentAbandonment",function(){return t._canBeClosedByUser=void 0}),this.contentsListeningTo.push(e.getInstanceID()))},Object.defineProperty(s.prototype,"dialog",{get:function(){var e,t,n,i=this;return this._dialog||(t=this.createDialogContainer(),n=this.createDialogElement(),t.appendChild(n),n=this.createDialogBackdrop(),this._dialog=document.createElement("div"),this.props.dialogName&&this._dialog.setAttribute("data-dialog-name",this.props.dialogName),this._dialog.classList.add("dialog"),0<(null==(e=this.props.classes)?void 0:e.length)&&this.props.classes.forEach(function(e){return i._dialog.classList.add(e)}),this._dialog.appendChild(t),this._dialog.appendChild(n),this.props.enableCloseBtn&&this.initCloseBtn(),this._dialog.style.display="none",document.body.appendChild(this._dialog)),this._dialog},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"domRoot",{get:function(){return this.element},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"element",{get:function(){return this.dialog.children[0].children[0]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"elementContainer",{get:function(){return this.dialog.querySelector(".dialog__container")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"backdrop",{get:function(){return this.dialog.children[1]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"closeBtn",{get:function(){return this.dialog.querySelector(".dialog__close")},enumerable:!1,configurable:!0}),s.prototype.mergeWithDefaultPropValues=function(e){var t=null==(t=e.canBeClosedByUser)||t,n=null!=(n=e.clickAwayClose)&&n,i=null!=(i=e.enableCloseBtn)?i:t,r=null!=(r=e.classes)?r:[];return{dialogName:e.dialogName,canBeClosedByUser:t,clickAwayClose:n,escapeKeyClose:t,enableCloseBtn:i,classes:r}},s.prototype.getContent=function(){return this.content},s.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},s.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},s.visibleDialogs=new Set,s);function s(e){var i=this;void 0===e&&(e={}),this.isShown=!1,this.contentsListeningTo=new Array,this.destroyed=!1,this._canBeClosedByUser=void 0,this._isClosing=!1,this.show=function(){if(i.destroyed)throw"This dialog was destroyed. It's no longer usable";var e,t,n;document.body.style.overflow="hidden",i.isShown||(e=i.element,t=i.backdrop,n=i.closeBtn,i.content&&i.content.reset(),0==i.props.enableCloseBtn&&n&&(n.style.display="none"),i.dialog.style.display="",i.elementContainer,e.offsetWidth,i.elementContainer.classList.add("dialog__container--appeared"),t.offsetWidth,t.classList.add("dialog__backdrop--appeared"),i.isShown=!0,s.visibleDialogs.add(i),i.dispatchEvent(new r.IloveEvent("shown")))},this.close=function(){if(i.destroyed)throw"This dialog was destroyed. It's no longer usable";i.isShown&&(i.elementContainer.classList.remove("dialog__container--appeared"),i.backdrop.classList.remove("dialog__backdrop--appeared"),i._isClosing=!0,setTimeout(function(){i._dialog&&(i.dialog.style.display="none"),i.isShown=!1,i._isClosing=!1,document.body.style.overflow="",s.visibleDialogs.delete(i),i.dispatchEvent(new r.IloveEvent("hidden"))},250),i.dispatchEvent(new r.IloveEvent("closed")),i.content)&&i.content.notifyOfContainerClosing()},this.getDialogName=function(){return i.props.dialogName},this.destroy=function(){i.destroyed||(i._dialog&&(i._dialog.parentNode.removeChild(i._dialog),i._dialog=void 0),i.destroyed=!0)},this.setContent=function(e){if(i.destroyed)throw"This dialog was destroyed. It's no longer usable";return(i.content=e).setContextPlacement("dialog"),e.render(i.domRoot),i.listenToEvents(e),i},this._closeOnEscapeKey=function(e){"Escape"===e.key&&i.close()},this.createDialogContainer=function(){var e=document.createElement("div");return e.classList.add("dialog__container"),e},this.createDialogElement=function(){var e=document.createElement("div");return e.classList.add("dialog__element"),e},this.createDialogBackdrop=function(){var e=document.createElement("div");return e.classList.add("dialog__backdrop"),i.props.clickAwayClose&&e.addEventListener("click",function(){i.canBeClosedByUser()&&i.close()}),e},this.initCloseBtn=function(){i.dialog.addEventListener("click",function(e){e.target.classList.contains("dialog__close")&&i.canBeClosedByUser()&&(a.Banner.preventClickAds(),i.close())})},this.eventEmitter=new o.ILoveEventEmitter,this.props=this.mergeWithDefaultPropValues(e)}t.Dialog=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureEventManager=void 0,n(190)),n=(r=n.EventManager,o(a,r),a.addEventListener=function(e,t,n){this.instance.addEventListener(e,t,n=void 0===n?!1:n)},a.dispatchEvent=function(e,t,n){this.instance.dispatchEvent(e,t,n=void 0===n?!0:n)},Object.defineProperty(a,"instance",{get:function(){return this._instance||(this._instance=new a),this._instance},enumerable:!1,configurable:!0}),a);function a(){return null!==r&&r.apply(this,arguments)||this}t.SignatureEventManager=n},function(e,h,m){"use strict";!function(l){var c,i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},t=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},d=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},n=(Object.defineProperty(h,"__esModule",{value:!0}),h.UserPayment=void 0,m(109)),p=e(m(15)),o=m(112),f=m(8),a=m(25),s=m(57),e=((e=c=c||{}).SUMMARY_INFO="/<locale?>/purchase-summary/info",e.CANCEL_SUBSCRIPTION="/user/subscription/cancel",e.CANCEL_SUBSCRIPTION_REASON="/user/subscription/cancel/reason",e.CANCEL_SUBSCR_OFFER="/user/subscription/canceloffer",e.REACTIVATE_SUBSCRIPTION="/user/subscription/reactivate",e.REMOVE_PAYMENT_DATA="/user/subscription/payment-remove",u.prototype.notifyPaymentError=function(e,t,n){var i,r="generic_payment_error";"update_card"===n&&(r="generic_card_update_error");try{var o=JSON.parse(t.responseText).msg;return void("stripe"===e?this.stripeService.view.notifyCardErrorMsg(o):"paypal"===e&&this.paypalService.notifyErrorMsg(o))}catch(e){}"stripe"===e?(i=(null==(n=null==t?void 0:t.error)?void 0:n.message)||this.stripeService.view.getTranslationText(r),this.stripeService.view.notifyCardErrorMsg(i)):"paypal"===e&&(i=this.paypalService.getTranslationText(r),this.paypalService.notifyErrorMsg(i))},u.prototype.clearPaymentError=function(e){function t(){i.paypalService.clearErrorMsg()}function n(){i.stripeService.view.clearCardErrorMsg()}var i=this;if(null===(e=void 0===e?null:e))t(),n();else if("paypal"===e)t();else{if("stripe"!==e)throw"Unknown provider "+e;n()}},u.prototype.enableActionButton=function(e){if("stripe"===e)this.stripeService.view.enableActionButton();else if("paypal"!==e)throw"Not implemented provider"},u.prototype.disableActionButton=function(e){if("stripe"===e)this.stripeService.view.disableActionButton();else if("paypal"!==e)throw"Not implemented provider"},u.prototype.initEventListenersOnProviders=function(){var t=this;this.stripeService.addEventListener("View:ActionButtonClicked",function(){t.dispatchEvent(new f.IloveEvent("UserPayment:ActionButtonClicked"))}),this.paypalService.addEventListener("onPaymentInited",function(e){e=Object.assign({provider:"paypal"},e.detail);t.dispatchEvent(new f.IloveEvent("UserPayment:BeforeExternalAction",e))}),this.paypalService.addEventListener("onPaymentAuthorized",function(e){e=Object.assign({provider:"paypal"},e.detail);t.updateUser(e.response),t.dispatchEvent(new f.IloveEvent("UserPayment:AfterExternalAction",e))}),this.paypalService.addEventListener("onPaymentInited_error",function(e){e=Object.assign({provider:"paypal"},e.detail);t.dispatchEvent(new f.IloveEvent("UserPayment:Error",e))}),this.paypalService.addEventListener("onPaymentAuthorized_error",function(e){e=Object.assign({provider:"paypal"},e.detail);t.dispatchEvent(new f.IloveEvent("UserPayment:Error",e))})},u.prototype.updateCard=function(i){return t(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:if("stripe"!==i.provider)return[3,5];t=void 0,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.stripeService.updateCard(i.element)];case 2:return t=e.sent(),[3,4];case 3:throw n=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==n?void 0:n.responseText)?e:n,params:i})}),p.captureMessage("Failed Stripe updateCard"),n;case 4:return this.updateUser(t),[2,t];case 5:throw"'Update card' is not implemented for provider '"+i.provider+"'"}})})},u.prototype.payPackage=function(o){return t(this,void 0,void 0,function(){var t,n,i,r;return d(this,function(e){switch(e.label){case 0:if("paypal"===o.provider)throw"This action is performed by PaypalService by mounting the view";if(t="payPackage",n=null,"stripe"!==o.provider)return[3,5];i=this.stripeService.paymentVia,i={paymentVia:i,packageName:o.packageName,quantity:o.packageQuantity,disableTrial:o.disableTrial},this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{action:t,params:o})),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.stripeService.payPackage(i)];case 2:return n=e.sent(),[3,4];case 3:throw r=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==r?void 0:r.responseText)?e:r,params:o})}),p.captureMessage("Failed Stripe payPackage"),r;case 4:return this.updateUser(n),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{action:t,params:o,response:n})),[2,n];case 5:throw"Unknown provider "+o.provider}})})},u.prototype.subscribeNextMonthsWithDiscount=function(){return t(this,void 0,void 0,function(){var t,n,i,r,o,a,s;return d(this,function(e){switch(e.label){case 0:t="subscribeNextMonthsWithDiscount",this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{action:t,params:null})),n=l.post(c.CANCEL_SUBSCR_OFFER),e.label=1;case 1:return e.trys.push([1,3,,4]),o=(r=JSON).parse,[4,n.promise()];case 2:return i=o.apply(r,[e.sent()]),[3,4];case 3:throw a=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==a?void 0:a.responseText)?e:a,params:null})}),p.captureMessage("Failed subscribeNextMonthsWithDiscount"),a;case 4:return s=i.data,this.updateUser(i),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{action:t,params:null,response:i})),[2,s]}})})},u.prototype.cancelSubscription=function(){return t(this,void 0,void 0,function(){var t,n,i,r,o,a,s;return d(this,function(e){switch(e.label){case 0:t="cancelSubscription",this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{action:t,params:null})),n=l.post(c.CANCEL_SUBSCRIPTION),e.label=1;case 1:return e.trys.push([1,3,,4]),o=(r=JSON).parse,[4,n.promise()];case 2:return i=o.apply(r,[e.sent()]),[3,4];case 3:throw a=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==a?void 0:a.responseText)?e:a,params:null})}),p.captureMessage("Failed cancelSubscription"),a;case 4:return s=i.data,this.updateUser(i),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{action:t,params:null,response:i})),[2,s]}})})},u.prototype.reactivateSubscription=function(){return t(this,void 0,void 0,function(){var t,n,i,r,o,a,s;return d(this,function(e){switch(e.label){case 0:t="reactivateSubscription",this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{action:t,params:null})),n=l.post(c.REACTIVATE_SUBSCRIPTION),e.label=1;case 1:return e.trys.push([1,3,,4]),o=(r=JSON).parse,[4,n.promise()];case 2:return i=o.apply(r,[e.sent()]),[3,4];case 3:throw a=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==a?void 0:a.responseText)?e:a,params:null})}),p.captureMessage("Failed reactivateSubscription"),a;case 4:return s=i.data,this.updateUser(i),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{action:t,params:null,response:i})),[2,s]}})})},u.prototype.cancelSubscriptionReason=function(u){return t(this,void 0,void 0,function(){var t,n,i,r,o,a,s;return d(this,function(e){switch(e.label){case 0:t="cancelSubscriptionReason",n={reason:u.reason,message:u.message},this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{action:t,params:u})),n=l.post(c.CANCEL_SUBSCRIPTION_REASON,n),e.label=1;case 1:return e.trys.push([1,3,,4]),o=(r=JSON).parse,[4,n.promise()];case 2:return i=o.apply(r,[e.sent()]),[3,4];case 3:throw a=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==a?void 0:a.responseText)?e:a,params:u})}),p.captureMessage("Failed cancelSubscriptionReason"),a;case 4:return s=i.data,this.updateUser(i),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{action:t,params:null,response:i})),[2,s]}})})},u.prototype.paySubscription=function(o){return t(this,void 0,void 0,function(){var t,n,i,r;return d(this,function(e){switch(e.label){case 0:if("paypal"===o.provider)throw"This action is performed by PaypalService by mounting the view";if(n="paySubscription","stripe"!==o.provider)return[3,5];i=this.stripeService.paymentVia,i={paymentVia:i,numUsers:o.numUsers,subscriptionInterval:o.subscriptionInterval,disableTrial:o.disableTrial,couponCode:o.couponCode},this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{detail:{action:n,params:o}})),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.stripeService.paySubscription(i)];case 2:return t=e.sent(),[3,4];case 3:throw r=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==r?void 0:r.responseText)?e:r,params:o})}),p.captureMessage("Failed Stripe PaySubscription"),r;case 4:return this.updateUser(t),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{detail:{action:n,params:null,response:t}})),[2,t];case 5:throw"Unknown provider "+o.provider}})})},u.prototype.updateSubscription=function(o){return t(this,void 0,void 0,function(){var t,n,i,r;return d(this,function(e){switch(e.label){case 0:if("paypal"===o.provider)throw"This action is performed by PaypalService by mounting the view";if(t="updateSubscription","stripe"!==o.provider)return[3,5];i=this.stripeService.paymentVia,n=void 0,i={paymentVia:i,numDigitalSignatures:o.numSignatures,numUsers:o.numUsers,subscriptionInterval:o.subscriptionInterval,disableTrial:o.disableTrial,couponCode:o.couponCode},this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{action:t,params:o})),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.stripeService.paySubscription(i)];case 2:return n=e.sent(),[3,4];case 3:throw r=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==r?void 0:r.responseText)?e:r,params:o})}),p.captureMessage("Failed Stripe UpdateSubscription"),r;case 4:return this.updateUser(n),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{action:t,params:null,response:n})),[2,n];case 5:throw"Unknown provider "+o.provider}})})},u.prototype.paymentRemove=function(){return t(this,void 0,void 0,function(){var t,n,i,r,o,a,s;return d(this,function(e){switch(e.label){case 0:t="paymentRemove",this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{detail:{action:t,params:null}})),n=l.post(c.REMOVE_PAYMENT_DATA),e.label=1;case 1:return e.trys.push([1,3,,4]),o=(r=JSON).parse,[4,n.promise()];case 2:return i=o.apply(r,[e.sent()]),[3,4];case 3:throw a=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==a?void 0:a.responseText)?e:a,params:null})}),p.captureMessage("Failed paymentRemove"),a;case 4:return s=i.data,this.updateUser(i),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{detail:{action:t,params:null,response:i}})),[2,s]}})})},u.prototype.getPaymentSummary_updateSubscription=function(e,t,n,i){return this._getPaymentSummary({type:"subscription",numDigitalSignatures:e,numUsers:t,subscriptionInterval:n,subscriptionPlan:void 0,couponCode:i})},u.prototype.getPaymentSummary_package=function(e,t){return this._getPaymentSummary({type:"package",package:e,quantity:t})},u.prototype._getPaymentSummary=function(e){var t=c.SUMMARY_INFO,t="en-US"===window.lang?t.replace("/<locale?>",""):t.replace("<locale?>",window.lang),n=null;return"subscription"===e.type?n=l.post(t,{type:"subscription",users:e.numUsers,signatures:e.numDigitalSignatures,interval:e.subscriptionInterval,code:e.couponCode}):"package"===e.type&&(n=l.post(t,{type:"package",package:e.package,quantity:e.quantity})),new Promise(function(t,i){n.done(function(e){e=JSON.parse(e);t(e)}).fail(function(t,e,n){p.configureScope(function(e){e.setExtra("error",t.responseText)}),p.captureMessage("Error while fetching payment summary"),i(t.responseText)})})},u.prototype.mountView=function(o,a,s){return t(this,void 0,void 0,function(){var t,n,i,r;return d(this,function(e){switch(e.label){case 0:switch(o){case"stripe":return[3,1];case"paypal":return[3,3]}return[3,5];case 1:return t=this.views,n="stripe",[4,this.stripeService.view.mount(a,s)];case 2:return t[n]=e.sent(),[2,this.views.stripe];case 3:return i=this.views,r="paypal",[4,this.paypalService.mountView(a,s)];case 4:return i[r]=e.sent(),[2,this.views.paypal];case 5:return[2]}})})},u.prototype.updateUser=function(e){s.UserAuth.updateUser(e.user),e.content&&s.UserAuth.updateUserMenu(e.content)},u.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},u.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},u);function u(e){void 0===e&&(e={}),this.views={},this.eventEmitter=new a.ILoveEventEmitter,Object.assign(this,e),this.stripeService=new n.StripeService,this.paypalService=new o.PaypalService,this.initEventListenersOnProviders()}h.UserPayment=e}.call(this,m(1))},function(t,e,n){!function(e){t.exports=e.$=n(84)}.call(this,n(31))},function(Kt,Jt,e){var Zt;!function(e,t){"use strict";"object"==typeof Kt.exports?Kt.exports=e.document?t(e,!0):function(e){if(e.document)return t(e);throw new Error("jQuery requires a window with a document")}:t(e)}("undefined"!=typeof window?window:this,function(w,F){"use strict";function y(e){return"function"==typeof e&&"number"!=typeof e.nodeType}function m(e){return null!=e&&e===e.window}var e=[],E=w.document,B=Object.getPrototypeOf,s=e.slice,N=e.concat,j=e.push,R=e.indexOf,U={},q=U.toString,H=U.hasOwnProperty,z=H.toString,V=z.call(Object),g={},W={type:!0,src:!0,noModule:!0};function G(e,t,n){var i,r=(t=t||E).createElement("script");if(r.text=e,n)for(i in W)n[i]&&(r[i]=n[i]);t.head.appendChild(r).parentNode.removeChild(r)}function h(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?U[q.call(e)]||"object":typeof e}var S=function(e,t){return new S.fn.init(e,t)},Y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Q(e){var t=!!e&&"length"in e&&e.length,n=h(e);return!y(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:"3.3.1",constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=S.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:j,sort:e.sort,splice:e.splice},S.extend=S.fn.extend=function(){var e,t,n,i,r,o=arguments[0]||{},a=1,s=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[a]||{},a++),"object"==typeof o||y(o)||(o={}),a===s&&(o=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)r=o[t],o!==(n=e[t])&&(u&&n&&(S.isPlainObject(n)||(i=Array.isArray(n)))?(r=i?(i=!1,r&&Array.isArray(r)?r:[]):r&&S.isPlainObject(r)?r:{},o[t]=S.extend(u,r,n)):void 0!==n&&(o[t]=n));return o},S.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==q.call(e)||(e=B(e))&&("function"!=typeof(e=H.call(e,"constructor")&&e.constructor)||z.call(e)!==V))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e){G(e)},each:function(e,t){var n,i=0;if(Q(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(Y,"")},makeArray:function(e,t){t=t||[];return null!=e&&(Q(Object(e))?S.merge(t,"string"==typeof e?[e]:e):j.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:R.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!=a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(Q(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return N.apply([],a)},guid:1,support:g}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=e[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){U["[object "+t+"]"]=t.toLowerCase()});function i(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&S(e).is(n))break;i.push(e)}return i}function K(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var e=function(F){function d(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function B(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function N(){E()}var e,f,_,o,j,h,R,U,w,u,l,E,S,n,C,m,i,r,g,D="sizzle"+ +new Date,v=F.document,A=0,q=0,H=de(),z=de(),y=de(),V=function(e,t){return e===t&&(l=!0),0},W={}.hasOwnProperty,t=[],G=t.pop,Y=t.push,x=t.push,Q=t.slice,b=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",a="[\\x20\\t\\r\\n\\f]",s="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",J="\\["+a+"*("+s+")(?:"+a+"*([*^$|!~]?=)"+a+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+s+"))|)"+a+"*\\]",Z=":("+s+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+J+")*)|.*)\\)|)",X=new RegExp(a+"+","g"),O=new RegExp("^"+a+"+|((?:^|[^\\\\])(?:\\\\.)*)"+a+"+$","g"),ee=new RegExp("^"+a+"*,"+a+"*"),te=new RegExp("^"+a+"*([>+~]|"+a+")"+a+"*"),ne=new RegExp("="+a+"*([^\\]'\"]*?)"+a+"*\\]","g"),ie=new RegExp(Z),re=new RegExp("^"+s+"$"),p={ID:new RegExp("^#("+s+")"),CLASS:new RegExp("^\\.("+s+")"),TAG:new RegExp("^("+s+"|[*])"),ATTR:new RegExp("^"+J),PSEUDO:new RegExp("^"+Z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+a+"*(even|odd|(([+-]|)(\\d*)n|)"+a+"*(?:([+-]|)"+a+"*(\\d+)|))"+a+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+a+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+a+"*((?:-\\d)?\\d*)"+a+"*\\)|)(?=[^-]|$)","i")},oe=/^(?:input|select|textarea|button)$/i,ae=/^h\d$/i,c=/^[^{]+\{\s*\[native \w/,se=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ue=/[+~]/,T=new RegExp("\\\\([\\da-f]{1,6}"+a+"?|("+a+")|.)","ig"),le=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ce=M(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{x.apply(t=Q.call(v.childNodes),v.childNodes),t[v.childNodes.length].nodeType}catch(e){x={apply:t.length?function(e,t){Y.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function I(e,t,n,i){var r,o,a,s,u,l,c,d=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!i&&((t?t.ownerDocument||t:v)!==S&&E(t),t=t||S,C)){if(11!==p&&(u=se.exec(e)))if(r=u[1]){if(9===p){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(d&&(a=d.getElementById(r))&&g(t,a)&&a.id===r)return n.push(a),n}else{if(u[2])return x.apply(n,t.getElementsByTagName(e)),n;if((r=u[3])&&f.getElementsByClassName&&t.getElementsByClassName)return x.apply(n,t.getElementsByClassName(r)),n}if(f.qsa&&!y[e+" "]&&(!m||!m.test(e))){if(1!==p)d=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(le,B):t.setAttribute("id",s=D),o=(l=h(e)).length;o--;)l[o]="#"+s+" "+L(l[o]);c=l.join(","),d=ue.test(e)&&me(t.parentNode)||t}if(c)try{return x.apply(n,d.querySelectorAll(c)),n}catch(e){}finally{s===D&&t.removeAttribute("id")}}}return U(e.replace(O,"$1"),t,n,i)}function de(){var n=[];function i(e,t){return n.push(e+" ")>_.cacheLength&&delete i[n.shift()],i[e+" "]=t}return i}function P(e){return e[D]=!0,e}function $(e){var t=S.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function pe(e,t){for(var n=e.split("|"),i=n.length;i--;)_.attrHandle[n[i]]=t}function fe(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ce(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function k(a){return P(function(o){return o=+o,P(function(e,t){for(var n,i=a([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=I.support={},j=I.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},E=I.setDocument=function(e){var e=e?e.ownerDocument||e:v;return e!==S&&9===e.nodeType&&e.documentElement&&(n=(S=e).documentElement,C=!j(S),v!==S&&(e=S.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",N,!1):e.attachEvent&&e.attachEvent("onunload",N)),f.attributes=$(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=$(function(e){return e.appendChild(S.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=c.test(S.getElementsByClassName),f.getById=$(function(e){return n.appendChild(e).id=D,!S.getElementsByName||!S.getElementsByName(D).length}),f.getById?(_.filter.ID=function(e){var t=e.replace(T,d);return function(e){return e.getAttribute("id")===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&C)return(t=t.getElementById(e))?[t]:[]}):(_.filter.ID=function(e){var t=e.replace(T,d);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},_.find.ID=function(e,t){if(void 0!==t.getElementById&&C){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),_.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},_.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&C)return t.getElementsByClassName(e)},i=[],m=[],(f.qsa=c.test(S.querySelectorAll))&&($(function(e){n.appendChild(e).innerHTML="<a id='"+D+"'></a><select id='"+D+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+a+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+a+"*(?:value|"+K+")"),e.querySelectorAll("[id~="+D+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+D+"+*").length||m.push(".#.+[+~]")}),$(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=S.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+a+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),n.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(f.matchesSelector=c.test(r=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector))&&$(function(e){f.disconnectedMatch=r.call(e,"*"),r.call(e,"[s!='']:x"),i.push("!=",Z)}),m=m.length&&new RegExp(m.join("|")),i=i.length&&new RegExp(i.join("|")),e=c.test(n.compareDocumentPosition),g=e||c.test(n.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=e?function(e,t){var n;return e===t?(l=!0,0):(n=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e===S||e.ownerDocument===v&&g(v,e)?-1:t===S||t.ownerDocument===v&&g(v,t)?1:u?b(u,e)-b(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===S?-1:t===S?1:r?-1:o?1:u?b(u,e)-b(u,t):0;if(r===o)return fe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?fe(a[i],s[i]):a[i]===v?-1:s[i]===v?1:0}),S},I.matches=function(e,t){return I(e,null,null,t)},I.matchesSelector=function(e,t){if((e.ownerDocument||e)!==S&&E(e),t=t.replace(ne,"='$1']"),f.matchesSelector&&C&&!y[t+" "]&&(!i||!i.test(t))&&(!m||!m.test(t)))try{var n=r.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<I(t,S,null,[e]).length},I.contains=function(e,t){return(e.ownerDocument||e)!==S&&E(e),g(e,t)},I.attr=function(e,t){(e.ownerDocument||e)!==S&&E(e);var n=_.attrHandle[t.toLowerCase()],n=n&&W.call(_.attrHandle,t.toLowerCase())?n(e,t,!C):void 0;return void 0!==n?n:f.attributes||!C?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},I.escape=function(e){return(e+"").replace(le,B)},I.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},I.uniqueSort=function(e){var t,n=[],i=0,r=0;if(l=!f.detectDuplicates,u=!f.sortStable&&e.slice(0),e.sort(V),l){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return u=null,e},o=I.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(_=I.selectors={cacheLength:50,createPseudo:P,match:p,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(T,d),e[3]=(e[3]||e[4]||e[5]||"").replace(T,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||I.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&I.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return p.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ie.test(n)&&(t=(t=h(n,!0))&&n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(T,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+a+")"+e+"("+a+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=I.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(X," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,m,g){var v="nth"!==h.slice(0,3),y="last"!==h.slice(-4),b="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,a,s,u,l=v!=y?"nextSibling":"previousSibling",c=e.parentNode,d=b&&e.nodeName.toLowerCase(),p=!n&&!b,f=!1;if(c){if(v){for(;l;){for(a=e;a=a[l];)if(b?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[y?c.firstChild:c.lastChild],y&&p){for(f=(s=(i=(r=(o=(a=c)[D]||(a[D]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===A&&i[1])&&i[2],a=s&&c.childNodes[s];a=++s&&a&&a[l]||(f=s=0,u.pop());)if(1===a.nodeType&&++f&&a===e){r[h]=[A,s,f];break}}else if(!1===(f=p?s=(i=(r=(o=(a=e)[D]||(a[D]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===A&&i[1]:f))for(;(a=++s&&a&&a[l]||(f=s=0,u.pop()))&&((b?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++f||(p&&((r=(o=a[D]||(a[D]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[A,f]),a!==e)););return(f-=g)===m||f%m==0&&0<=f/m}}},PSEUDO:function(e,o){var t,a=_.pseudos[e]||_.setFilters[e.toLowerCase()]||I.error("unsupported pseudo: "+e);return a[D]?a(o):1<a.length?(t=[e,e,"",o],_.setFilters.hasOwnProperty(e.toLowerCase())?P(function(e,t){for(var n,i=a(e,o),r=i.length;r--;)e[n=b(e,i[r])]=!(t[n]=i[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:P(function(e){var i=[],r=[],s=R(e.replace(O,"$1"));return s[D]?P(function(e,t,n,i){for(var r,o=s(e,null,i,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),i[0]=null,!r.pop()}}),has:P(function(t){return function(e){return 0<I(t,e).length}}),contains:P(function(t){return t=t.replace(T,d),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:P(function(n){return re.test(n||"")||I.error("unsupported lang: "+n),n=n.replace(T,d).toLowerCase(),function(e){var t;do{if(t=C?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=F.location&&F.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===n},focus:function(e){return e===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return ae.test(e.nodeName)},input:function(e){return oe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:k(function(){return[0]}),last:k(function(e,t){return[t-1]}),eq:k(function(e,t,n){return[n<0?n+t:n]}),even:k(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:k(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:k(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:k(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})_.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ge(){}function L(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function M(a,e,t){var s=e.dir,u=e.next,l=u||s,c=t&&"parentNode"===l,d=q++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||c)return a(e,t,n);return!1}:function(e,t,n){var i,r,o=[A,d];if(n){for(;e=e[s];)if((1===e.nodeType||c)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||c)if(r=(r=e[D]||(e[D]={}))[e.uniqueID]||(r[e.uniqueID]={}),u&&u===e.nodeName.toLowerCase())e=e[s]||e;else{if((i=r[l])&&i[0]===A&&i[1]===d)return o[2]=i[2];if((r[l]=o)[2]=a(e,t,n))return!0}return!1}}function ve(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function ye(e,t,n,i,r){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)!(o=e[s])||n&&!n(o,i,r)||(a.push(o),l&&t.push(s));return a}function be(f,h,m,g,v,e){return g&&!g[D]&&(g=be(g)),v&&!v[D]&&(v=be(v,e)),P(function(e,t,n,i){var r,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)I(e,t[i],n);return n}(h||"*",n.nodeType?[n]:n,[]),d=!f||!e&&h?c:ye(c,s,f,n,i),p=m?v||(e?f:l||g)?[]:t:d;if(m&&m(d,p,n,i),g)for(r=ye(p,u),g(r,[],n,i),o=r.length;o--;)(a=r[o])&&(p[u[o]]=!(d[u[o]]=a));if(e){if(v||f){if(v){for(r=[],o=p.length;o--;)(a=p[o])&&r.push(d[o]=a);v(null,p=[],r,i)}for(o=p.length;o--;)(a=p[o])&&-1<(r=v?b(e,a):s[o])&&(e[r]=!(t[r]=a))}}else p=ye(p===t?p.splice(l,p.length):p),v?v(null,t,p,i):x.apply(t,p)})}function _e(g,v){function e(e,t,n,i,r){var o,a,s,u=0,l="0",c=e&&[],d=[],p=w,f=e||b&&_.find.TAG("*",r),h=A+=null==p?1:Math.random()||.1,m=f.length;for(r&&(w=t===S||t||r);l!==m&&null!=(o=f[l]);l++){if(b&&o){for(a=0,t||o.ownerDocument===S||(E(o),n=!C);s=g[a++];)if(s(o,t||S,n)){i.push(o);break}r&&(A=h)}y&&((o=!s&&o)&&u--,e)&&c.push(o)}if(u+=l,y&&l!==u){for(a=0;s=v[a++];)s(c,d,t,n);if(e){if(0<u)for(;l--;)c[l]||d[l]||(d[l]=G.call(i));d=ye(d)}x.apply(i,d),r&&!e&&0<d.length&&1<u+v.length&&I.uniqueSort(i)}return r&&(A=h,w=p),c}var y=0<v.length,b=0<g.length;return y?P(e):e}return ge.prototype=_.filters=_.pseudos,_.setFilters=new ge,h=I.tokenize=function(e,t){var n,i,r,o,a,s,u,l=z[e+" "];if(l)return t?0:l.slice(0);for(a=e,s=[],u=_.preFilter;a;){for(o in n&&!(i=ee.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=te.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(O," ")}),a=a.slice(n.length)),_.filter)!(i=p[o].exec(a))||u[o]&&!(i=u[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?I.error(e):z(e,s).slice(0)},R=I.compile=function(e,t){var n,i=[],r=[],o=y[e+" "];if(!o){for(n=(t=t||h(e)).length;n--;)((o=function e(t){for(var i,n,r,o=t.length,a=_.relative[t[0].type],s=a||_.relative[" "],u=a?1:0,l=M(function(e){return e===i},s,!0),c=M(function(e){return-1<b(i,e)},s,!0),d=[function(e,t,n){return e=!a&&(n||t!==w)||((i=t).nodeType?l:c)(e,t,n),i=null,e}];u<o;u++)if(n=_.relative[t[u].type])d=[M(ve(d),n)];else{if((n=_.filter[t[u].type].apply(null,t[u].matches))[D]){for(r=++u;r<o&&!_.relative[t[r].type];r++);return be(1<u&&ve(d),1<u&&L(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(O,"$1"),n,u<r&&e(t.slice(u,r)),r<o&&e(t=t.slice(r)),r<o&&L(t))}d.push(n)}return ve(d)}(t[n]))[D]?i:r).push(o);(o=y(e,_e(r,i))).selector=e}return o},U=I.select=function(e,t,n,i){var r,o,a,s,u,l="function"==typeof e&&e,c=!i&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&C&&_.relative[o[1].type]){if(!(t=(_.find.ID(a.matches[0].replace(T,d),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=p.needsContext.test(e)?0:o.length;r--&&(a=o[r],!_.relative[s=a.type]);)if((u=_.find[s])&&(i=u(a.matches[0].replace(T,d),ue.test(o[0].type)&&me(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&L(o))break;return x.apply(n,i),n}}return(l||R(e,c))(i,t,!C,n,!t||ue.test(e)&&me(t.parentNode)||t),n},f.sortStable=D.split("").sort(V).join("")===D,f.detectDuplicates=!!l,E(),f.sortDetached=$(function(e){return 1&e.compareDocumentPosition(S.createElement("fieldset"))}),$(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||pe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&$(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||pe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),$(function(e){return null==e.getAttribute("disabled")})||pe(K,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),I}(w),J=(S.find=e,S.expr=e.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=e.uniqueSort,S.text=e.getText,S.isXMLDoc=e.isXML,S.contains=e.contains,S.escapeSelector=e.escape,S.expr.match.needsContext);function u(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var Z=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function X(e,n,i){return y(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?S.grep(e,function(e){return e===n!==i}):"string"!=typeof n?S.grep(e,function(e){return-1<R.call(n,e)!==i}):S.filter(n,e,i)}S.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?S.find.matchesSelector(i,e)?[i]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<i;t++)if(S.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)S.find(e,r[t],n);return 1<i?S.uniqueSort(n):n},filter:function(e){return this.pushStack(X(this,e||[],!1))},not:function(e){return this.pushStack(X(this,e||[],!0))},is:function(e){return!!X(this,"string"==typeof e&&J.test(e)?S(e):e||[],!1).length}});var ee,te=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ne=((S.fn.init=function(e,t,n){if(e){if(n=n||ee,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:te.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),Z.test(i[1])&&S.isPlainObject(t))for(var i in t)y(this[i])?this[i](t[i]):this.attr(i,t[i])}else(n=E.getElementById(i[2]))&&(this[0]=n,this.length=1)}return this}).prototype=S.fn,ee=S(E),/^(?:parents|prev(?:Until|All))/),ie={children:!0,contents:!0,next:!0,prev:!0};function re(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&S(e);if(!J.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?R.call(S(e),this[0]):R.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return i(e,"parentNode")},parentsUntil:function(e,t,n){return i(e,"parentNode",n)},next:function(e){return re(e,"nextSibling")},prev:function(e){return re(e,"previousSibling")},nextAll:function(e){return i(e,"nextSibling")},prevAll:function(e){return i(e,"previousSibling")},nextUntil:function(e,t,n){return i(e,"nextSibling",n)},prevUntil:function(e,t,n){return i(e,"previousSibling",n)},siblings:function(e){return K((e.parentNode||{}).firstChild,e)},children:function(e){return K(e.firstChild)},contents:function(e){return u(e,"iframe")?e.contentDocument:(u(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(i,r){S.fn[i]=function(e,t){var n=S.map(this,r,e);return(t="Until"!==i.slice(-5)?e:t)&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(ie[i]||S.uniqueSort(n),ne.test(i))&&n.reverse(),this.pushStack(n)}});var C=/[^\x20\t\r\n\f]+/g;function c(e){return e}function oe(e){throw e}function ae(e,t,n,i){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(n):e&&y(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(i){var e,n;i="string"==typeof i?(e=i,n={},S.each(e.match(C)||[],function(e,t){n[t]=!0}),n):S.extend({},i);function r(){for(s=s||i.once,a=o=!0;l.length;c=-1)for(t=l.shift();++c<u.length;)!1===u[c].apply(t[0],t[1])&&i.stopOnFalse&&(c=u.length,t=!1);i.memory||(t=!1),o=!1,s&&(u=t?[]:"")}var o,t,a,s,u=[],l=[],c=-1,d={add:function(){return u&&(t&&!o&&(c=u.length-1,l.push(t)),function n(e){S.each(e,function(e,t){y(t)?i.unique&&d.has(t)||u.push(t):t&&t.length&&"string"!==h(t)&&n(t)})}(arguments),t)&&!o&&r(),this},remove:function(){return S.each(arguments,function(e,t){for(var n;-1<(n=S.inArray(t,u,n));)u.splice(n,1),n<=c&&c--}),this},has:function(e){return e?-1<S.inArray(e,u):0<u.length},empty:function(){return u=u&&[],this},disable:function(){return s=l=[],u=t="",this},disabled:function(){return!u},lock:function(){return s=l=[],t||o||(u=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),o)||r(),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!a}};return d},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var r=arguments;return S.Deferred(function(i){S.each(o,function(e,t){var n=y(r[t[4]])&&r[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&y(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),r=null}).promise()},then:function(t,n,i){var u=0;function l(r,o,a,s){return function(){function e(){var e,t;if(!(r<u)){if((e=a.apply(n,i))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,y(t)?s?t.call(e,l(u,o,c,s),l(u,o,oe,s)):(u++,t.call(e,l(u,o,c,s),l(u,o,oe,s),l(u,o,c,o.notifyWith))):(a!==c&&(n=void 0,i=[e]),(s||o.resolveWith)(n,i))}}var n=this,i=arguments,t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=r+1&&(a!==oe&&(n=void 0,i=[e]),o.rejectWith(n,i))}};r?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),w.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,y(i)?i:c,e.notifyWith)),o[1][3].add(l(0,e,y(t)?t:c)),o[2][3].add(l(0,e,y(n)?n:oe))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],i=t[5];a[t[1]]=n.add,i&&n.add(function(){r=i},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){r[t]=this,o[t]=1<arguments.length?s.call(arguments):e,--n||a.resolveWith(r,o)}}var n=arguments.length,i=n,r=Array(i),o=s.call(arguments),a=S.Deferred();if(n<=1&&(ae(e,a.done(t(i)).resolve,a.reject,!n),"pending"===a.state()||y(o[i]&&o[i].then)))return a.then();for(;i--;)ae(o[i],t(i),a.reject);return a.promise()}});var se=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,ue=(S.Deferred.exceptionHook=function(e,t){w.console&&w.console.warn&&e&&se.test(e.name)&&w.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){w.setTimeout(function(){throw e})},S.Deferred());function le(){E.removeEventListener("DOMContentLoaded",le),w.removeEventListener("load",le),S.ready()}S.fn.ready=function(e){return ue.then(e).catch(function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||ue.resolveWith(E,[S])}}),S.ready.then=ue.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?w.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",le),w.addEventListener("load",le));function d(e,t,n,i,r,o,a){var s=0,u=e.length,l=null==n;if("object"===h(n))for(s in r=!0,n)d(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,y(i)||(a=!0),t=l?a?(t.call(e,i),null):(l=t,function(e,t,n){return l.call(S(e),n)}):t))for(;s<u;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:l?t.call(e):u?t(e[0],n):o}var ce=/^-ms-/,de=/-([a-z])/g;function pe(e,t){return t.toUpperCase()}function b(e){return e.replace(ce,"ms-").replace(de,pe)}function fe(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function t(){this.expando=S.expando+t.uid++}t.uid=1,t.prototype={cache:function(e){var t=e[this.expando];return t||(t={},fe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[b(t)]=n;else for(i in t)r[b(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][b(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(b):(t=b(t))in i?[t]:t.match(C)||[]).length;for(;n--;)delete i[t[n]]}void 0!==t&&!S.isEmptyObject(i)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var v=new t,l=new t,he=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,me=/[A-Z]/g;function ge(e,t,n){var i,r;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(me,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:he.test(r)?JSON.parse(r):r)}catch(e){}l.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return l.hasData(e)||v.hasData(e)},data:function(e,t,n){return l.access(e,t,n)},removeData:function(e,t){l.remove(e,t)},_data:function(e,t,n){return v.access(e,t,n)},_removeData:function(e,t){v.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,i,r,o=this[0],a=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){l.set(this,n)}):d(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=l.get(o,n))||void 0!==(t=ge(o,n))?t:void 0;this.each(function(){l.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=l.get(o),1===o.nodeType)&&!v.get(o,"hasDataAttrs")){for(t=a.length;t--;)a[t]&&0===(i=a[t].name).indexOf("data-")&&(i=b(i.slice(5)),ge(o,i,r[i]));v.set(o,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){l.remove(this,e)})}}),S.extend({queue:function(e,t,n){var i;if(e)return i=v.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=v.access(e,t,S.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),i=n.length,r=n.shift(),o=S._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){S.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v.get(e,n)||v.access(e,n,{empty:S.Callbacks("once memory").add(function(){v.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--r||o.resolveWith(a,[a])}var i,r=1,o=S.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=v.get(a[s],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),o.promise(t)}});function ve(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&S.contains(e.ownerDocument,e)&&"none"===S.css(e,"display")}function ye(e,t,n,i){var r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in n=n.apply(e,i||[]),t)e.style[r]=o[r];return n}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,p=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),f=["Top","Right","Bottom","Left"];function be(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=(S.cssNumber[t]||"px"!==l&&+u)&&p.exec(S.css(e,t));if(c&&c[3]!==l){for(l=l||c[3],c=+(u/=2)||1;a--;)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;S.style(e,t,(c*=2)+l),n=n||[]}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i)&&(i.unit=l,i.start=c,i.end=r),r}var _e={};function _(e,t){for(var n,i,r,o,a,s=[],u=0,l=e.length;u<l;u++)(i=e[u]).style&&(n=i.style.display,t?("none"===n&&(s[u]=v.get(i,"display")||null,s[u]||(i.style.display="")),""===i.style.display&&ve(i)&&(s[u]=(a=o=void 0,o=(r=i).ownerDocument,r=r.nodeName,(a=_e[r])||(o=o.body.appendChild(o.createElement(r)),a=S.css(o,"display"),o.parentNode.removeChild(o),_e[r]=a="none"===a?"block":a),a))):"none"!==n&&(s[u]="none",v.set(i,"display",n)));for(u=0;u<l;u++)null!=s[u]&&(e[u].style.display=s[u]);return e}S.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ve(this)?S(this).show():S(this).hide()})}});var we=/^(?:checkbox|radio)$/i,Ee=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Se=/^$|^module$|\/(?:java|ecma)script/i,D={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function A(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&u(e,t)?S.merge([e],n):n}function Ce(e,t){for(var n=0,i=e.length;n<i;n++)v.set(e[n],"globalEval",!t||v.get(t[n],"globalEval"))}D.optgroup=D.option,D.tbody=D.tfoot=D.colgroup=D.caption=D.thead,D.th=D.td;var De=/<|&#?\w+;/;function Ae(e,t,n,i,r){for(var o,a,s,u,l,c=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((o=e[p])||0===o)if("object"===h(o))S.merge(d,o.nodeType?[o]:o);else if(De.test(o)){for(a=a||c.appendChild(t.createElement("div")),s=(Ee.exec(o)||["",""])[1].toLowerCase(),s=D[s]||D._default,a.innerHTML=s[1]+S.htmlPrefilter(o)+s[2],l=s[0];l--;)a=a.lastChild;S.merge(d,a.childNodes),(a=c.firstChild).textContent=""}else d.push(t.createTextNode(o));for(c.textContent="",p=0;o=d[p++];)if(i&&-1<S.inArray(o,i))r&&r.push(o);else if(u=S.contains(o.ownerDocument,o),a=A(c.appendChild(o),"script"),u&&Ce(a),n)for(l=0;o=a[l++];)Se.test(o.type||"")&&n.push(o);return c}P=E.createDocumentFragment().appendChild(E.createElement("div")),(a=E.createElement("input")).setAttribute("type","radio"),a.setAttribute("checked","checked"),a.setAttribute("name","t"),P.appendChild(a),g.checkClone=P.cloneNode(!0).cloneNode(!0).lastChild.checked,P.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!P.cloneNode(!0).lastChild.defaultValue;var xe=E.documentElement,Oe=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ie=/^([^.]*)(?:\.(.+)|)/;function Pe(){return!0}function x(){return!1}function $e(){try{return E.activeElement}catch(e){}}function ke(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)ke(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=x;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,r,i,n)})}S.event={global:{},add:function(t,e,n,i,r){var o,a,s,u,l,c,d,p,f,h=v.get(t);if(h)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&S.find.matchesSelector(xe,r),n.guid||(n.guid=S.guid++),s=(s=h.events)||(h.events={}),a=(a=h.handle)||(h.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(C)||[""]).length;u--;)d=f=(p=Ie.exec(e[u])||[])[1],p=(p[2]||"").split(".").sort(),d&&(l=S.event.special[d]||{},d=(r?l.delegateType:l.bindType)||d,l=S.event.special[d]||{},f=S.extend({type:d,origType:f,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:p.join(".")},o),(c=s[d])||((c=s[d]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(t,i,p,a))||t.addEventListener&&t.addEventListener(d,a),l.add&&(l.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),r?c.splice(c.delegateCount++,0,f):c.push(f),S.event.global[d]=!0)},remove:function(e,t,n,i,r){var o,a,s,u,l,c,d,p,f,h,m,g=v.hasData(e)&&v.get(e);if(g&&(u=g.events)){for(l=(t=(t||"").match(C)||[""]).length;l--;)if(f=m=(s=Ie.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),f){for(d=S.event.special[f]||{},p=u[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!r&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||S.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)S.event.remove(e,f+t[l],n,i,!0);S.isEmptyObject(u)&&v.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a=S.event.fix(e),s=new Array(arguments.length),e=(v.get(this,"events")||{})[a.type]||[],u=S.event.special[a.type]||{};for(s[0]=a,t=1;t<arguments.length;t++)s[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(o=S.event.handlers.call(this,a,e),t=0;(i=o[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(r=((S.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,r,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?-1<S(r,this).index(l):S.find(r,this,null,[l]).length),a[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==$e()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===$e()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&u(this,"input"))return this.click(),!1},_default:function(e){return u(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Pe:x,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Pe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Pe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Pe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Oe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},S.event.addProp),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){S.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),S.fn.extend({on:function(e,t,n,i){return ke(this,e,t,n,i)},one:function(e,t,n,i){return ke(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)i=e.handleObj,S(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);else{if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=x),this.each(function(){S.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r])}return this}});var Le=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Me=/<script|<style|<link/i,Fe=/checked\s*(?:[^=]|=\s*.checked.)/i,Be=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ne(e,t){return u(e,"table")&&u(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function je(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ue(e,t){var n,i,r,o,a,s;if(1===t.nodeType){if(v.hasData(e)&&(o=v.access(e),a=v.set(t,o),s=o.events))for(r in delete a.handle,a.events={},s)for(n=0,i=s[r].length;n<i;n++)S.event.add(t,r,s[r][n]);l.hasData(e)&&(o=l.access(e),a=S.extend({},o),l.set(t,a))}}function O(n,i,r,o){i=N.apply([],i);var e,t,a,s,u,l,c=0,d=n.length,p=d-1,f=i[0],h=y(f);if(h||1<d&&"string"==typeof f&&!g.checkClone&&Fe.test(f))return n.each(function(e){var t=n.eq(e);h&&(i[0]=f.call(this,e,t.html())),O(t,i,r,o)});if(d&&(t=(e=Ae(i,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(A(e,"script"),je)).length;c<d;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s)&&S.merge(a,A(u,"script")),r.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,Re),c=0;c<s;c++)u=a[c],Se.test(u.type||"")&&!v.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&S._evalUrl(u.src):G(u.textContent.replace(Be,""),l,u))}return n}function qe(e,t,n){for(var i,r=t?S.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||S.cleanData(A(i)),i.parentNode&&(n&&S.contains(i.ownerDocument,i)&&Ce(A(i,"script")),i.parentNode.removeChild(i));return e}S.extend({htmlPrefilter:function(e){return e.replace(Le,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s,u,l,c=e.cloneNode(!0),d=S.contains(e.ownerDocument,e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=A(c),i=0,r=(o=A(e)).length;i<r;i++)s=o[i],u=a[i],l=void 0,"input"===(l=u.nodeName.toLowerCase())&&we.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||A(e),a=a||A(c),i=0,r=o.length;i<r;i++)Ue(o[i],a[i]);else Ue(e,c);return 0<(a=A(c,"script")).length&&Ce(a,!d&&A(e,"script")),c},cleanData:function(e){for(var t,n,i,r=S.event.special,o=0;void 0!==(n=e[o]);o++)if(fe(n)){if(t=n[v.expando]){if(t.events)for(i in t.events)r[i]?S.event.remove(n,i):S.removeEvent(n,i,t.handle);n[v.expando]=void 0}n[l.expando]&&(n[l.expando]=void 0)}}}),S.fn.extend({detach:function(e){return qe(this,e,!0)},remove:function(e){return qe(this,e)},text:function(e){return d(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return O(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)})},prepend:function(){return O(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Ne(this,e)).insertBefore(e,t.firstChild)})},before:function(){return O(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return O(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(A(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return d(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Me.test(e)&&!D[(Ee.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(A(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return O(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(A(this)),t)&&t.replaceChild(e,this)},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],i=S(e),r=i.length-1,o=0;o<=r;o++)t=o===r?this:this.clone(!0),S(i[o])[a](t),j.apply(n,t.get());return this.pushStack(n)}});function He(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:w).getComputedStyle(e)}var ze,Ve,We,Ge,Ye,Qe,n,Ke=new RegExp("^("+e+")(?!px)[a-z%]+$","i"),Je=new RegExp(f.join("|"),"i");function r(){var e;n&&(Qe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",n.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xe.appendChild(Qe).appendChild(n),e=w.getComputedStyle(n),ze="1%"!==e.top,Ye=12===Ze(e.marginLeft),n.style.right="60%",Ge=36===Ze(e.right),Ve=36===Ze(e.width),n.style.position="absolute",We=36===n.offsetWidth||"absolute",xe.removeChild(Qe),n=null)}function Ze(e){return Math.round(parseFloat(e))}function T(e,t,n){var i,r,o=e.style;return(n=n||He(e))&&(""!==(r=n.getPropertyValue(t)||n[t])||S.contains(e.ownerDocument,e)||(r=S.style(e,t)),!g.pixelBoxStyles())&&Ke.test(r)&&Je.test(t)&&(e=o.width,t=o.minWidth,i=o.maxWidth,o.minWidth=o.maxWidth=o.width=r,r=n.width,o.width=e,o.minWidth=t,o.maxWidth=i),void 0!==r?r+"":r}function Xe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Qe=E.createElement("div"),(n=E.createElement("div")).style&&(n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===n.style.backgroundClip,S.extend(g,{boxSizingReliable:function(){return r(),Ve},pixelBoxStyles:function(){return r(),Ge},pixelPosition:function(){return r(),ze},reliableMarginLeft:function(){return r(),Ye},scrollboxSize:function(){return r(),We}}));var et=/^(none|table(?!-c[ea]).+)/,tt=/^--/,nt={position:"absolute",visibility:"hidden",display:"block"},it={letterSpacing:"0",fontWeight:"400"},rt=["Webkit","Moz","ms"],ot=E.createElement("div").style;function at(e){return S.cssProps[e]||(S.cssProps[e]=function(e){if(e in ot)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=rt.length;n--;)if((e=rt[n]+t)in ot)return e}(e)||e)}function st(e,t,n){var i=p.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function ut(e,t,n,i,r,o){var a="width"===t?1:0,s=0,u=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+f[a],!0,r)),i?("content"===n&&(u-=S.css(e,"padding"+f[a],!0,r)),"margin"!==n&&(u-=S.css(e,"border"+f[a]+"Width",!0,r))):(u+=S.css(e,"padding"+f[a],!0,r),"padding"!==n?u+=S.css(e,"border"+f[a]+"Width",!0,r):s+=S.css(e,"border"+f[a]+"Width",!0,r));return!i&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function lt(e,t,n){var i=He(e),r=T(e,t,i),o="border-box"===S.css(e,"boxSizing",!1,i),a=o;if(Ke.test(r)){if(!n)return r;r="auto"}return a=a&&(g.boxSizingReliable()||r===e.style[t]),"auto"!==r&&(parseFloat(r)||"inline"!==S.css(e,"display",!1,i))||(r=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(r=parseFloat(r)||0)+ut(e,t,n||(o?"border":"content"),a,i,r)+"px"}function o(e,t,n,i,r){return new o.prototype.init(e,t,n,i,r)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=T(e,"opacity"))?"1":t}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=b(t),u=tt.test(t),l=e.style;if(u||(t=at(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];"string"===(o=typeof n)&&(r=p.exec(n))&&r[1]&&(n=be(e,t,r),o="number"),null==n||n!=n||("number"===o&&(n+=r&&r[3]||(S.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i)))||(u?l.setProperty(t,n):l[t]=n)}},css:function(e,t,n,i){var r,o=b(t);return tt.test(t)||(t=at(o)),"normal"===(r=void 0===(r=(o=S.cssHooks[t]||S.cssHooks[o])&&"get"in o?o.get(e,!0,n):r)?T(e,t,i):r)&&t in it&&(r=it[t]),(""===n||n)&&(o=parseFloat(r),!0===n||isFinite(o))?o||0:r}}),S.each(["height","width"],function(e,o){S.cssHooks[o]={get:function(e,t,n){if(t)return!et.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?lt(e,o,n):ye(e,nt,function(){return lt(e,o,n)})},set:function(e,t,n){var i=He(e),r="border-box"===S.css(e,"boxSizing",!1,i),n=n&&ut(e,o,n,r,i);return r&&g.scrollboxSize()===i.position&&(n-=Math.ceil(e["offset"+o[0].toUpperCase()+o.slice(1)]-parseFloat(i[o])-ut(e,o,"border",!1,i)-.5)),n&&(r=p.exec(t))&&"px"!==(r[3]||"px")&&(e.style[o]=t,t=S.css(e,o)),st(0,t,n)}}}),S.cssHooks.marginLeft=Xe(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(T(e,"marginLeft"))||e.getBoundingClientRect().left-ye(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(r,o){S.cssHooks[r+o]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+f[t]+o]=i[t]||i[t-2]||i[0];return n}},"margin"!==r&&(S.cssHooks[r+o].set=st)}),S.fn.extend({css:function(e,t){return d(this,function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=He(e),r=t.length;a<r;a++)o[t[a]]=S.css(e,t[a],!1,i);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=o).prototype={constructor:o,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=o.propHooks[this.prop];return(e&&e.get?e:o.propHooks._default).get(this)},run:function(e){var t,n=o.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:o.propHooks._default).set(this),this}}).init.prototype=o.prototype,(o.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=S.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[S.cssProps[e.prop]]&&!S.cssHooks[e.prop]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=o.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=o.prototype.init,S.fx.step={};var I,ct,a,P,dt=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function ft(){ct&&(!1===E.hidden&&w.requestAnimationFrame?w.requestAnimationFrame(ft):w.setTimeout(ft,S.fx.interval),S.fx.tick())}function ht(){return w.setTimeout(function(){I=void 0}),I=Date.now()}function mt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=f[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function gt(e,t,n){for(var i,r=($.tweeners[t]||[]).concat($.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function $(r,e,t){var n,o,i,a,s,u,l,c=0,d=$.prefilters.length,p=S.Deferred().always(function(){delete f.elem}),f=function(){if(!o){for(var e=I||ht(),e=Math.max(0,h.startTime+h.duration-e),t=1-(e/h.duration||0),n=0,i=h.tweens.length;n<i;n++)h.tweens[n].run(t);if(p.notifyWith(r,[h,t,e]),t<1&&i)return e;i||p.notifyWith(r,[h,1,0]),p.resolveWith(r,[h])}return!1},h=p.promise({elem:r,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:I||ht(),duration:t.duration,tweens:[],createTween:function(e,t){t=S.Tween(r,h.opts,e,t,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(t),t},stop:function(e){var t=0,n=e?h.tweens.length:0;if(!o){for(o=!0;t<n;t++)h.tweens[t].run(1);e?(p.notifyWith(r,[h,1,0]),p.resolveWith(r,[h,e])):p.rejectWith(r,[h,e])}return this}}),m=h.props,g=m,v=h.opts.specialEasing;for(i in g)if(s=v[a=b(i)],u=g[i],Array.isArray(u)&&(s=u[1],u=g[i]=u[0]),i!==a&&(g[a]=u,delete g[i]),(l=S.cssHooks[a])&&"expand"in l)for(i in u=l.expand(u),delete g[a],u)i in g||(g[i]=u[i],v[i]=s);else v[a]=s;for(;c<d;c++)if(n=$.prefilters[c].call(h,r,m,h.opts))return y(n.stop)&&(S._queueHooks(h.elem,h.opts.queue).stop=n.stop.bind(n)),n;return S.map(m,gt,h),y(h.opts.start)&&h.opts.start.call(r,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),S.fx.timer(S.extend(f,{elem:r,anim:h,queue:h.opts.queue})),h}S.Animation=S.extend($,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return be(n.elem,e,p.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,r=(e=y(e)?(t=e,["*"]):e.match(C)).length;i<r;i++)n=e[i],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,u,l,c="width"in t||"height"in t,d=this,p={},f=e.style,h=e.nodeType&&ve(e),m=v.get(e,"fxshow");for(i in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[i],dt.test(r)){if(delete t[i],o=o||"toggle"===r,r===(h?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;h=!0}p[i]=m&&m[i]||S.style(e,i)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(p))for(i in c&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(l=m&&m.display)&&(l=v.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(_([e],!0),l=e.style.display||l,c=S.css(e,"display"),_([e]))),"inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(d.done(function(){f.display=l}),null==l&&(c=f.display,l="none"===c?"":c)),f.display="inline-block"),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),u=!1,p)u||(m?"hidden"in m&&(h=m.hidden):m=v.access(e,"fxshow",{display:l}),o&&(m.hidden=!h),h&&_([e],!0),d.done(function(){for(i in h||_([e]),v.remove(e,"fxshow"),p)S.style(e,i,p[i])})),u=gt(h?m[i]:0,i,d),i in m||(m[i]=u.start,h&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?$.prefilters.unshift(e):$.prefilters.push(e)}}),S.speed=function(e,t,n){var i=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return S.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in S.fx.speeds?i.duration=S.fx.speeds[i.duration]:i.duration=S.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&S.dequeue(this,i.queue)},i},S.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ve).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){function r(){var e=$(this,S.extend({},t),a);(o||v.get(this,"finish"))&&e.stop(!0)}var o=S.isEmptyObject(t),a=S.speed(e,n,i);return r.finish=r,o||!1===a.queue?this.each(r):this.queue(a.queue,r)},stop:function(r,e,o){function a(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof r&&(o=e,e=r,r=void 0),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=S.timers,i=v.get(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&pt.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=v.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],r=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,i){var r=S.fn[i];S.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(mt(i,!0),e,t,n)}}),S.each({slideDown:mt("show"),slideUp:mt("hide"),slideToggle:mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){S.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(I=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),I=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){ct||(ct=!0,ft())},S.fx.stop=function(){ct=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(i,e){return i=S.fx&&S.fx.speeds[i]||i,this.queue(e=e||"fx",function(e,t){var n=w.setTimeout(e,i);t.stop=function(){w.clearTimeout(n)}})},a=E.createElement("input"),P=E.createElement("select").appendChild(E.createElement("option")),a.type="checkbox",g.checkOn=""!==a.value,g.optSelected=P.selected,(a=E.createElement("input")).value="t",a.type="radio",g.radioValue="t"===a.value;var vt,k=S.expr.attrHandle,yt=(S.fn.extend({attr:function(e,t){return d(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(r=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?vt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):!(r&&"get"in r&&null!==(i=r.get(e,t)))&&null==(i=S.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){var n;if(!g.radioValue&&"radio"===t&&u(e,"input"))return n=e.value,e.setAttribute("type",t),n&&(e.value=n),t}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(C);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),vt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=k[t]||S.find.attr;k[t]=function(e,t,n){var i,r,o=t.toLowerCase();return n||(r=k[o],k[o]=i,i=null!=a(e,t,n)?o:null,k[o]=r),i}}),/^(?:input|select|textarea|button)$/i),bt=/^(?:a|area)$/i;function L(e){return(e.match(C)||[]).join(" ")}function M(e){return e.getAttribute&&e.getAttribute("class")||""}function _t(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(C)||[]}S.fn.extend({prop:function(e,t){return d(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,r=S.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(S.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode)&&e.parentNode.selectedIndex}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,i,r,o,a,s=0;if(y(t))return this.each(function(e){S(this).addClass(t.call(this,e,M(this)))});if((e=_t(t)).length)for(;n=this[s++];)if(a=M(n),i=1===n.nodeType&&" "+L(a)+" "){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a!==(a=L(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,a,s=0;if(y(t))return this.each(function(e){S(this).removeClass(t.call(this,e,M(this)))});if(!arguments.length)return this.attr("class","");if((e=_t(t)).length)for(;n=this[s++];)if(a=M(n),i=1===n.nodeType&&" "+L(a)+" "){for(o=0;r=e[o++];)for(;-1<i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");a!==(a=L(i))&&n.setAttribute("class",a)}return this},toggleClass:function(r,t){var o=typeof r,a="string"==o||Array.isArray(r);return"boolean"==typeof t&&a?t?this.addClass(r):this.removeClass(r):y(r)?this.each(function(e){S(this).toggleClass(r.call(this,e,M(this),t),t)}):this.each(function(){var e,t,n,i;if(a)for(t=0,n=S(this),i=_t(r);e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==r&&"boolean"!=o||((e=M(this))&&v.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==r&&v.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,i=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+L(M(t))+" ").indexOf(i))return!0;return!1}});function wt(e){e.stopPropagation()}var Et=/\r/g,St=(S.fn.extend({val:function(t){var n,e,i,r=this[0];return arguments.length?(i=y(t),this.each(function(e){1!==this.nodeType||(null==(e=i?t.call(this,e,S(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=S.map(e,function(e){return null==e?"":e+""})),(n=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value"))||(this.value=e)})):r?(n=S.valHooks[r.type]||S.valHooks[r.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(r,"value"))?e:"string"==typeof(e=r.value)?e.replace(Et,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:L(S.text(e))}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,r="select-one"===e.type,o=r?null:[],a=r?i+1:n.length,s=i<0?a:r?i:0;s<a;s++)if(((t=n[s]).selected||s===i)&&!t.disabled&&(!t.parentNode.disabled||!u(t.parentNode,"optgroup"))){if(t=S(t).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,o=S.makeArray(t),a=r.length;a--;)((i=r[a]).selected=-1<S.inArray(S.valHooks.option.get(i),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},g.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),g.focusin="onfocusin"in w,/^(?:focusinfocus|focusoutblur)$/),Ct=(S.extend(S.event,{trigger:function(e,t,n,i){var r,o,a,s,u,l,c,d=[n||E],p=H.call(e,"type")?e.type:e,f=H.call(e,"namespace")?e.namespace.split("."):[],h=c=o=n=n||E;if(3!==n.nodeType&&8!==n.nodeType&&!St.test(p+S.event.triggered)&&(-1<p.indexOf(".")&&(p=(f=p.split(".")).shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,(e=e[S.expando]?e:new S.Event(p,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),l=S.event.special[p]||{},i||!l.trigger||!1!==l.trigger.apply(n,t))){if(!i&&!l.noBubble&&!m(n)){for(a=l.delegateType||p,St.test(a+p)||(h=h.parentNode);h;h=h.parentNode)d.push(h),o=h;o===(n.ownerDocument||E)&&d.push(o.defaultView||o.parentWindow||w)}for(r=0;(h=d[r++])&&!e.isPropagationStopped();)c=h,e.type=1<r?a:l.bindType||p,(u=(v.get(h,"events")||{})[e.type]&&v.get(h,"handle"))&&u.apply(h,t),(u=s&&h[s])&&u.apply&&fe(h)&&(e.result=u.apply(h,t),!1===e.result)&&e.preventDefault();return e.type=p,i||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(d.pop(),t)||!fe(n)||s&&y(n[p])&&!m(n)&&((o=n[s])&&(n[s]=null),S.event.triggered=p,e.isPropagationStopped()&&c.addEventListener(p,wt),n[p](),e.isPropagationStopped()&&c.removeEventListener(p,wt),S.event.triggered=void 0,o)&&(n[s]=o),e.result}},simulate:function(e,t,n){n=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(n,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),g.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,i){function r(e){S.event.simulate(i,e.target,S.event.fix(e))}S.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=v.access(e,i);t||e.addEventListener(n,r,!0),v.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=v.access(e,i)-1;t?v.access(e,i,t):(e.removeEventListener(n,r,!0),v.remove(e,i))}}}),w.location),Dt=Date.now(),At=/\?/,xt=(S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new w.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t},/\[\]$/),Ot=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i;S.param=function(e,t){function n(e,t){t=y(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var i,r=[];if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,r,o){if(Array.isArray(e))S.each(e,function(e,t){r||xt.test(i)?o(i,t):n(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,o)});else if(r||"object"!==h(e))o(i,e);else for(var t in e)n(i+"["+t+"]",e[t],r,o)}(i,e[i],t,n);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&It.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!we.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:n.replace(Ot,"\r\n")}}).get()}});var Pt=/%20/g,$t=/#.*$/,kt=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:GET|HEAD)$/,Ft=/^\/\//,Bt={},Nt={},jt="*/".concat("*"),Rt=E.createElement("a");function Ut(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(C)||[];if(y(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function qt(t,i,r,o){var a={},s=t===Nt;function u(e){var n;return a[e]=!0,S.each(t[e]||[],function(e,t){t=t(i,r,o);return"string"!=typeof t||s||a[t]?s?!(n=t):void 0:(i.dataTypes.unshift(t),u(t),!1)}),n}return u(i.dataTypes[0])||!a["*"]&&u("*")}function Ht(e,t){var n,i,r=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i=i||{})[n]=t[n]);return i&&S.extend(!0,e,i),e}Rt.href=Ct.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,S.ajaxSettings),t):Ht(S.ajaxSettings,e)},ajaxPrefilter:Ut(Bt),ajaxTransport:Ut(Nt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var u,l,c,n,d,p,f,i,h=S.ajaxSetup({},t=t||{}),m=h.context||h,g=h.context&&(m.nodeType||m.jquery)?S(m):S.event,v=S.Deferred(),y=S.Callbacks("once memory"),b=h.statusCode||{},r={},o={},a="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(p){if(!n)for(n={};t=Lt.exec(c);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return p?c:null},setRequestHeader:function(e,t){return null==p&&(e=o[e.toLowerCase()]=o[e.toLowerCase()]||e,r[e]=t),this},overrideMimeType:function(e){return null==p&&(h.mimeType=e),this},statusCode:function(e){if(e)if(p)_.always(e[_.status]);else for(var t in e)b[t]=[b[t],e[t]];return this},abort:function(e){e=e||a;return u&&u.abort(e),s(0,e),this}};if(v.promise(_),h.url=((e||h.url||Ct.href)+"").replace(Ft,Ct.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(C)||[""],null==h.crossDomain){e=E.createElement("a");try{e.href=h.url,e.href=e.href,h.crossDomain=Rt.protocol+"//"+Rt.host!=e.protocol+"//"+e.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=S.param(h.data,h.traditional)),qt(Bt,h,t,_),!p){for(i in(f=S.event&&h.global)&&0==S.active++&&S.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Mt.test(h.type),l=h.url.replace($t,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Pt,"+")):(e=h.url.slice(l.length),h.data&&(h.processData||"string"==typeof h.data)&&(l+=(At.test(l)?"&":"?")+h.data,delete h.data),!1===h.cache&&(l=l.replace(kt,"$1"),e=(At.test(l)?"&":"?")+"_="+Dt+++e),h.url=l+e),h.ifModified&&(S.lastModified[l]&&_.setRequestHeader("If-Modified-Since",S.lastModified[l]),S.etag[l])&&_.setRequestHeader("If-None-Match",S.etag[l]),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&_.setRequestHeader("Content-Type",h.contentType),_.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+jt+"; q=0.01":""):h.accepts["*"]),h.headers)_.setRequestHeader(i,h.headers[i]);if(h.beforeSend&&(!1===h.beforeSend.call(m,_,h)||p))return _.abort();if(a="abort",y.add(h.complete),_.done(h.success),_.fail(h.error),u=qt(Nt,h,t,_)){if(_.readyState=1,f&&g.trigger("ajaxSend",[_,h]),p)return _;h.async&&0<h.timeout&&(d=w.setTimeout(function(){_.abort("timeout")},h.timeout));try{p=!1,u.send(r,s)}catch(e){if(p)throw e;s(-1,e)}}else s(-1,"No Transport")}return _;function s(e,t,n,i){var r,o,a,s=t;p||(p=!0,d&&w.clearTimeout(d),u=void 0,c=i||"",_.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var i,r,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||e.converters[r+" "+u[0]]){o=r;break}a=a||r}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(h,_,n)),a=function(e,t,n,i){var r,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(r in l)if((s=r.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[r]:!0!==l[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(h,a,_,i),i?(h.ifModified&&((n=_.getResponseHeader("Last-Modified"))&&(S.lastModified[l]=n),n=_.getResponseHeader("etag"))&&(S.etag[l]=n),204===e||"HEAD"===h.type?s="nocontent":304===e?s="notmodified":(s=a.state,r=a.data,i=!(o=a.error))):(o=s,!e&&s||(s="error",e<0&&(e=0))),_.status=e,_.statusText=(t||s)+"",i?v.resolveWith(m,[r,s,_]):v.rejectWith(m,[_,s,o]),_.statusCode(b),b=void 0,f&&g.trigger(i?"ajaxSuccess":"ajaxError",[_,h,i?r:o]),y.fireWith(m,[_,s]),f&&(g.trigger("ajaxComplete",[_,h]),--S.active||S.event.trigger("ajaxStop")))}},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,r){S[r]=function(e,t,n,i){return y(t)&&(i=i||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:r,dataType:i,data:t,success:n},S.isPlainObject(e)&&e))}}),S._evalUrl=function(e){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},S.fn.extend({wrapAll:function(e){return this[0]&&(y(e)&&(e=e.call(this[0])),e=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return y(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=y(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new w.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},Vt=S.ajaxSettings.xhr(),Wt=(g.cors=!!Vt&&"withCredentials"in Vt,g.ajax=Vt=!!Vt,S.ajaxTransport(function(r){var o,a;if(g.cors||Vt&&!r.crossDomain)return{send:function(e,t){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(zt[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=o(),a=i.onerror=i.ontimeout=o("error"),void 0!==i.onabort?i.onabort=a:i.onreadystatechange=function(){4===i.readyState&&w.setTimeout(function(){o&&a()})},o=o("abort");try{i.send(r.hasContent&&r.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(e,t){i=S("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(i[0])},abort:function(){r&&r()}}}),[]),Gt=/(=)\?(?=&|$)|\?\?/,Yt=(S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||S.expando+"_"+Dt++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,o,a=!1!==e.jsonp&&(Gt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Gt,"$1"+i):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||S.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=w[i],w[i]=function(){o=arguments},n.always(function(){void 0===r?S(w).removeProp(i):w[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,Wt.push(i)),o&&y(r)&&r(o[0]),o=r=void 0}),"script"}),g.createHTMLDocument=((e=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===e.childNodes.length),S.parseHTML=function(e,t,n){var i;return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((i=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(i)):t=E),i=!n&&[],(n=Z.exec(e))?[t.createElement(n[1])]:(n=Ae([e],t,i),i&&i.length&&S(i).remove(),S.merge([],n.childNodes)))},S.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return-1<s&&(i=L(e.slice(s)),e=e.slice(0,s)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<a.length&&S.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?S("<div>").append(S.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var i,r,o,a,s=S.css(e,"position"),u=S(e),l={};"static"===s&&(e.style.position="relative"),o=u.offset(),i=S.css(e,"top"),a=S.css(e,"left"),s=("absolute"===s||"fixed"===s)&&-1<(i+a).indexOf("auto")?(r=(s=u.position()).top,s.left):(r=parseFloat(i)||0,parseFloat(a)||0),null!=(t=y(t)?t.call(e,n,S.extend({},o)):t).top&&(l.top=t.top-o.top+r),null!=t.left&&(l.left=t.left-o.left+s),"using"in t?t.using.call(e,l):u.css(l)}},S.fn.extend({offset:function(t){var e,n;return arguments.length?void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)}):(n=this[0])?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===S.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),r.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-S.css(i,"marginTop",!0),left:t.left-r.left-S.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||xe})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;S.fn[t]=function(e){return d(this,function(e,t,n){var i;if(m(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n)return i?i[r]:e[t];i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Xe(g.pixelPosition,function(e,t){if(t)return t=T(e,n),Ke.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(i,o){S.fn[o]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return d(this,function(e,t,n){var i;return m(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+a],i["scroll"+a],e.body["offset"+a],i["offset"+a],i["client"+a])):void 0===n?S.css(e,t,r):S.style(e,t,n,r)},s,n?e:void 0,n)}})}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),S.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),S.proxy=function(e,t){var n,i;if("string"==typeof t&&(i=e[t],t=e,e=i),y(e))return n=s.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=u,S.isFunction=y,S.isWindow=m,S.camelCase=b,S.type=h,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0!==(Zt=function(){return S}.apply(Jt,[]))&&(Kt.exports=Zt),w.jQuery),Qt=w.$;return S.noConflict=function(e){return w.$===S&&(w.$=Qt),e&&w.jQuery===S&&(w.jQuery=Yt),S},F||(w.jQuery=w.$=S),S})},,function(e,r,o){"use strict";!function(i){Object.defineProperty(r,"__esModule",{value:!0}),r.Tools=void 0;var t=o(99);function n(){}n.bytesToSize=function(e){var t;return 0==e?"0 Byte":(t=Math.floor(Math.log(e)/Math.log(1024)),(e/Math.pow(1024,t)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB"][t])},n.mbytesToSize=function(e){return n.bytesToSize(1e6*e)},n.convertPointsToPixels=function(e){return e*(1+1/3)},n.strCapitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n.isRtlPage=function(){var e=null!=document.dir?document.dir:document.getElementsByTagName("html")[0].getAttribute("dir");return"rtl"==e},n.isRTL=function(){return i("body").hasClass("rtl")},Object.defineProperty(n,"textDirection",{get:function(){return n.isRTL()?"right":"left"},enumerable:!1,configurable:!0}),n.getClosestNumber=function(e,t){for(var n=Math.abs(t[0]-e),i=0,r=1;r<t.length;r++){var o=Math.abs(t[r]-e);o<n&&(i=r,n=o)}return t[i]},n.createHTMLFromText=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},n.modalView=function(e){var t='<div class="modal fade" id="'+e.id+'" aria-labelledby="'+e.id+'Modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog" role="document"><div class="modal-content">',t="title"in e?t+('<div class="modal-header"><h4 class="modal-title">'+e.title+'</h4><button type="button" class="close" data-dismiss="modal">'+n.svgClose())+"</button></div>":t+('<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close">'+n.svgClose())+"</button></div>";return"content"in e?t=t+('<div class="modal-body">'+e.content)+"</div>":t+='<div class="modal-body"></div>',"btn"in e&&(t=t+('<div class="modal-footer"><button type="button" class="btn btn-link" data-dismiss="modal">'+e.btn)+"</button></div>"),t+="</div></div></div>"},n.feedbackModalView=function(e){var t=e.id,n=e.title,n=void 0===n?"":n,i=e.content,i=void 0===i?"":i,r=e.img,r=void 0===r?"":r,o=e.primaryBtn,e=e.secondaryBtn,a="",s="";return('\n            <div class="modal modal--alert" id="'+t+'" aria-labelledby="'+t+'Modal" tabindex="-1" role="dialog"\n            aria-hidden="true">\n                <div class="modal-dialog modal-dialog-centered" role="document">\n                    <div class="modal-content modal-content--alert">\n                        <div class="dialog__content">\n                            <div class="dialog__body">\n                                '+(a=n?(r?'<img id="'+t+'-img" src='+r+' alt="Visual feedback" />':"")+'<div id="'+t+'-title" class="dialog__title">'+n+"</div>":a)+"\n\n                                "+(s=i?'<div id="'+t+'-content">'+i+"</div>":s)+'\n                                <div class="dialog__actions">\n                                    <button id="'+t+'-secondary-btn" type="button" class="btn btn--secondary" data-dismiss="modal">'+(void 0===e?"No":e)+'</button>\n                                    <button id="'+t+'-primary-btn" type="button" class="btn" data-dismiss="modal">'+(void 0===o?"Yes":o)+"</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ").trim()},n.codeModalView=function(e){return('\n        <div class="modal fade" id="'+e.id+'" aria-labelledby="'+e.id+'Modal" tabindex="-1" role="dialog"\n        aria-hidden="true">\n            <div class="modal-dialog modal-dialog-centered" role="document">\n                <div class="modal-content modal-content--code">\n                    <div class="code-editor code-editor--light">\n                        <div class="code-editor__libraries">\n                            <div class="code-editor__libraries__title black-3">\n                                <span>'+e.title+'</span>\n                            </div>\n                        </div>\n                        <div class="code-editor__content">\n                            <textarea class="code-editor__content__textarea" data-mode="javascript" readonly>\n'+e.code+"\n                            </textarea>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n        ").trim()},n.modalViewOk=function(e){return e.btn=t.Lang.t("Ok"),n.modalView(e)},n.setInputCursorAtTheEnd=function(e){var t=e.val().length;e.focus(),e[0].setSelectionRange(t,t)},n.svgClose=function(){return n.svgRemove(12,12)},n.svgRotate=function(e,t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(e=void 0===e?14:e)+'" height="'+(t=void 0===t?16:t)+'" viewBox="0 0 14 16"><path d="M11.328 6.364l1.24-1.2c.79.98 1.283 2.113 1.433 3.288h-1.775c-.123-.735-.43-1.454-.896-2.088zm.896 3.778H14c-.15 1.175-.633 2.308-1.424 3.288l-1.24-1.2c.457-.634.765-1.344.888-2.088zm-.888 4.497C10.318 15.4 9.13 15.856 7.9 16v-1.716a5.31 5.31 0 0 0 2.162-.871l1.266 1.226zM6.152 2.595V0l4 3.846-4 3.76V4.302c-2.496.406-4.394 2.485-4.394 4.995s1.898 4.59 4.394 4.995V16C2.68 15.586 0 12.746 0 9.297s2.68-6.29 6.152-6.703z" fill="#47474F" fill-rule="evenodd"/></svg>'},n.svgRemove=function(e,t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(e=void 0===e?12:e)+'" height="'+(t=void 0===t?12:t)+'" viewBox="0 0 12 12"><polygon fill="#47474F" fill-rule="evenodd" points="12 1.208 10.79 0 6 4.792 1.21 0 0 1.208 4.79 6 0 10.792 1.21 12 6 7.208 10.79 12 12 10.792 7.21 6"/></svg>'},n.svgArrowRight=function(e,t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(e=void 0===e?12:e)+'" height="'+(t=void 0===t?12:t)+'" viewBox="0 0 448 512"><path d="M313.94 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.94v46.06c0 21.382 25.85 32.1 40.97 16.97l86.06-86.06c9.373-9.373 9.373-24.57 0-33.94l-86.06-86.06c-15.12-15.12-40.97-4.41-40.97 16.97V216z"/></svg>'},n.svgHome=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="26" height="21"><path d="M22.028 12.67v6.468a1.08 1.08 0 0 1-1.083 1.083h-5.236c-.298 0-.542-.244-.542-.542v-5.056c0-.298-.244-.542-.542-.542h-3.25c-.298 0-.542.244-.542.542v5.056c0 .298-.244.542-.542.542H5.056a1.08 1.08 0 0 1-1.083-1.083V12.67a.54.54 0 0 1 .199-.42l8.486-6.987a.55.55 0 0 1 .691 0l8.486 6.987c.122.104.194.257.194.42zm3.774-2.75l-3.774-3.1V.56c0-.298-.244-.542-.542-.542h-2.528c-.298 0-.542.244-.542.542v3.277L14.377.5c-.8-.66-1.955-.66-2.753 0L.2 9.922c-.23.2-.262.533-.072.763l1.15 1.4c.2.23.533.262.763.072l10.617-8.743a.55.55 0 0 1 .691 0l10.617 8.743c.23.2.573.158.763-.072l1.15-1.4c.2-.235.153-.573-.077-.763z"/></svg>'},n.randomId=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)},n.colorpicker=function(t){var e=null,e=1==i(t).data("limit")?{preferredFormat:"hex",showPaletteOnly:!0,color:"blanchedalmond",palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]]}:{allowEmpty:!0,showInitial:!0,preferredFormat:"hex"};1==i(t).data("input")&&(e.showInput=!0),1==i(t).data("empty")&&(e.allowEmpty=!0,1==i(t).data("limit")&&e.palette.push(["transparent"]),e.change=function(e){e=0===e._a?"transparent":e.toHexString(),i(t).val(e)}),1==i(t).data("inline")&&(e.flat=!0),1==i(t).data("aplha")&&(e.showAlpha=!0),e.clickoutFiresChange=!0;try{i(t).spectrum(e)}catch(t){}},n.isElementInView=function(e,t){return void 0===t&&(t=!1),0!=e.length&&(0==t?e.offset().top<i(window).height()&&60<e.offset().top+e.height():e.offset().top+e.height()<i(window).height()&&60<e.offset().top)},n.keepInNumericBounds=function(e,t,n){return null!==e&&n<e&&(n=e),n=null!==t&&t<n?t:n},n.scrollControl=function(t,n,i){var r=0;t.scroll(function(){var e=t.scrollTop();r<e&&"function"==typeof i&&i(),e<r&&"function"==typeof n&&n(),r=e})},n.loadingFromPreviousStart=function(){var e=i(".fromPrevious");0<=e.length||(e=i('<div class="wait fromPrevious">'+t.Lang.t("previousTaskLoading")+"</div>"),i(".main").append(e)),e.css("display","flex")},n.loadingFromPreviousFail=function(){var e="<div><p>"+t.Lang.t("previousFail")+'</p><p></p><p><button class="btn" onclick="window.history.go(-1); return false;">'+t.Lang.t("previousFailBack")+'</button> <button class="btn btn--red" id="closePrevious">'+t.Lang.t("previousFailContinue")+"</button></p></div>";i(".fromPrevious").html(e).css("background-image","none")},n.loadingFromPreviousEnd=function(){i(".fromPrevious").remove()},n.serializeFormData=function(e){var t={};try{for(var n=0,i=e.entries();n<i.length;n++){var r=i[n],o=r[0],a=r[1];t[o]=a}}catch(e){}return t={info:"form data serialize failed"}},n.parseTemplate=function(n,e,t){return void 0===t&&(t="simple"),null!=(e=void 0===e?null:e)&&("simple"==t&&i.each(e,function(e,t){n=n.replace("{"+e+"}",t)}),"dollar"==t)&&i.each(e,function(e,t){n=n.replace("${"+e+"}",t)}),n},n.isEmail=function(e){return!!/^\w+([\+\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)},r.Tools=n}.call(this,o(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lazyloadCss=void 0,t.lazyloadCss=function(e,t){void 0===t&&(t={});for(var n=document.getElementsByTagName("link"),i=n.length;i--;)if(n[i].hasAttribute("href")&&n[i].href.match(e))return!0;var r,o,a=document.createElement("link");for(r in a.rel="stylesheet",a.href=e,t)t.hasOwnProperty(r)&&(o=t[r],a.setAttribute(r,o));var s=document.getElementsByTagName("link")[0];return s.parentNode.insertBefore(a,s),!0}},function(e,c,d){"use strict";!function(i){var r,e,t=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=(Object.defineProperty(c,"__esModule",{value:!0}),c.AbstractAuthState=void 0,d(57)),n=d(21),l=d(103),a=d(8),s=d(17),n=(e=n.StateBase,t(u,e),u.prototype.initAbstractAuth=function(){var t,n=this;this.abstractAuthInited||(t=this.domStateRoot,this.ELEMENTS_TO_HIDE_IN_TEMPLATE.forEach(function(e){return n.hideHtmlElement(t,e)}),this.setSocialAuthLinkContextPlacement(),l.SocialAuthPopup.addEventListener("auth:success",this._onSocialAuthSuccess),this.userAuth=new o.UserAuth({onLoginSucess:this._abstractOnLoginSuccess,onRegisterSuccess:this._abstractOnRegisterSuccess,onLoginError:this._abstractOnLoginError,onRegisterError:this._abstractOnRegisterError,runningFrom:"dialog"===this.ctx.getContextPlacement()?"popup":"auth"}),this.setUserTimeZoneInCookie(),this.initOverrideFormActions(),this.init2FactorAuth(),this.abstractAuthInited=!0)},u.prototype.showFlashMessage=function(e){var t=document.createElement("div");t.classList.add("flash"),t.innerText=e,this.currentScreen.querySelector(".social-auth").appendChild(t)},u.prototype.clearFlashMessage=function(){this.domStateRoot.querySelectorAll(".flash").forEach(function(e){return e.remove()})},Object.defineProperty(u.prototype,"extraLoginParams",{set:function(e){(this._extraLoginParams=e)||(this.userAuth.extraLoginParams=null);var t,n=[];for(t in e)n.push({name:t,value:e[t]});this.userAuth.extraLoginParams=n},enumerable:!1,configurable:!0}),u.prototype.initOverrideFormActions=function(){var t=this,e=this.domRoot;e.querySelectorAll("form").forEach(function(e){e.addEventListener("submit",function(e){e.preventDefault(),t.clearFlashMessage()})}),e.querySelectorAll("a").forEach(function(e){e.getAttribute("href").startsWith("javascript")||(e.setAttribute("data-a-href",e.href),e.href="javascript:;")}),this.goRegisterScreenBtn.addEventListener("click",function(e){return t.changeScreen("register")}),this.goLoginScreenBtn.addEventListener("click",function(e){return t.changeScreen("login")}),this.goForgetPasswordBtn.addEventListener("click",function(e){return t.changeScreen("reset")}),this.goBackFromResetScreenBtn.addEventListener("click",function(e){return t.changeScreen("login")}),this.okResetSuccessBtn.addEventListener("click",function(e){return t.dispatchEvent(new a.IloveEvent("end"))}),this.redefineActionsForLoginScreen(),this.redefineActionsForRegisterScreen(),this.redefineActionsForResetScreen()},Object.defineProperty(u.prototype,"goBackFromResetScreenBtn",{get:function(){var e=this.domRoot.querySelector("#goBackReset");if(e)return e;throw"'Go back from reset screen' button not found"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"okResetSuccessBtn",{get:function(){var e=this.domRoot.querySelector("#resetSuccessBtn");if(e)return e;throw"'OkResetSuccessBtn' button not found"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"goRegisterScreenBtn",{get:function(){var e=this.domRoot.querySelector("#goRegister");if(e)return e;throw"'Go register screen' button not found"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"goLoginScreenBtn",{get:function(){var e=this.domRoot.querySelector("#goLogin");if(e)return e;throw"'Go login screen' button not found"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"goForgetPasswordBtn",{get:function(){var e=this.domRoot.querySelector("#forget-password");if(e)return e;throw"'Go forget password screen' button not found"},enumerable:!1,configurable:!0}),u.prototype.redefineActionsForLoginScreen=function(){this.domRoot.querySelector('[data-screen="login"]').querySelector("form").addEventListener("submit",this._abstractOnLoginSubmit)},u.prototype.redefineActionsForResetScreen=function(){var e=this,t=this.domRoot.querySelector('[data-screen="reset"]'),t=(t.querySelector("form").addEventListener("submit",this._abstractOnResetSubmit),t.querySelector("form #userpasswordresetform-email"));if(!t)throw"Reset password email input not found";t.addEventListener("input",function(){return e.resetPasswordErrorDom.innerHTML=""})},Object.defineProperty(u.prototype,"resetPasswordErrorDom",{get:function(){var e=this.domStateRoot.querySelector("[data-screen='reset'] span.error");if(e)return e;throw"Error div not found"},enumerable:!1,configurable:!0}),u.prototype.redefineActionsForRegisterScreen=function(){var e=this.domRoot.querySelector('[data-screen="register"]').querySelector("form"),t=e.querySelector("#signupform-timezone"),n=s.Tools.getBrowserTimezone();"UTC"!==n&&(t.value=n),e.addEventListener("submit",this._abstractOnRegisterSubmit)},u.prototype.hideHtmlElement=function(e,t){e.querySelectorAll(t).forEach(function(e){e.style.display="none"})},u.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},u.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},u.prototype.init2FactorAuth=function(){this.domRoot.querySelector(".field-loginform-google_authenticator_code").style.display="none"},u.prototype.check2FactorError=function(e){"gacIsEmpty"==e&&(this.domRoot.querySelector(".field-loginform-google_authenticator_code").style.display="block",this.domRoot.querySelector(".field-loginEmail").style.display="none",this.domRoot.querySelector(".field-inputPasswordAuth").style.display="none")},u);function u(){var u=null!==e&&e.apply(this,arguments)||this;return u.abstractAuthInited=!1,u.INITIAL_SCREEN="register",u.ELEMENTS_TO_HIDE_IN_TEMPLATE=[".form__title",".brand"],u.setUserTimeZoneInCookie=function(){var e=s.Tools.getBrowserTimezone();"UTC"!==e&&window.Cookies.set("auth_tz",e)},u._onSocialAuthSuccess=function(e){!0===e.detail.socialAuth_isNewUser?u._abstractOnRegisterSuccess({from_auth_social_login:!0}):u._abstractOnLoginSuccess({from_auth_social_login:!0})},u.setSocialAuthLinkContextPlacement=function(){var e=u.domRoot.querySelectorAll(".auth-link"),a="dialog"===u.ctx.getContextPlacement()?"popup":"auth",s=l.SocialAuthPopup.runningFromAttr;e.forEach(function(n){n.setAttribute(s,a),n.removeAttribute("onclick"),n.removeAttribute("href");var i=n.getAttribute("data-provider"),e=u.t("social_provider_"+i),t=n.getAttribute("data-auth-action"),r=u.t("login"===t?"backdrop_social_signin_title":"backdrop_social_signup_title",{social_provider:e}),o=u.t("backdrop_social_subtitle");n.addEventListener("click",function(){var e=u.domStateRoot.querySelector(".auth-screens__backdrop--social"),t=document.createElement("div");t.innerHTML=e.innerHTML,u.showBackdrop(t,r,o),u.setBackdropCallback(function(){l.SocialAuthPopup.focusWindow()},function(){l.SocialAuthPopup.closeWindow(),u.clearBackdrop()}),l.SocialAuthPopup.open(i,{},n).then(u.clearBackdrop,function(e){u.clearBackdrop(),e.errors&&u.showFlashMessage(e.errors[0])})})})},u.clearInputs=function(){u.domStateRoot.querySelectorAll("input").forEach(function(e){return e.value=""})},u._abstractOnResetSubmit=function(e){var t=u.domRoot.querySelector('[data-screen="reset"] form'),t=i(t).serializeArray();u.showLoadingScreen(),u.userAuth.sendResetPasswordEmail(t).then(function(e){var t=u.domStateRoot.querySelector(".reset-password-success-msg");if(!t)throw"'Reset password success' element not found";t.innerHTML=e.data.status_msg,u.changeScreen("reset-success"),u.clearLoadingScreen()},function(e){u.clearLoadingScreen();var t,n=null==(n=null==e?void 0:e.responseJSON)?void 0:n.data;throw null!=(t=null==n?void 0:n.errors)&&t.email?u.resetPasswordErrorDom.innerHTML=n.errors.email.join(","):u.resetPasswordErrorDom.innerHTML=null!=(t=null==(n=null==(t=null==e?void 0:e.responseJSON)?void 0:t.data)?void 0:n.status_msg)?t:"",e})},u._abstractOnLoginSubmit=function(e){var t=u.domRoot.querySelector('[data-screen="login"] form'),n=i(t).serializeArray();u.userAuth.extraLoginParams&&u.userAuth.extraLoginParams.forEach(function(e){n.push(e)}),u.showLoadingScreen(),u.userAuth.login(n)},u._abstractOnRegisterSubmit=function(e){var t=u.domRoot.querySelector('[data-screen="register"] form'),t=i(t).serializeArray();u.showLoadingScreen(),u.userAuth.register(t)},u._abstractOnLoginSuccess=function(e){u.clearLoadingScreen(),!0!==(null==e?void 0:e.from_auth_social_login)&&o.UserAuth.sendEventUserAuth(),u._onLoginSuccess(e),u.dispatchEvent(new a.IloveEvent("login:success"))},u._abstractOnRegisterSuccess=function(e){u.clearLoadingScreen(),!0!==(null==e?void 0:e.from_auth_social_login)&&o.UserAuth.sendEventUserAuth(),u._onRegisterSuccess(e),u.dispatchEvent(new a.IloveEvent("register:success"))},u._abstractOnLoginError=function(e){u.genericAuthErrorHandler(e)},u._abstractOnRegisterError=function(e){u.genericAuthErrorHandler(e)},u.genericAuthErrorHandler=function(e){u.clearLoadingScreen(),u.clearFlashMessage();var t=e.responseJSON;(t=t||"object"!=typeof e?t:e)&&(t=t[e=Object.keys(t)[0]][0],u.showFlashMessage(t),u.check2FactorError(e))},u}c.AbstractAuthState=n}.call(this,d(1))},function(e,t,n){"use strict";!function(n){function e(){}Object.defineProperty(t,"__esModule",{value:!0}),t.TextHelper=void 0,e.width=function(e,t){void 0===t&&(t=null);e=n("<div>"+e+"</div>"),e.css({position:"absolute",visibility:"hidden",height:"auto",width:"auto","white-space":"nowrap","font-size":t}),e.appendTo(n("body")),t=e.width();return e.remove(),t},e.getExistantTextNodeHeight=function(e){var t,n=0;return n=document.createRange&&((t=document.createRange()).selectNodeContents(e),t.getBoundingClientRect)&&(e=t.getBoundingClientRect())?e.bottom-e.top:n},e.sanitize=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return e.replace(/[&<>"'/]/gi,function(e){return t[e]})},e.stripTags=function(e){return e.replace(/(<([^>]+)>)/gi,"")},e.maxLength=function(e,t){return e.substring(0,t)},e.maxLengthEllipse=function(e,t){return e.length>t?e.substring(0,t-3)+"...":e},e.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.setEndOfContenteditable=function(e){var t,n;document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select())},t.TextHelper=e}.call(this,n(1))},,function(e,t,n){var i,r;!function(){"use strict";r=[n(33)],void 0!==(r="function"==typeof(i=function(E){"use strict";var o=E.transform;E.transform=function(e,t,n,i,r){o.call(E,E.scale(e,t,r),t,n,i,r)},E.transformCoordinates=function(){},E.getTransformedOptions=function(e,t){var n=t.aspectRatio;var i;var r;var o;var a;if(!n)return t;i={};for(r in t)if(Object.prototype.hasOwnProperty.call(t,r))i[r]=t[r];i.crop=true;o=e.naturalWidth||e.width;a=e.naturalHeight||e.height;if(o/a>n){i.maxWidth=a*n;i.maxHeight=a}else{i.maxWidth=o;i.maxHeight=o/n}return i},E.renderImageToCanvas=function(e,t,n,i,r,o,a,s,u,l,c){var d=e.getContext("2d");if(c.imageSmoothingEnabled===false)d.imageSmoothingEnabled=false;else if(c.imageSmoothingQuality)d.imageSmoothingQuality=c.imageSmoothingQuality;d.drawImage(t,n,i,r,o,a,s,u,l);return e},E.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},E.scale=function(e,t,n){t=t||{};var i=document.createElement("canvas");var r=e.getContext||E.hasCanvasOption(t)&&i.getContext;var o=e.naturalWidth||e.width;var a=e.naturalHeight||e.height;var s=o;var u=a;var l;var c;var d;var p;var f;var h;var m;var g;var v;var y;var b;function _(){var e=Math.max((d||s)/s,(p||u)/u);if(e>1){s*=e;u*=e}}function w(){var e=Math.min((l||s)/s,(c||u)/u);if(e<1){s*=e;u*=e}}if(r){t=E.getTransformedOptions(e,t,n);m=t.left||0;g=t.top||0;if(t.sourceWidth){f=t.sourceWidth;if(t.right!==undefined&&t.left===undefined)m=o-f-t.right}else f=o-m-(t.right||0);if(t.sourceHeight){h=t.sourceHeight;if(t.bottom!==undefined&&t.top===undefined)g=a-h-t.bottom}else h=a-g-(t.bottom||0);s=f;u=h}l=t.maxWidth;c=t.maxHeight;d=t.minWidth;p=t.minHeight;if(r&&l&&c&&t.crop){s=l;u=c;b=f/h-l/c;if(b<0){h=c*f/l;if(t.top===undefined&&t.bottom===undefined)g=(a-h)/2}else if(b>0){f=l*h/c;if(t.left===undefined&&t.right===undefined)m=(o-f)/2}}else{if(t.contain||t.cover){d=l=l||d;p=c=c||p}if(t.cover){w();_()}else{_();w()}}if(r){v=t.pixelRatio;if(v>1){i.style.width=s+"px";i.style.height=u+"px";s*=v;u*=v;i.getContext("2d").scale(v,v)}y=t.downsamplingRatio;if(y>0&&y<1&&s<f&&u<h)while(f*y>s){i.width=f*y;i.height=h*y;E.renderImageToCanvas(i,e,m,g,f,h,0,0,i.width,i.height,t);m=0;g=0;f=i.width;h=i.height;e=document.createElement("canvas");e.width=f;e.height=h;E.renderImageToCanvas(e,i,0,0,f,h,0,0,f,h,t)}i.width=s;i.height=u;E.transformCoordinates(i,t);return E.renderImageToCanvas(i,e,m,g,f,h,0,0,s,u,t)}e.width=s;e.height=u;return e}})?i.apply(t,r):i)&&(e.exports=r)}()},function(e,t,n){var i,r;!function(){"use strict";r=[n(33),n(46)],void 0!==(r="function"==typeof(i=function(f){"use strict";f.ExifMap=function(){return this},f.ExifMap.prototype.map={Orientation:274},f.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},f.getExifThumbnail=function(e,t,n){if(!n||t+n>e.byteLength){console.log("Invalid Exif data: Invalid thumbnail data.");return}return f.createObjectURL(new Blob([e.buffer.slice(t,t+n)]))},f.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:true},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},f.exifTagTypes[7]=f.exifTagTypes[1],f.getExifValue=function(e,t,n,i,r,o){var a=f.exifTagTypes[i];var s;var u;var l;var c;var d;var p;if(!a){console.log("Invalid Exif data: Invalid tag type.");return}s=a.size*r;u=s>4?t+e.getUint32(n+8,o):n+8;if(u+s>e.byteLength){console.log("Invalid Exif data: Invalid data offset.");return}if(r===1)return a.getValue(e,u,o);l=[];for(c=0;c<r;c+=1)l[c]=a.getValue(e,u+c*a.size,o);if(a.ascii){d="";for(c=0;c<l.length;c+=1){p=l[c];if(p==="\0")break;d+=p}return d}return l},f.parseExifTag=function(e,t,n,i){return{number:e.getUint16(n,i),value:f.getExifValue(e,t,n,e.getUint16(n+2,i),e.getUint32(n+4,i),i)}},f.parseExifTags=function(e,t,n,i,r){var o,a,s,u,l;if(n+6>e.byteLength){console.log("Invalid Exif data: Invalid directory offset.");return}o=e.getUint16(n,i);a=n+2+12*o;if(a+4>e.byteLength){console.log("Invalid Exif data: Invalid directory size.");return}for(s=0;s<o;s+=1){u=n+2+12*s;l=this.parseExifTag(e,t,u,i,r);r.exif[l.number]=l.value;if(r.exifOffsets)r.exifOffsets[l.number]=u}return e.getUint32(a,i)},f.parseExifData=function(e,t,n,i,r){if(r.disableExif)return;var o=t+10;var a;var s;var u;if(e.getUint32(t+4)!==1165519206)return;if(o+8>e.byteLength){console.log("Invalid Exif data: Invalid segment size.");return}if(e.getUint16(t+8)!==0){console.log("Invalid Exif data: Missing byte alignment offset.");return}switch(e.getUint16(o)){case 18761:a=true;break;case 19789:a=false;break;default:console.log("Invalid Exif data: Invalid byte alignment marker.");return}if(e.getUint16(o+2,a)!==42){console.log("Invalid Exif data: Missing TIFF marker.");return}s=e.getUint32(o+4,a);i.exif=new f.ExifMap;if(!r.disableExifOffsets){i.exifOffsets=new f.ExifMap;i.exifTiffOffset=o;i.exifLittleEndian=a}s=f.parseExifTags(e,o,o+s,a,i);if(s&&!r.disableExifThumbnail){u={exif:{}};s=f.parseExifTags(e,o,o+s,a,u);if(u.exif[513])i.exif.Thumbnail=f.getExifThumbnail(e,o+u.exif[513],u.exif[514])}if(i.exif[34665]&&!r.disableExifSub)f.parseExifTags(e,o,o+i.exif[34665],a,i);if(i.exif[34853]&&!r.disableExifGps)f.parseExifTags(e,o,o+i.exif[34853],a,i)},f.metaDataParsers.jpeg[65505].push(f.parseExifData),f.exifWriters={274:function(e,t,n){var i=new DataView(e,t.exifOffsets[274]+8,2);i.setUint16(0,n,t.exifLittleEndian);return e}},f.writeExifData=function(e,t,n,i){f.exifWriters[t.exif.map[n]](e,t,i)}})?i.apply(t,r):i)&&(e.exports=r)}()},function(e,t,n){var i,r;!function(){"use strict";r=[n(33),n(46)],void 0!==(r="function"==typeof(i=function(c){"use strict";c.IptcMap=function(){return this},c.IptcMap.prototype.map={ObjectName:5},c.IptcMap.prototype.get=function(e){return this[e]||this[this.map[e]]},c.parseIptcTags=function(e,t,n,i){function r(e,t,n){var i="";for(var r=t;r<t+n;r++)i+=String.fromCharCode(e.getUint8(r));return i}var o,a,s;var u=t;while(u<t+n){if(e.getUint8(u)===28&&e.getUint8(u+1)===2){s=e.getUint8(u+2);if(s in i.iptc.tags){a=e.getInt16(u+3);o=r(e,u+5,a);if(Object.prototype.hasOwnProperty.call(i.iptc,s))if(i.iptc[s]instanceof Array)i.iptc[s].push(o);else i.iptc[s]=[i.iptc[s],o];else i.iptc[s]=o}}u++}},c.parseIptcData=function(e,t,n,i,r){if(r.disableIptc)return;var o=t+n;var a=function(e,t){return e.getUint32(t)===943868237&&e.getUint16(t+4)===1028};while(t+8<o){if(a(e,t)){var s=e.getUint8(t+7);if(s%2!==0)s+=1;if(s===0)s=4;var u=t+8+s;if(u>o){console.log("Invalid IPTC data: Invalid segment offset.");break}var l=e.getUint16(t+6+s);if(t+l>o){console.log("Invalid IPTC data: Invalid segment size.");break}i.iptc=new c.IptcMap;return c.parseIptcTags(e,u,l,i)}t++}console.log("No IPTC data at this offset - could be XMP")},c.metaDataParsers.jpeg[65517].push(c.parseIptcData)})?i.apply(t,r):i)&&(e.exports=r)}()},function(e,t,n){"use strict";e.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(r=r+t[i++]|0)|0,--a;);r%=65521,o%=65521}return r|o<<16|0}},function(e,t,n){"use strict";var s=function(){for(var e=[],t=0;t<256;t++){for(var n=t,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}();e.exports=function(e,t,n,i){var r=s,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^r[255&(e^t[a])];return-1^e}},function(e,t,n){"use strict";var u=n(37),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var l=new u.Buf8(256),i=0;i<256;i++)l[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;function c(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,u.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}l[254]=l[254]=1,t.string2buf=function(e){for(var t,n,i,r,o=e.length,a=0,s=0;s<o;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new u.Buf8(a),s=r=0;r<a;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?t[r++]=n:(n<2048?t[r++]=192|n>>>6:(n<65536?t[r++]=224|n>>>12:(t[r++]=240|n>>>18,t[r++]=128|n>>>12&63),t[r++]=128|n>>>6&63),t[r++]=128|63&n);return t},t.buf2binstring=function(e){return c(e,e.length)},t.binstring2buf=function(e){for(var t=new u.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){for(var n,i,r=t||e.length,o=new Array(2*r),a=0,s=0;s<r;)if((n=e[s++])<128)o[a++]=n;else if(4<(i=l[n]))o[a++]=65533,s+=i-1;else{for(n&=2===i?31:3===i?15:7;1<i&&s<r;)n=n<<6|63&e[s++],i--;1<i?o[a++]=65533:n<65536?o[a++]=n:(n-=65536,o[a++]=55296|n>>10&1023,o[a++]=56320|1023&n)}return c(o,a)},t.utf8border=function(e,t){for(var n=(t=(t=t||e.length)>e.length?e.length:t)-1;0<=n&&128==(192&e[n]);)n--;return!(n<0)&&0!==n&&n+l[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,a,s){"use strict";!function(i){var r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},t=(Object.defineProperty(a,"__esModule",{value:!0}),a.Lang=void 0,e(s(113)));function n(){}n.t=function(n,e){var t="iloveLang";return e&&e.source&&(t=e.source),window[t]&&window[t][n]&&(n=window[t][n]),null!=e&&i.each(e,function(e,t){n=n.replace("${"+e+"}",t)}),n},n.w=function(e,t){i("."+(e=void 0===e?"translate":e)).each(function(){var e=i(this).html();i(this).html(n.t(e,t))}),i("#"+e).each(function(){var e=i(this).html();i(this).html(n.t(e,t))})},n.fontsForWritingSystem=function(e){switch(e){case"latin":return["arial","verdana","courier","comic","times-new-roman","impact","arial-unicode-ms"];case"indic":return["lohit-marathi","lohit-devanagari","arial-unicode-ms"];default:return["arial-unicode-ms"]}},n.getFontsInfo=function(){var e=window.fonts;if(e)return e;throw"[Lang Service] You have to load the fonts information from the backend to use this method"},n.loadAllFonts=function(){for(var e in window.fonts)window.fonts.hasOwnProperty(e)&&"arial"!=e&&this.loadFont(e)},n.loadFont=function(e){e in this.loadedFonts||(t.lazyloadCss("/font/"+e+".css"),this.loadedFonts[e]=!0)},n.hasHindiCharacters=function(e){return 0<e.split("").filter(function(e){e=e.charCodeAt();return 2309<=e&&e<=2361}).length},n.hasJapanCharacters=function(e){return/[\u3000-\u303f]|[\u3040-\u309f]|[\u30a0-\u30ff]|[\uff00-\uff9f]|[\u4e00-\u9faf]|[\u3400-\u4dbf]/.test(e)},n.hasChineseCharacters=function(e){return/[\u4e00-\u9fff]|[\u3400-\u4dbf]|[\uf900-\ufaff]|[\u3300-\u33ff]|[\ufe30-\ufe4f]|[\uf900-\ufaff]/.test(e)},n.hasKoreanCharacters=function(e){return/[\uac00-\uafff]|[\ub000-\ubfff]/.test(e)},n.hasArabicCharacters=function(e){return/[\u0600-\u06FF]|[\u0750-\u077F]/.test(e)},n.hasGreekCharacters=function(e){return/[\u0370-\u03FF]|[\u1F00-\u1FFF]/.test(e)},n.hasCyrillicCharacters=function(e){return/[\u0400-\u04FF]|[\u0500-\u052F]/.test(e)},n.hasCommonLatinCharacters=function(e){return!1},n.keyCodeToWritingSystem=function(e){for(var t in this.writingSystemCharacterRanges)for(var n=this.writingSystemCharacterRanges[t],i=0;i<n.length;i++){var r=n[i],o=r[0],r=r[1];if(o<=e&&e<=r)return t}return"unknown"},n.detectWritingSystems=function(e){if(0===e.length)return[];for(var t={},n=0;n<e.length;n++)t[this.keyCodeToWritingSystem(e.charCodeAt(n))]=!0;return Object.keys(t)},n.loadedFonts={},n.writingSystemCharacterRanges={latin:[[0,127],[128,255],[256,383],[384,591],[7680,7935],[9312,9471],[11360,11391],[42784,43007],[64256,64335],[65104,65135]],indic:[[2304,2431],[43232,43263]]},a.Lang=n}.call(this,s(1))},,function(e,t,n){"use strict";function i(e){this.tool=null,this.subtool=null,this.config=null,Object.assign(this,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Config=void 0,i.prototype.getConfig=function(e){return(this.subtool in this.config&&e in this.config[this.subtool]?this.config[this.subtool]:this.tool in this.config&&e in this.config[this.tool]?this.config[this.tool]:this.config.default)[e]},t.Config=i},function(e,t){var n,i,e=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return(n=setTimeout)(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var s,u=[],l=!1,c=-1;function d(){l&&s&&(l=!1,s.length?u=s.concat(u):c=-1,u.length)&&p()}function p(){if(!l){for(var e=a(d),t=(l=!0,u.length);t;){for(s=u,u=[];++c<t;)s&&s[c].run();c=-1,t=u.length}s=null,l=!1,!function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return(i=clearTimeout)(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new f(e,t)),1!==u.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.prependListener=h,e.prependOnceListener=h,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,n,i){"use strict";!function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.SocialAuthPopup=void 0;var o=i(8),e=i(25),a=i(57);function c(){var t=this;this.eventEmitter=new e.ILoveEventEmitter,this.dispatchEvent=function(e){return t.eventEmitter.dispatchEvent(e)}}c.open=function(e,t,n){void 0===t&&(t={});function s(){window.ilove_socialAuthPopupStatus;var e=window.ilove_socialAuthPopupNewUser;window.ilove_socialAuthPopupOpened=!1,window.ilove_socialAuthPopupStatus=void 0,window.ilove_socialAuthPopupNewUser=void 0,u.popupInterval=null,u.onPopupClosed(e,n),u.popup=null}var u=c.instance,t=(u.popup&&(clearInterval(u.popupInterval),u.popupInterval=null,u.popup.close(),u.popup=null),u.mergeWindowFeatureProps(t,!0)),e="/auth/auth?authclient="+String(e),l=(u.popup=window.open(e,"social_auth_popup",t),u.popup);window.ilove_socialAuthPopupStatus=void 0,window.ilove_socialAuthPopupOpened=!0;return new Promise(function(o,a){u.popupInterval=setInterval(function(){var e,t=u.popup&&!u.popup.closed,n=!1;try{var i=u.popup.location.hostname,r=null!==u.popup.location.href.match("social-login-redirect"),n=i===window.location.hostname&&!r}catch(e){}t&&l===u.popup&&!n||(clearInterval(u.popupInterval),n?e=setInterval(function(){u.popup.addEventListener&&(clearInterval(e),u.popup.addEventListener("DOMContentLoaded",function(){var e=null==(e=null==(e=u.popup)?void 0:e.document)?void 0:e.body,e=(e.style.display="none",Array.from(e.querySelectorAll(".flash")).map(function(e){return e.innerText}));u.popup.close(),s(),a({errors:e})}))}):(s(),o({})))})})},c.focusWindow=function(){var e;null!=(e=c.instance.popup)&&e.focus()},c.closeWindow=function(){var e;null!=(e=c.instance.popup)&&e.close()},c.prototype.onPopupClosed=function(n,e){var i=this,r=null!=(e=null==e?void 0:e.getAttribute(c.runningFromAttr))?e:"auth";n&&a.UserAuth.sendGA_registered(r),t.get("/login").done(function(e){i.userAuth=new a.UserAuth({runningFrom:r}),i.userAuth.loginSuccess(e);var e={socialAuth_isNewUser:n},t=new CustomEvent("userAuth",{detail:e});window.dispatchEvent(t),i.dispatchEvent(new o.IloveEvent("auth:success",e))}).fail(function(e,t,n){})},Object.defineProperty(c,"instance",{get:function(){return window.ilove_socialAuthPopupInstance||(window.ilove_socialAuthPopupInstance=new c),window.ilove_socialAuthPopupInstance},enumerable:!1,configurable:!0}),c.prototype.mergeWindowFeatureProps=function(e,t){void 0===t&&(t=!1);var n=Object.assign({resizable:"yes",scrollbars:"no",toolbar:"no",menubar:"no",location:"no",directories:"no",status:"yes",width:450,height:380,left:null,top:null},e);if(n.left=(window.innerWidth-n.width)/2,n.top=(window.innerHeight-n.height)/2,t){var i,r=[];for(i in n)n.hasOwnProperty(i)&&r.push(i+"="+n[i]);return r.join(",")}return n},c.runningFromAttr="data-running-from",c.addEventListener=function(e,t){return c.instance.eventEmitter.addEventListener(e,t)},n.SocialAuthPopup=c}.call(this,i(1))},function(e,s,u){"use strict";!function(e){u.d(s,"a",function(){return a});var t=u(3),n=u(39),i={nowSeconds:function(){return Date.now()/1e3}};var r=(Object(n.b)()?function(){try{return Object(n.a)(e,"perf_hooks").performance}catch(e){}}:function(){var e=Object(t.e)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}})(),o=void 0===r?i:{nowSeconds:function(){return(r.timeOrigin+r.now())/1e3}},a=i.nowSeconds.bind(i);o.nowSeconds.bind(o),function(){var e=Object(t.e)().performance;if(e)e.timeOrigin||e.timing&&e.timing.navigationStart||Date.now()}()}.call(this,u(67)(e))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var u=n(0),l=n(20),c=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,d="Invalid Dsn",i=(r.prototype.toString=function(e){var t=this.host,n=this.path,i=this.pass,r=this.port,o=this.projectId;return this.protocol+"://"+this.user+((e=void 0===e?!1:e)&&i?":"+i:"")+"@"+t+(r?":"+r:"")+"/"+(n&&n+"/")+o},r.prototype._fromString=function(e){e=c.exec(e);if(!e)throw new l.a(d);var e=Object(u.c)(e.slice(1),6),t=e[0],n=e[1],i=e[2],i=void 0===i?"":i,r=e[3],o=e[4],o=void 0===o?"":o,a="",e=e[5],s=e.split("/");1<s.length&&(a=s.slice(0,-1).join("/"),e=s.pop()),e&&(s=e.match(/^\d+/))&&(e=s[0]),this._fromComponents({host:r,pass:i,path:a,projectId:e,port:o,protocol:t,user:n})},r.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},r.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach(function(e){if(!t[e])throw new l.a(d+": "+e+" missing")}),!this.projectId.match(/^\d+$/))throw new l.a(d+": Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new l.a(d+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new l.a(d+": Invalid port "+this.port)},r);function r(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}},function(e,t,n){!function(n){var e;String.prototype.ucFirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.camelCase=function(){return this.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})},n.fn.exchangePositionWith=function(e){var e=n(e),t=n("<span>").hide();this.before(t),e.before(this),t.replaceWith(e)},Array.prototype.move=function(e,t){if(t>=this.length)for(var n=t-this.length;1+n--;)this.push(void 0);return this.splice(t,0,this.splice(e,1)[0]),this},String.prototype.trunc=function(e){return this.substr(0,e-1)+(this.length>e?"&hellip;":"")},String.prototype.trim||(e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,String.prototype.trim=function(){return this.replace(e,"")}),String.prototype.ltrim||(String.prototype.ltrim=function(){return this.replace(/^\s+/g,"")})}.call(this,n(1))},function(e){e.exports=JSON.parse('{"development":{"service":"https://servicedev.ilovepdf.com","service_subdomain":"servicedev","web_prefix":"dev","api_sufix":"dev","stripe_key":"pk_test_3QB411Rie7QKjMhfSA0oiEOx","paypal_env":"sandbox","paypal_sandbox_key":"AZ1YHzR1wxJRRmfpqDHyoTwxfOwxB3UTlewVDk-1o6iZQX9SOCVHUpurugviVCowIPGCQ-SsTfbN8ubr","paypal_production_key":"AZRtaJu6iBHsygDFp5OMdCQabjEStco4pfXUdP1SnMGLnpLQdl84xBjXYIMyqY-6pyVKAj-muy5ZeMpv"},"staging":{"service":"https://servicestaging.ilovepdf.com","service_subdomain":"servicestaging","web_prefix":"staging","api_sufix":"dev","stripe_key":"pk_test_3QB411Rie7QKjMhfSA0oiEOx","stripe_key_api":"pk_test_mDCbsVuNmGS4QIePyxrnLexu","paypal_env":"sandbox","paypal_sandbox_key":"AZ1YHzR1wxJRRmfpqDHyoTwxfOwxB3UTlewVDk-1o6iZQX9SOCVHUpurugviVCowIPGCQ-SsTfbN8ubr","paypal_production_key":"AZRtaJu6iBHsygDFp5OMdCQabjEStco4pfXUdP1SnMGLnpLQdl84xBjXYIMyqY-6pyVKAj-muy5ZeMpv"},"production":{"service":"https://service.ilovepdf.com","service_subdomain":"service","web_prefix":"www","api_sufix":"","stripe_key":"pk_live_515AzAgBqa3pLeb3yKIZljNwrbjfrFpMsuvoEEZncp68ao0mQUKZgEY3Ddfh3JUMH4tIKBuFDsLt9Ot29l3d3KIey00O1gzlSiu","stripe_key_api":"pk_live_epWBEsOopGb3Oo75Y6YzAbTP","paypal_env":"production","paypal_sandbox_key":"AZ1YHzR1wxJRRmfpqDHyoTwxfOwxB3UTlewVDk-1o6iZQX9SOCVHUpurugviVCowIPGCQ-SsTfbN8ubr","paypal_production_key":"AZRtaJu6iBHsygDFp5OMdCQabjEStco4pfXUdP1SnMGLnpLQdl84xBjXYIMyqY-6pyVKAj-muy5ZeMpv"}}')},function(e,t,n){"use strict";function i(){this._cache={}}Object.defineProperty(t,"__esModule",{value:!0}),t.Cache=void 0,i.prototype.existsEntry=function(e){return"template_"+e in this._cache},i.prototype.setEntry=function(e,t){return this._cache[e]=t},i.prototype.getEntry=function(e){return this._cache[e]},i.prototype.clearEntry=function(e){delete this._cache[e]},t.Cache=i},function(e,h,m){"use strict";!function(l){var c,i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},t=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},d=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(h,"__esModule",{value:!0}),h.StripeService=void 0,e(m(30))),e=m(45),a=m(110),s=m(25),u=m(8),p=n(m(111)),n=((n=c=c||{}).CONFIRM_3DSECURE_PAYMENT="/stripe/confirm-payment",n.EXECUTE_PAYMENT="/stripe/execute",n.BUY_PACKAGE="/stripe/buy",n.UPDATE_CARD="/stripe/update-card",f.prototype.updateCard=function(s){return t(this,void 0,void 0,function(){var t,n,i,r,o,a;return d(this,function(e){switch(e.label){case 0:return[4,this.getPaymentCardToken(s)];case 1:return t=e.sent(),t=t.id,o=l.post(c.UPDATE_CARD,{token:t}).promise(),r=(i=JSON).parse,[4,o.promise()];case 2:return(n=r.apply(i,[e.sent()]),o={type:"update",notifyParams:{token:t}},this.needs3DSecure(n))?[4,this._resolve3DSecure(n,o)]:[3,4];case 3:return a=e.sent(),[3,5];case 4:a=n,e.label=5;case 5:return[2,a]}})})},f.prototype.setPaymentVia=function(e){this._paymentVia=e},f.prototype.paySubscription=function(u){return t(this,void 0,void 0,function(){var t,n,i,r,o,a,s;return d(this,function(e){switch(e.label){case 0:return t={interval:u.subscriptionInterval,users:u.numUsers,signatures:u.numDigitalSignatures,token:void 0,dtr:u.disableTrial,verifyCode:"",code:u.couponCode},this.captcha||(this.captcha=new p.default(document.body)),[4,this.captcha.execute()];case 1:return n=e.sent(),t.verifyCode=n,[4,this._setupPaymentVia(t,u.paymentVia)];case 2:return e.sent(),n=l.post(c.EXECUTE_PAYMENT,t),o=(r=JSON).parse,[4,n.promise()];case 3:return(i=o.apply(r,[e.sent()]),a={type:"subscription",notifyParams:t},this.needs3DSecure(i))?[4,this._resolve3DSecure(i,a)]:[3,5];case 4:return s=e.sent(),[3,6];case 5:s=i,e.label=6;case 6:return[2,s]}})})},f.prototype.payPackage=function(u){return t(this,void 0,void 0,function(){var t,n,i,r,o,a,s;return d(this,function(e){switch(e.label){case 0:return t={package:u.packageName,quantity:u.quantity,token:void 0,dtr:u.disableTrial,verifyCode:""},this.captcha||(this.captcha=new p.default(document.body)),[4,this.captcha.execute()];case 1:return n=e.sent(),t.verifyCode=n,[4,this._setupPaymentVia(t,u.paymentVia)];case 2:return e.sent(),n=l.post(c.BUY_PACKAGE,t),o=(r=JSON).parse,[4,n.promise()];case 3:return(i=o.apply(r,[e.sent()]),a={type:"package",notifyParams:t},this.needs3DSecure(i))?[4,this._resolve3DSecure(i,a)]:[3,5];case 4:return s=e.sent(),[3,6];case 5:s=i,e.label=6;case 6:return[2,s]}})})},f.prototype._setupPaymentVia=function(i,r){return t(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:switch(n=r.type,r.type){case"stripeElement":return[3,1];case"stripeElementUpdateCard":return[3,3];case"paymentMethod":return[3,5]}return[3,6];case 1:return[4,this.getPaymentCardToken(r.cardElement)];case 2:return t=e.sent(),i.token=t.id,[3,7];case 3:return[4,this.getPaymentCardToken(r.cardElement)];case 4:return t=e.sent(),i.token=t.id,i.updatecard=!0,[3,7];case 5:return r.info,[3,7];case 6:throw"Unknown paymentVia type '"+n+"'";case 7:return[2]}})})},f.prototype._resolve3DSecure=function(r,o){return t(this,void 0,void 0,function(){var t,n,i;return d(this,function(e){switch(e.label){case 0:return this.needs3DSecure(r)?(t=this.extractIntentInfo(r),[4,this.show3DSecureScreenToUser(t)]):[2,r];case 1:switch(n=e.sent(),t.intentType){case"setup_intent":return[3,2];case"payment_intent":return[3,3]}return[3,5];case 2:return[2,r];case 3:return i=n.paymentIntent.id,[4,this.confirmPayment3DSecure(i,o)];case 4:return[2,r=e.sent()];case 5:throw"Unknown intent type "+t.intentType}})})},f.prototype.needs3DSecure=function(e){return!(!e||!e.user)&&("payment_intent"in e.user||"setup_intent"in e.user)},f.prototype.extractIntentInfo=function(e){var t;if(e.user.payment_intent)t="payment_intent";else{if(!e.user.setup_intent)throw"Unknown IntentType";t="setup_intent"}return{intentType:t,intentSecret:"payment_intent"===t?e.user.payment_intent:e.user.setup_intent}},f.prototype.confirmPayment3DSecure=function(r,o){return t(this,void 0,void 0,function(){var t,n,i;return d(this,function(e){switch(e.label){case 0:return t=Object.assign({},{payment_intent_id:r},o,o.notifyParams),t=l.post(c.CONFIRM_3DSECURE_PAYMENT,t),i=(n=JSON).parse,[4,t.promise()];case 1:return[2,i.apply(n,[e.sent()])]}})})},f.prototype.show3DSecureScreenToUser=function(i){return t(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:return[4,this.stripe];case 1:switch(t=e.sent(),i.intentType){case"setup_intent":return[3,2];case"payment_intent":return[3,4]}return[3,6];case 2:return[4,t.confirmCardSetup(i.intentSecret)];case 3:return n=e.sent(),[3,7];case 4:return[4,t.confirmCardPayment(i.intentSecret)];case 5:return n=e.sent(),[3,7];case 6:throw"Unknown secretType "+i.intentType;case 7:if("error"in n&&n.error)throw n;return[2,n]}})})},f.prototype.getPaymentCardToken=function(i){return t(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:return[4,this.stripe];case 1:t=e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,t.createToken(i)];case 3:return n=e.sent(),[3,5];case 4:throw e.sent();case 5:if(n.error)throw this.view.notifyCardErrorMsg(n.error.message),n;return[2,n.token]}})})},Object.defineProperty(f.prototype,"stripe",{get:function(){var n=this;return this._stripe?Promise.resolve(this._stripe):new Promise(function(t,e){n.createStripeInstance().then(function(e){n._stripe=e,t(n._stripe)})})},enumerable:!1,configurable:!0}),f.prototype.loadStripeLibrary=function(){return t(this,void 0,void 0,function(){var i=this;return d(this,function(e){switch(e.label){case 0:return this.isStripeLibLoaded?(this.captcha||(this.captcha=new p.default(document.body)),[2,window.Stripe]):[4,new Promise(function(e,t){o.lazyload(f.stripeLibSrc);var n=window.setInterval(function(){i.isStripeLibLoaded&&(clearInterval(n),i.captcha=new p.default(document.body),e(window.Stripe))},100)})];case 1:return[2,e.sent()]}})})},f.prototype.createStripeInstance=function(){return t(this,void 0,void 0,function(){var t,i,r=this;return d(this,function(e){switch(e.label){case 0:return[4,this.loadStripeLibrary()];case 1:return t=e.sent(),i=t(f.stripeKey,{locale:window.lang}),this.isStripeInstanceReady(i)?[2,i]:[4,new Promise(function(e,t){var n=window.setInterval(function(){r.isStripeInstanceReady(i)&&(window.clearInterval(n),e(i))},100)})];case 2:return[2,e.sent()]}})})},f.prototype.isStripeInstanceReady=function(e){return"object"==typeof e},Object.defineProperty(f.prototype,"isStripeLibLoaded",{get:function(){return null!==window.Stripe&&"function"==typeof window.Stripe},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"paymentVia",{get:function(){return this._paymentVia},enumerable:!1,configurable:!0}),f.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},f.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},f.stripeKey=e.Settings.get("stripe_key"),f.stripeLibSrc="https://js.stripe.com/v3/",f);function f(e){var t=this;void 0===e&&(e={}),this.eventEmitter=new s.ILoveEventEmitter,this.view=new a.StripeView(this,{onActionButtonClicked:function(){t.dispatchEvent(new u.IloveEvent("View:ActionButtonClicked"))}})}h.StripeService=n}.call(this,m(1))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},l=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},c=(Object.defineProperty(t,"__esModule",{value:!0}),t.StripeView=void 0,n(61)),u=n(7);function d(e,t){var r=this;this._onKeepPaymentMethodBtnClicked=function(e,t){if("stripe"!==t.provider)throw"Payment method is not from provider Stripe";var n=r.currentPaymentMethodView,i=r.newPaymentMethodView;r.stripeService.setPaymentVia({type:"paymentMethod",info:t}),r.payButton.disabled=!1,n.style.display="",i.style.display="none"},this._onChangePaymentMethodBtnClicked=function(e,t){var n=r.currentPaymentMethodView,i=r.newPaymentMethodView;r.stripeService.setPaymentVia({type:"stripeElementUpdateCard",cardElement:t}),r.payButton.disabled=!1,n.style.display="none",i.style.display=""},this._onPayButtonClicked=function(){r.callback_onActionButtonClicked()},this._onStripeNewCardChange=function(e){e.error?r.notifyCardErrorMsg(e.error.message):r.clearCardErrorMsg(),r.payButton.disabled=!1},this.stripeService=e,this.callback_onActionButtonClicked=t.onActionButtonClicked}d.prototype.getTranslationText=function(e){var t=this.view.querySelector(".stripe__text-translations");if(!t)throw"Stripe text translations not found";if(e in(t=JSON.parse(t.textContent)))return t[e];throw"Stripe translation for key "+e+" not found"},d.prototype.disableActionButton=function(){this.view&&(this.payButton.disabled=!1)},d.prototype.enableActionButton=function(){this.view&&(this.payButton.disabled=!1)},d.prototype.mount=function(a,s){var u;return r(this,void 0,void 0,function(){var t,n,i,r,o;return l(this,function(e){switch(e.label){case 0:return this.view?[2,this.view]:[4,c.AjaxTemplate.load(d.TEMPLATE_NAME)];case 1:if(t=e.sent(),(o=document.createElement("div")).innerHTML=t,this.view=o,a.appendChild(this.view),t=this.view.querySelector(d.cardMountPointSelector))return n=this.currentPaymentMethodView,i=this.newPaymentMethodView,[4,(r=this).mountCardOn(t)];throw"Mount point for Stripe card not found";case 2:return r.card=e.sent(),(o="currentPaymentMethod"in s&&"stripe"===(null==(u=null==s?void 0:s.currentPaymentMethod)?void 0:u.provider)&&s.currentPaymentMethod.last_card)?i.style.display="none":n.style.display="none",o?(this.setupViewCurrentPaymentMethod(s.currentPaymentMethod,this.card),this.payButton.disabled=!1,this.stripeService.setPaymentVia({type:"paymentMethod",info:s.currentPaymentMethod})):this.stripeService.setPaymentVia({type:"stripeElement",cardElement:this.card}),this.payButton.innerHTML=s.paymentButtonText,this.payButton.addEventListener("click",this._onPayButtonClicked),[2,this.view]}})})},d.prototype.setupViewCurrentPaymentMethod=function(t,n){var i=this;if("stripe"!==t.provider)throw"Payment method is not from provider Stripe";var e=this.currentPaymentMethodView,r=this.newPaymentMethodView,o=e.querySelector(".payment__card-details__text");if(!o)throw"Stripe - Card Details text not found";var a=o.querySelector(".payment__card-details__text__brand"),o=o.querySelector(".payment__card-details__text__expires"),s=a.innerHTML.replace("${cardBrand}","<span class='payment__card-brand'>${cardBrand}</span>"),a=(a.innerHTML=u.Lang.tr(s,{cardBrand:t.brand_card||"",cardLast4Digits:t.last_card}),o.innerHTML=u.Lang.tr(o.innerHTML,{expMonthCard:t.exp_month_card,expYearCard:t.exp_year_card}),e.querySelector(".payment__card-details__change-btn"));if(!a)throw"Change button for Stripe - CurrentPaymentMethod view not found";a.addEventListener("click",function(e){i._onChangePaymentMethodBtnClicked(e,n)});s=r.querySelector(".payment__card-details__keep-card-btn");if(s.style.display="",!s)throw"'Keep payment method' button for Stripe not found";s.innerHTML=u.Lang.tr(s.innerHTML,{cardBrand:t.brand_card||"",cardLast4Digits:t.last_card}),s.addEventListener("click",function(e){i._onKeepPaymentMethodBtnClicked(e,t)})},Object.defineProperty(d.prototype,"currentPaymentMethodView",{get:function(){var e=this.view.querySelector(".payment__stripe-view__current-payment-method-view");if(e)return e;throw"Stripe - Current Payment Method view not found"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"newPaymentMethodView",{get:function(){var e=this.view.querySelector(".payment__stripe-view__new-payment-method-view");if(e)return e;throw"Stripe - New Payment Method view not found"},enumerable:!1,configurable:!0}),d.prototype.mountCardOn=function(i){return r(this,void 0,void 0,function(){var t,n;return l(this,function(e){switch(e.label){case 0:return[4,this.stripeService.stripe];case 1:return n=e.sent().elements(),t={base:{color:"#32325d",lineHeight:"24px",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},(n=n.create("card",{style:t,hidePostalCode:!0})).mount(i),n.addEventListener("change",this._onStripeNewCardChange),[2,n]}})})},d.prototype.notifyCardErrorMsg=function(t){this.cardErrorMsgDom.forEach(function(e){e.classList.remove("payment__card-error--hidden"),e.textContent=t})},d.prototype.clearCardErrorMsg=function(){this.cardErrorMsgDom.forEach(function(e){e.classList.add("payment__card-error--hidden"),e.innerHTML="&nbsp;"})},Object.defineProperty(d.prototype,"payButton",{get:function(){var e=this.view.querySelector(".payment__pay-btn");if(e)return e;throw"Submit button not found"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"cardErrorMsgDom",{get:function(){var e=Array.from(this.view.querySelectorAll(".payment__card-error"));if(0===e.length)throw"Card Error Msg DOM not found";return e},enumerable:!1,configurable:!0}),d.TEMPLATE_NAME="stripe",d.cardMountPointSelector=".payment__stripe-view__card-binding",t.StripeView=d},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},a=(Object.defineProperty(t,"__esModule",{value:!0}),o(n(30))),s=n(16),u=n(17),l="6LfLe9sbAAAAAO7MEsSovv3Na0tNlRReITiueEu8";function c(e,t){var n=this;void 0===t&&(t=null),this.onCaptchaValue=function(e){n.value=e,n.onCaptchaExecuted&&n.onCaptchaExecuted(n.value)},0!=this.captchaNeeded()&&(t&&(this.onCaptchaExecuted=t),this.elementRoot=e,this.appendToElement(),this.loadCaptchaJs())}c.prototype.loadCaptchaJs=function(){var n=this,i=this;return new Promise(function(e,t){if(window.grecaptcha)return n.grecaptcha=window.grecaptcha,e();a.lazyload("https://www.google.com/recaptcha/api.js?render="+l),n.captchaLoadInterval=window.setInterval(function(){null!==window.grecaptcha&&"object"==typeof window.grecaptcha&&(window.grecaptcha.ready(function(){return n.grecaptcha=window.grecaptcha,e()}),clearInterval(i.captchaLoadInterval))},100)})},c.prototype.appendToElement=function(){var e;document.getElementById("recaptcha")||((e=document.createElement("div")).setAttribute("id","recaptcha"),e.setAttribute("class","g-recaptcha"),e.setAttribute("data-sitekey",l),e.setAttribute("data-callback","onCaptchaValue"),e.setAttribute("data-size","invisible"),this.elementRoot.appendChild(e),window.onCaptchaValue=this.onCaptchaValue)},c.prototype._execute=function(e){return void 0===e&&(e=null),self.grecaptcha.execute()},c.prototype.execute=function(e){var n=this;return void 0===e&&(e=null),0==this.captchaNeeded()?(this.value=u.Tools.randomId(),Promise.resolve(this.value)):(e&&(this.onCaptchaExecuted=e),new Promise(function(t,e){n.captchaInterval=window.setInterval(function(){n.grecaptcha&&(clearInterval(n.captchaInterval),n._execute().then(function(e){t(e)}))},100)}))},c.prototype.captchaNeeded=function(){var e=s.UserModel.get();return e&&1==e.sus_rbt},t.default=c},function(e,t,n){"use strict";var s,u=this&&this.__assign||function(){return(u=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},a=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},l=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},c=(Object.defineProperty(t,"__esModule",{value:!0}),t.PaypalService=void 0,o(n(30))),d=o(n(79)),p=n(45),f=n(25),h=n(8),m=n(61),g=n(86),v=o(n(15)),n=((o=s=s||{}).CREATE_PAYMENT_SUBSC="/paypal/create",o.EXECUTE_PAYMENT_SUBSC="/paypal/execute",o.CREATE_PAYMENT_PKG="/paypal/createbuy",o.EXECUTE_PAYMENT_PKG="/paypal/executebuy",y.prototype.notifyErrorMsg=function(e){this.errorMsgDom.classList.remove("payment__method-error--hidden"),this.errorMsgDom.innerHTML=e},y.prototype.clearErrorMsg=function(){this.errorMsgDom.classList.add("payment__method-error--hidden"),this.errorMsgDom.innerHTML="&nbsp;"},y.prototype.getTranslationText=function(e){var t=this.view.querySelector(".paypal__text-translations");if(!t)throw"Paypal text translations not found";if(e in(t=JSON.parse(t.textContent)))return t[e];throw"Paypal translation for key "+e+" not found"},Object.defineProperty(y.prototype,"errorMsgDom",{get:function(){var e=this.view.querySelector(".payment__method-error");if(e)return e;throw"Missing Paypal Error message DOM not found"},enumerable:!1,configurable:!0}),y.prototype.mountView=function(r,o){return a(this,void 0,void 0,function(){var t,n,i;return l(this,function(e){switch(e.label){case 0:return this.view?[2,this.view]:[4,m.AjaxTemplate.load(y.TEMPLATE_NAME)];case 1:if(t=e.sent(),(n=document.createElement("div")).innerHTML=t,this.view=n,r.appendChild(this.view),!(i=this.view.querySelector(y.buttonMountPointSelector)))throw"Mount point for Paypal button not found";switch(o.action.actionName){case"PaySubscription":this.mountPaySubscription(i,o.action.actionParams);break;case"PayPackage":this.mountPayPackage(i,o.action.actionParams);break;case"UpdateSubscription":this.mountUpdateSubscription(i,o.action.actionParams);break;default:throw"Unknown Paypal action for Paypal mountPoint func"}return[2,this.view]}})})},y.prototype.mountPayPackage=function(i,r){return a(this,void 0,void 0,function(){var t,n;return l(this,function(e){switch(e.label){case 0:return this.packageParams=r,[4,this.loadPaypalLibrary()];case 1:return e.sent(),t=this._onPaymentInit_package,n=this._onAuthorize_package,this.mountPaypalButton(i,{payment:t,onAuthorize:n}),[2]}})})},y.prototype.mountPaySubscription=function(i,r){return a(this,void 0,void 0,function(){var t,n;return l(this,function(e){switch(e.label){case 0:return this.subscriptionParams=r,[4,this.loadPaypalLibrary()];case 1:return e.sent(),t=this._onPaymentInit_subsc,n=this._onAuthorize_subsc,this.mountPaypalButton(i,{payment:t,onAuthorize:n}),[2]}})})},y.prototype.mountUpdateSubscription=function(t,n){return a(this,void 0,void 0,function(){return l(this,function(e){return[2,this.mountPaySubscription(t,n)]})})},y.prototype.mountPaypalButton=function(n,i){return a(this,void 0,void 0,function(){var t;return l(this,function(e){switch(e.label){case 0:return[4,this.loadPaypalLibrary()];case 1:return t=e.sent(),n.getAttribute("id")||n.setAttribute("id",g.Tools.randomId()),t.Button.render({env:p.Settings.get("paypal_env"),locale:this.assignedLocale,commit:!0,style:{label:"paypal",size:"medium",shape:"rect",color:"blue",tagline:!1},client:{sandbox:p.Settings.get("paypal_sandbox_key"),production:p.Settings.get("paypal_production_key")},payment:i.payment,onAuthorize:i.onAuthorize,onCancel:this._onCancel},"#"+n.getAttribute("id")),[2]}})})},y.prototype.removeUndefinedValuesFromObject=function(e){var t,n={};for(t in e)void 0===e[t]||(n[t]=e[t]);return n},y.prototype.loadPaypalLibrary=function(){return a(this,void 0,void 0,function(){var i=this;return l(this,function(e){switch(e.label){case 0:return this.isPaypalLibLoaded?[2,window.paypal]:[4,new Promise(function(e,t){c.lazyload(y.paypalLibSrc);var n=window.setInterval(function(){i.isPaypalLibLoaded&&(clearInterval(n),e(window.paypal))},100)})];case 1:return[2,e.sent()]}})})},Object.defineProperty(y.prototype,"paypal",{get:function(){var n=this;return new Promise(function(t,e){n.loadPaypalLibrary().then(function(e){return t(e)})})},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isPaypalLibLoaded",{get:function(){return null!==window.paypal&&"object"==typeof window.paypal},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"assignedLocale",{get:function(){var e="en_US";switch(window.lang){case"en-US":e="en_US";break;case"es":e="es_ES";break;case"it":e="it_IT";break;case"fr":e="fr_FR";break;case"de":e="de_DE";break;case"pt":e="pt_BR";break;case"zh-cn":e="zh_CN";break;case"id":e="id_ID";break;case"ja":e="ja_JP";break;case"nl":e="nl_NL";break;case"pl":e="pl_PL";break;case"ru":e="ru_RU";break;case"sv":e="sv_SE";break;case"th":e="th_TH";break;case"zh-tw":e="zh_TW"}return e},enumerable:!1,configurable:!0}),y.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},y.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},y.paypalLibSrc="https://www.paypalobjects.com/api/checkout.js",y.TEMPLATE_NAME="paypal",y.buttonMountPointSelector=".payment__paypal-view__button-binding",y);function y(e){var a=this;if(void 0===e&&(e={}),this._onPaymentInit_package=function(){a._onPaypalButtonClicked();var n=a,i="payPackage",r=a.packageParams;return window.paypal.request.post(s.CREATE_PAYMENT_PKG,{package:r.packageName(),quantity:r.quantity(),dtr:r.disableTrial()}).then(function(e){return n.dispatchEvent(new h.IloveEvent("onPaymentInited",{action:i,params:r,response:e})),e},function(t){v.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),v.captureMessage("Paypal: error on create payment package"),n.dispatchEvent(new h.IloveEvent("onPaymentInited_error",{action:i,params:r,error:JSON.parse(t)}))})},this._onAuthorize_package=function(e){var n=a,i="payPackage",r=a.packageParams;return window.paypal.request.post(s.EXECUTE_PAYMENT_PKG,{token:e.paymentToken,payment_id:e.paymentID,payer_id:e.payerID,package:r.packageName(),quantity:r.quantity(),dtr:r.disableTrial()}).then(function(e){n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized",{action:i,params:r,response:e}))},function(t){v.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),v.captureMessage("Paypal: error on execute payment package"),n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized_error",{action:i,params:r,error:JSON.parse(t)}))})},this._onPaymentInit_subsc=function(){a._onPaypalButtonClicked();var n=a,i="paySubscription",e=window.paypal,r=a.subscriptionParams,t=a.removeUndefinedValuesFromObject({interval:r.subscriptionInterval(),users:r.numUsers(),signatures:r.numDigitalSignatures(),dtr:r.disableTrial()});return e.request.post(s.CREATE_PAYMENT_SUBSC,t).then(function(e){return n.dispatchEvent(new h.IloveEvent("onPaymentInited",{action:i,params:r,response:e})),e},function(t){v.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),v.captureMessage("Paypal: error on create payment subscription"),n.dispatchEvent(new h.IloveEvent("onPaymentInited_error",{action:i,params:r,error:JSON.parse(t)}))})},this._onPaypalButtonClicked=function(){a.clearErrorMsg()},this._onAuthorize_subsc=function(e){var n=a,i="paySubscription",t=window.paypal,r=a.subscriptionParams,o=a.removeUndefinedValuesFromObject({interval:r.subscriptionInterval(),users:r.numUsers(),signatures:r.numDigitalSignatures(),dtr:r.disableTrial()});return t.request.post(s.EXECUTE_PAYMENT_SUBSC,u({token:e.paymentToken,payment_id:e.paymentID,payer_id:e.payerID},o)).then(function(e){n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized",{action:i,params:r,response:e}))},function(t){v.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),v.captureMessage("Paypal: error on execute payment subscription"),n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized_error",{action:i,params:r,error:JSON.parse(t)}))})},this._onCancel=function(e){},this.eventEmitter=new f.ILoveEventEmitter,d.isIEIntranet())throw"Is IE Intranet"}t.PaypalService=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lazyloadCss=void 0,t.lazyloadCss=function(e,t){void 0===t&&(t={});for(var n=document.getElementsByTagName("link"),i=n.length;i--;)if(n[i].hasAttribute("href")&&n[i].href.match(e))return!0;var r,o,a=document.createElement("link");for(r in a.rel="stylesheet",a.href=e,t)t.hasOwnProperty(r)&&(o=t[r],a.setAttribute(r,o));var s=document.getElementsByTagName("link")[0];return s.parentNode.insertBefore(a,s),!0}},,function(e,s,h){"use strict";!function(u){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},n=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},l=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},o=(Object.defineProperty(s,"__esModule",{value:!0}),s.PluploadUpload=void 0,e(h(30))),c=h(7),d=e(h(15)),p=h(13),t=h(48),f=h(75);function a(e){this.SLOW_CONNECTION_LIMIT=200,this.BPS_CONNECTION_LIMIT=2e4,this.RETRY_NUM=4,this.optionsManager=null,this.processManager=null,this.config=null,this.files=null,this.workerServer=null,this.startServer=null,this.token=null,this.tool=null,this.taskId=null,this.id="pickfiles",this.container="uploader",this.servers=null,this.haveDrop=!0,this.dropElement="workArea",this.ignoreFiles=!1,this.chunkSize="2Mb",Object.assign(this,e),this.appVersion=t.APP_VERSION,this.apiVersion=t.API_VERSION,this.slowConnectionCounter=0,this.dnsFallback=!1,this.dnsFallbackActive=!1,this.servers=this.shuffle(this.servers),this.notCheckedServers=this.servers,this.retryCount=this.RETRY_NUM,this.settimer0=null,this.settimer1=null;e=this.notCheckedServers.indexOf(this.workerServer);-1<e&&this.notCheckedServers.splice(e,1),this.uploader=null,this.timeout=null,this.timeLimit=684e4,this.timeCheck=3e5,this.checkServerStatusOnStart=this.optionsManager.checkServerStatusOnStart,this.init()}a.prototype.shuffle=function(e){for(var t=e.length-1;0<t;t--){var n=Math.floor(Math.random()*(t+1)),i=[e[n],e[t]];e[t]=i[0],e[n]=i[1]}return e},a.prototype.init=function(){var e=this;this.initPlupload().then(function(){u("#"+e.id).addClass("active"),e.configPlupload(),e.dragDrop(),e.checkTimeoutInterval(),e.listenEventTaskIdChanged(),e.listenEventLimitsChanged()},function(){})},a.prototype.initPlupload=function(){return new Promise(function(e){if(null===window.plupload||void 0!==window.plupload)return e(!0);o.lazyload("/js/plupload/plupload.full.min.js");var t=window.setInterval(function(){if(null!==window.plupload&&"object"==typeof window.plupload)return clearInterval(t),e(!0)},100)})},a.prototype.listenEventTaskIdChanged=function(){var t=this;window.addEventListener("taskIdChanged",function(e){e=e.detail.taskId;e&&t.changeTaskId(e)})},a.prototype.listenEventLimitsChanged=function(){var t=this;window.addEventListener("limitsChanged",function(e){t.checkLimits([],t.id),t.uploadPendingFiles()})},a.prototype.changeDNSServer=function(e){return this.workerServer=this.workerServer.replace(".","-cf."),this.optionsManager.changeServer(this.workerServer),this.uploader.setOption("url",this.workerServer+"/"+this.apiVersion+"/upload"),this.dnsFallbackActive=!0,window.ev("sendOnce","event","upload-info","upload-change","dns - "+e),window.ev("eventOnce","upload-change",{change:"dns",reason:e}),d.addBreadcrumb({category:"upload",level:p.Severity.Info,message:"change dns: "+e}),!0},a.prototype.checkServerStatus=function(){var n=this;return new Promise(function(t,e){1==n.optionsManager.checkServerStatusOnStart?(n.optionsManager.checkServerStatusOnStart=!1,n.optionsManager.processManager.api.getStatus(n.workerServer).then(function(e){e&&"down"==e.status&&n.changeServer(),t({})},function(e){n.changeServer(),t({})})):t({})})},a.prototype.changeServer=function(){var e,t,n=this;return this.notCheckedServers=this.notCheckedServers.filter(function(e){return e!=n.workerServer.replace("-cf.",".")}),0<this.notCheckedServers.length&&(e=this.workerServer,t=this.notCheckedServers[0],this.workerServer=t,this.uploader.stop(),this.uploader.setOption("url",t+"/"+this.apiVersion+"/upload"),window.ev("sendOnce","event","upload-info","upload-change","server-"+e),window.ev("eventOnce","upload-change",{server:e}),this.optionsManager.changeServer(t),this.optionsManager.checkServerStatusOnStart=this.checkServerStatusOnStart,this.uploader.start(),d.addBreadcrumb({category:"upload",level:p.Severity.Info,message:"change server: "+e+" - "+this.workerServer}),!0)},a.prototype.configPlupload=function(){var t=this,a=this,o={file:null,offset:0,chunk:0},s=(this.uploader=new window.plupload.Uploader({browse_button:a.id,chunk_size:this.chunkSize,max_retries:0,runtimes:"html5",container:a.container,drop_element:a.dropElement,dragdrop:a.haveDrop,multi_selection:a.config.getConfig("multiSelection"),url:a.getUrl(),filters:{mime_types:a.config.getConfig("mimeTypes")},headers:a.getHeaders(),multipart_params:a.getUploadParams(),init:{Init:function(e,t){},PostInit:function(){},QueueChanged:function(e){},FilesAdded:function(r,o){return n(this,void 0,void 0,function(){var t,n,i;return l(this,function(e){switch(e.label){case 0:return f.Banner.preventClick(),[4,a.checkServerStatus()];case 1:return e.sent(),u.each(o,function(e,t){t.upBy=a.id,1==a.ignoreFiles&&(t.ignored=!0,a.optionsManager.limits.addIgnoredFile(t.id)),a.files.addFile(t)}),0!=a.ignoreFiles?[3,3]:[4,a.checkLimits(o,r)];case 2:o=e.sent(),e.label=3;case 3:if(u.each(a.files.removed,function(e,t){try{r.removeFile(t)}catch(e){}}),!(0<o.length))return[2,!1];for(t=0,n=o;t<n.length;t++)"errorData"in(i=n[t])&&delete i.errorData,a.fileAdded(i,r);return 0==a.files.limited.length&&2!=r.state&&r.start(),[2]}})})},FilesRemoved:function(e,t){},BeforeUpload:function(e,t){if(!t)return e.stop(),!1;o.file=t,o.offset=0,o.chunk=0,d.addBreadcrumb({category:"upload",level:p.Severity.Info,message:"before upload: "+t.name+" w."+t.size})},BeforeChunkUpload:function(e,t,n,i,r){return!1===a.isOnline?(e.stop(),!1):i&&i.size&&0!=i.size?(a.timeout=Date.now(),d.addBreadcrumb({category:"upload",level:p.Severity.Info,message:"before chunk: "+o.chunk}),1==a.dnsFallback&&0==a.dnsFallbackActive?(a.changeDNSServer("slow"),s(),!1):void 0):(t.status=window.plupload.FAILED,a.error({error:"FileRemoved",file:t}),t.errorData="FileRemoved",e.removeFile(t.id),a.uploader.stop(),u("body").hasClass("process-run")||a.uploader.start(),!1)},ChunkUploaded:function(e,t,n){o.offset=n.offset,o.chunk++},UploadProgress:function(e,t){if(!t)return!1;u("#uploadSpeed").html(window.plupload.formatSize(e.total.bytesPerSec).toUpperCase()+"/S");var n=Math.round((e.total.size-e.total.loaded)/e.total.bytesPerSec*1e3);null!=i(n)&&u("#timeLeft").html(i(n).toUpperCase()),t.size>3*a.BPS_CONNECTION_LIMIT&&e.total.bytesPerSec<a.BPS_CONNECTION_LIMIT?a.slowConnectionCounter++:a.slowConnectionCounter--,a.slowConnectionCounter==a.SLOW_CONNECTION_LIMIT&&(a.dnsFallback=!0,window.ib&&window.ib.set("c","s"),d.addBreadcrumb({category:"upload",level:p.Severity.Info,message:"Slow Connection: Set to change server"}))},FileUploaded:function(e,t,n){o.file=null;n=JSON.parse(n.response);a.fileUploaded(t.id,n)},UploadComplete:function(e,t){t.forEach(function(e){return a.fileChanged(e.id)})},Error:function(e,t){-600==t.code&&0==t.file.origSize?window.Toastr.error(c.Lang.t("EmptyFile")+"<br>"+t.file.name,c.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"}):-600==t.code&&0<t.file.origSize?window.Toastr.error(c.Lang.t("FileSizeExceeded")+"<br>"+t.file.name,c.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"}):-601==t.code?window.Toastr.error(c.Lang.t("InvalidExtension")+"<br>"+t.file.name,c.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"}):-200==t.code&&"status"in t&&400==t.status?a.error(t):-200==t.code?(d.addBreadcrumb({category:"upload",level:p.Severity.Error,message:"Server Error"}),500==t.status||401==t.status?(d.addBreadcrumb({category:"upload",level:p.Severity.Error,message:"Server Error"}),500==t.status&&(d.configureScope(function(e){e.setExtra("error500",t)}),d.captureMessage("upload500")),401==t.status&&(d.configureScope(function(e){e.setExtra("error401",t),e.setExtra("token",a.token)}),d.captureMessage("upload401")),1==a.changeServer()?a.reUploadAllFiles():(a.timeout=null,a.uploader.stop(),a.fatalError("ServerError"),"file"in t&&(t.file.errorData="ServerError"))):0<a.retryCount?(a.retryCount--,a.uploader.stop(),s(!0)):0==a.dnsFallbackActive?(a.uploader.stop(),a.retryCount=a.RETRY_NUM,a.changeDNSServer("connection"),s(!0)):0==t.status&&"HTTP Error."==t.message?1==a.changeServer()?a.reUploadAllFiles():(a.timeout=null,u("body").hasClass("process-run")?(a.error({error:"ConnectionError"}),a.processManager.status="error",a.uploader.stop()):a.error({error:"ConnectionError"})):a.uploader.stop()):(a.uploader.stop(),e.removeFile(t.file.id),a.error(t))}}}),function(e){void 0===e&&(e=!1),o.file.loaded=o.offset,clearTimeout(a.settimer1),a.settimer1=setTimeout(function(){if(d.addBreadcrumb({category:"upload",level:p.Severity.Info,message:"retry upload "}),o.file){o.file.status=window.plupload.UPLOADING,a.uploader.state=window.plupload.STARTED;try{a.uploader.trigger("UploadFile",o.file)}catch(e){a.uploader.stop(),a.uploader.start()}}},1500)});function i(e){c.Lang.t("Time left");var t,n=c.Lang.t("minute"),i=c.Lang.t("hour"),r=c.Lang.t("less than"),o=c.Lang.t("minutes"),a=c.Lang.t("hours"),s=c.Lang.t("seconds"),u=Math.floor(e/1e3),e=(e%=1e3,Math.floor(u/60)),l=(u%=60,Math.floor(e/60));e%=60,Math.floor(l/60);return 0==(l%=60)?0==e?t=u+" "+s:1==e?t="1 "+n:1<e&&(t=" "+e+" "+o):1==l?t=r+" "+(1+l)+" "+a:1<l&&(t=r+" "+l+" "+i),t}window.addEventListener("goProcess",function(){var e=a.getUploadProcessParams();a.uploader.setOption("multipart_params",e)},!1),window.addEventListener("offline",function(){a.isOnline=!1,a.uploader.stop(),d.addBreadcrumb({category:"upload",level:p.Severity.Info,message:"go offline "})},!1),window.addEventListener("online",function(){if(a.isOnline=!0,null===o.file)return!1;d.addBreadcrumb({category:"upload",level:p.Severity.Info,message:"go online"}),s()},!1),window.addEventListener("fileRemoved",function(e){t.uploader.removeFile(e.detail.fileId),t.optionsManager.limits&&t.optionsManager.limits.setFileLimits(),t.uploadPendingFiles()}),this.uploader.init()},a.prototype.uploadPendingFiles=function(){this.uploader.start()},a.prototype.reUploadAllFiles=function(){var e=this.uploader;d.addBreadcrumb({category:"upload",level:p.Severity.Info,message:"Reuploading all files "+this.id}),e.stop(),clearTimeout(this.settimer0),e.files.forEach(function(e,t){e.status=window.plupload.QUEUED,e.percent=0,e.loaded=0,e.error=!1,e.retry=!0,e.server_filename&&(delete e.server_filename,e.reUploaded=!0)}),this.settimer0=setTimeout(function(){e.refresh(),e.start()},500)},a.prototype.getHeaders=function(){return this.token||d.captureMessage("no token on upload!"),{Authorization:"Bearer "+this.token,Accept:"application/json"}},a.prototype.getUrl=function(){return this.workerServer+"/"+this.apiVersion+"/upload"},a.prototype.getUploadParams=function(){return{task:this.taskId,preview:1==window.processStart?0:1,pdfinfo:1==window.pdfinfo?1:0,pdfforms:1==window.pdfforms?1:0,pdfresetforms:1==window.pdfresetforms?1:0,v:this.appVersion}},a.prototype.getUploadProcessParams=function(){return{task:this.taskId,preview:0,v:this.appVersion}},a.prototype.checkLimits=function(e,t){return this.optionsManager.checkLimits(e,this.id)},a.prototype.getOnlyNoLimitedFiles=function(e){return e.filter(function(e){return!0!==e.limited})},a.prototype.getOnlyLimitedFiles=function(e){return e.filter(function(e){return!0===e.limited})},a.prototype.fileAdded=function(e,t){return e.runtime=t.runtime,e.canvasId=e.id,this.optionsManager.fileAdded(e,this.id,this.ignoreFiles)},a.prototype.fileUploaded=function(e,t){this.optionsManager.fileUploaded(e,t)},a.prototype.fileChanged=function(e){this.optionsManager.fileChanged&&this.optionsManager.fileChanged(e)},a.prototype.error=function(e){this.optionsManager.invalidUpload(e)},a.prototype.fatalError=function(e){this.optionsManager.fatalError(e)},a.prototype.dragDrop=function(){"function"!=typeof u.fn.dndhover&&0!=this.haveDrop&&(u.fn.dndhover=function(e){return this.each(function(){var n=u(this),i=u();n.on("dragenter",function(e){var t;0===i.length&&(t=e.originalEvent.dataTransfer).types&&(t.types.indexOf?-1!=t.types.indexOf("Files"):t.types.contains("Files"))&&n.trigger("dndHoverStart"),i=i.add(e.target)}),n.on("dragleave",function(e){setTimeout(function(){0===(i=i.not(e.target)).length&&n.trigger("dndHoverEnd")},1)}),n.on("drop",function(e){setTimeout(function(){0===(i=i.not(e.target)).length&&n.trigger("dndHoverEnd")},1)})})},u(".tool__workarea").dndhover().on({dndHoverStart:function(e){return u("#dropArea").text(c.Lang.t("dropIt")),u("#dropArea").show(),e.stopPropagation(),e.preventDefault(),!1},dndHoverEnd:function(e){return u("#dropArea").hide(),e.stopPropagation(),e.preventDefault(),!1}}))},a.prototype.timeIsOk=function(){var e;return null==this.timeout||(e=Date.now()-this.timeLimit,this.timeout>e)},a.prototype.checkTimeoutInterval=function(){var e=this;window.setInterval(function(){e.checkTimeout()},e.timeCheck)},a.prototype.checkTimeout=function(){null==this.timeout||this.timeIsOk()||(this.uploader.stop(),this.optionsManager.timeout&&this.optionsManager.timeout(),this.timeout=null)},a.prototype.changeTaskId=function(e){this.taskId=e,this.uploader&&(e=this.getUploadParams(),this.uploader.setOption("multipart_params",e))},s.PluploadUpload=a}.call(this,h(1))},function(e,a,s){"use strict";!function(e,m){var t=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},i=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},n=(Object.defineProperty(a,"__esModule",{value:!0}),a.ImageView=void 0,s(63)),r=s(132),r=(e.loadImage=r,s(137));function o(e){void 0===e&&(e={}),this.files=null,this.coversShow=!0,this.screenSize=[],this.imageIsLoaded=!1,this.URL=window.URL||window.webkitURL,this.URLObj={},this.imageSrc={},this.utif=s(138),this.useLoadImageLib=!1,Object.assign(this,e),this.init()}e.canvasToBlob=r,o.prototype.init=function(){},o.prototype.renderUrl=function(i,r,o){return void 0===o&&(o=!1),new Promise(function(n,e){var t=document.getElementById(r),t=(1==o?m(t).attr("src",i):m(t).attr("style","background-image: url("+i+");background-size:contain"),new Image);t.src=i,t.onload=function(){var t=new XMLHttpRequest;t.open("HEAD",i,!0),t.onreadystatechange=function(){var e;4==t.readyState&&(e=t.getResponseHeader("Content-Length"),200==t.status&&e?n({size:t.getResponseHeader("Content-Length")}):n({}))},t.send(null)}})},o.prototype.renderImage=function(e,t,n){return void 0===n&&(n=!1),1==this.useLoadImageLib?this.renderImageOrientation(e,t,n):this.renderImageBasic(e,t,n)},o.prototype.hasBrowserAppliedImageOrientation=function(e){return"from-image"===m(e).css("image-orientation")},o.prototype.renderImageBasic=function(e,c,d,t){void 0===d&&(d=!1),void 0===t&&(t=!1);var p=this;n.isIE11(),e.type;return new Promise(function(a,s){var u=document.getElementById(c);try{var l=new FileReader;l.onload=function(e){var t,n=0,n=p.getExifOrientation(e),i=new Uint8Array(l.result),r=null;try{t=new Blob([i]),r=(window.URL||window.webkitURL).createObjectURL(t)}catch(e){return void s(e)}p.imageSrc[c]=r,p.imageIsLoaded=!0;var o=new Image;o.onload=function(){var e=o.height,t=o.width;4<(n=p.hasBrowserAppliedImageOrientation(u)?0:n)&&n<9&&(e=(e+=t)-(t=e-t)),1==d?m(u).attr("src",r):m(u).css("background-image","url("+r+")").css("background-size","contain"),p.transformByOrientation(u,n),a({width:t,height:e})},o.onerror=function(e){m(u).css("background-image",'url("/img/filetype/damaged.svg")').css("background-size","35%;"),s(e)},o.src=r},l.readAsArrayBuffer(e)}catch(e){s()}})},o.prototype.renderHeic=function(e,n){return t(this,void 0,void 0,function(){var t;return i(this,function(e){return(t=document.getElementById(n)).style.backgroundImage="url( '/img/filetype/heic.svg' )",t.style.backgroundSize="contain",[2]})})},o.prototype.transformByOrientation=function(e,t){var n="";if(1<t){switch(t){case 1:break;case 2:n="scaleX(-1)";break;case 3:n="rotate(180deg)";break;case 4:n="rotate(180deg) scale(-1)";break;case 5:n="rotate(90deg) scale(-1)";break;case 6:n="rotate(90deg)";break;case 7:n="rotate(270deg) scale(-1)";break;case 8:n="rotate(270deg)"}m(e).css("transform",n)}},o.prototype.renderImageOrientation=function(e,l,c){void 0===c&&(c=!1);var d=this;return new Promise(function(o,a){var s=document.getElementById(l);try{var u=new FileReader;u.onload=function(e){var t=0,n=new Uint8Array(u.result),n=new Blob([n]);if(1<(t=d.hasBrowserAppliedImageOrientation(s)?t:d.getExifOrientation(e)))window.loadImage(n,function(e){!e||"type"in e&&"error"==e.type?a({error:"damagedImage",message:"cannot render image"}):e.toBlob(function(e){var t,n;try{t=window.URL||window.webkitURL,n=t.createObjectURL(e)}catch(e){return void a(e)}d.imageSrc[l]=n,d.imageIsLoaded=!0;var i=new Image;i.onload=function(){var e=i.height,t=i.width;c?m(s).attr("src",n):m(s).attr("style","background-image: url("+n+");background-size:contain"),window.setTimeout(function(){d.URL.revokeObjectURL(n)},1e3),o({width:t,height:e})},i.onerror=function(e){m(s).attr("style",'background-image: url("/img/filetype/damaged.svg");background-size:35%;'),a(e)},i.src=n})},{canvas:!0,orientation:t});else{var i,t=void 0;try{t=window.URL||window.webkitURL,i=t.createObjectURL(n)}catch(e){return void a(e)}d.imageSrc[l]=i,d.imageIsLoaded=!0;var r=new Image;r.onload=function(){var e=r.height,t=r.width;1==c?m(s).attr("src",i):m(s).css("background-image","url("+i+")").css("background-size","contain"),o({width:t,height:e})},r.onerror=function(e){m(s).css("background-image",'url("/img/filetype/damaged.svg")').css("background-size","35%;"),a(e)},r.src=i}},u.readAsArrayBuffer(e)}catch(e){a()}})},o.prototype.getExifOrientation=function(e){var t=new DataView(e.target.result);if(65496!=t.getUint16(0,!1))return-2;for(var n=t.byteLength,i=2;i<n;){if(t.getUint16(i+2,!1)<=8)return-1;var r=t.getUint16(i,!1);if(i+=2,65505==r){if(1165519206!=t.getUint32(i+=2,!1))return-1;var o=18761==t.getUint16(i+=6,!1),a=(i+=t.getUint32(i+4,o),t.getUint16(i,o));i+=2;for(var s=0;s<a;s++)if(274==t.getUint16(i+12*s,o))return t.getUint16(i+12*s+8,o)}else{if(65280!=(65280&r))break;i+=t.getUint16(i,!1)}}return-1},o.prototype.renderSvg=function(n,o,a){void 0===a&&(a=!1);var s=this;return new Promise(function(i,t){var r=document.getElementById(o),e=new FileReader;e.onload=function(e){s.imageSrc[o]=e.target.result,a?m(r).attr("src",s.imageSrc[o]):m(r).attr("style","background-image: url("+s.imageSrc[o]+");background-size:contain"),s.imageIsLoaded=!0;var n=new Image;n.onload=function(){var e=n.height,t=n.width;i({width:t,height:e})},n.onerror=function(e){m(r).attr("style",'background-image: url("/img/filetype/damaged.svg");background-size:35%;'),t(e)},n.src=s.imageSrc[o]};try{e.readAsDataURL(n)}catch(e){t()}})},o.prototype.renderTif=function(e,p){var f=this,h=document.getElementById(p),t=new FileReader;return new Promise(function(c,d){t.onload=function(e){try{for(var t=f.utif.decode(e.target.result)[0],n=f.utif.toRGBA8(t),i=t.width,r=t.height,o=void 0,a=0,s=(r<i?a=r*(o=f.screenSize.h)/i:o=i*(a=f.screenSize.h)/r,"canvas"!=h.tagName&&(m("#"+p).append('<canvas class="raw"></canvas>'),h=m("#"+p+" canvas")[0]),h.width=i,h.height=r,h.getContext("2d")),u=s.createImageData(i,r),l=0;l<n.length;l++)u.data[l]=n[l];s.putImageData(u,0,0),("canvas"==m("#"+p)[0].tagName?m("#"+p):m("#"+p+" canvas")).css("width",o+"px").css("height",a+"px"),c()}catch(e){d(e)}},t.readAsArrayBuffer(e)})},o.prototype.onFileReady=function(){var i=this;return new Promise(function(e,t){var n=window.setInterval(function(){!0===i.imageIsLoaded&&(clearInterval(n),e())},200)})},a.ImageView=o}.call(this,s(31),s(1))},,,function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.AuthState=void 0,n(88)),n=(r=n.AbstractAuthState,o(a,r),a);function a(){var t=null!==r&&r.apply(this,arguments)||this;return t.name="AuthState",t.LAYOUT_TEMPLATE_NAME="new-premium",t.onDomReady=function(){t.initAbstractAuth(),t.ctx.tool&&(t.extraLoginParams={tool:t.ctx.tool}),t.changeScreen(t.INITIAL_SCREEN),t.clearLoadingScreen()},t._onLoginSuccess=function(){t.executeAfterLoginOrRegisterSuccess()},t._onRegisterSuccess=function(){t.executeAfterLoginOrRegisterSuccess()},t.executeAfterLoginOrRegisterSuccess=function(){var e=t.ctx._getInitialState();t.ctx.changeState(e),e.render(t.domRoot)},t}t.AuthState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.CannotTrialState=void 0,n(121)),n=n(65),n=(r=n.AbstractPaymentState,o(s,r),s);function s(){var n=null!==r&&r.apply(this,arguments)||this;return n.name="CannotTrialState",n.LAYOUT_TEMPLATE_NAME="new-premium",n.INITIAL_SCREEN="default",n.onDomReady=function(){n.changeScreen(n.INITIAL_SCREEN),n.initAbstractPayment({paymentAction:"become_premium",paymentInterval:{type:"gui",gui:"boxes"},currentPaymentMethod:n.ctx.userCurrentPaymentMethod,paymentProviderProps:[{name:"stripe",paymentButtonText:n.t("paymentButtonText")},{name:"paypal"}]}).then(n._onAbstractPaymentInited)},n._onPaymentSuccess=function(e){var t="dialog"===n.ctx.getContextPlacement()?"popup":"auth",t=(window.ev("send","event","user","premium",t),window.ev("event","premium",{origin:t}),new a.SubscriptionSuccessState);n.ctx.changeState(t),t.render(n.domRoot)},n._onPaymentFailed=function(e){},n._onAbstractPaymentInited=function(){setTimeout(n.clearLoadingScreen,150)},n}t.CannotTrialState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionSuccessState=void 0,n(8)),s=n(7),u=n(16),n=n(21),n=(r=n.StateBase,o(l,r),l.prototype.init=function(){this.actionBtn.addEventListener("click",this._onDoneButtonClick);var e=this.dialogSubtitle;e.innerHTML=e.innerHTML.replace("${email}","<b>${email}</b>"),e.innerHTML=s.Lang.tr(e.innerHTML,{email:this.authenticatedUserEmail})},l.prototype.hideHeaderAndFooter=function(){var e=this.domRoot.querySelector(".dialog__header");if(!e)throw"Header not found";var t=this.domRoot.querySelector(".dialog__footer");if(!t)throw"Footer not found";e.style.display="none",t.style.display="none"},Object.defineProperty(l.prototype,"dialogSubtitle",{get:function(){var e=this.domStateRoot.querySelector(".dialog__subtitle");if(e)return e;throw"Description elem not found"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"authenticatedUserEmail",{get:function(){var e=u.UserModel.get();if(e)return e.email;throw"Authenticated user not found!"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"actionBtn",{get:function(){var e=this.domStateRoot.querySelector(".dialog__action [next-from-payment-completed]");if(e)return e;throw"'Done' button not found"},enumerable:!1,configurable:!0}),l);function l(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="SubscriptionSuccessState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.init(),e.hideHeaderAndFooter(),e.clearLoadingScreen()},e._onDoneButtonClick=function(){e.dispatchEvent(new a.IloveEvent("end"))},e}t.SubscriptionSuccessState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.CanTrialState=void 0,n(65)),s=n(123),n=(r=a.AbstractPaymentState,o(u,r),u);function u(){var i=null!==r&&r.apply(this,arguments)||this;return i.name="CanTrialState",i.LAYOUT_TEMPLATE_NAME="new-premium",i.INITIAL_SCREEN="default",i.onDomReady=function(){i.changeScreen(i.INITIAL_SCREEN),i.initAbstractPayment({paymentAction:"become_premium",paymentInterval:{type:"gui",gui:"radio"},currentPaymentMethod:i.ctx.userCurrentPaymentMethod,paymentProviderProps:[{name:"stripe",paymentButtonText:i.t("paymentButtonText")},{name:"paypal"}]}).then(i._onAbstractPaymentInited)},i._onPaymentSuccess=function(e,t){var n="dialog"===i.ctx.getContextPlacement()?"popup":"auth",n=(window.ev("send","event","user","premium",n),window.ev("event","premium",{origin:n}),new s.TrialSuccessState);i.ctx.changeState(n),n.render(i.domRoot)},i._onPaymentFailed=function(e,t){},i._onAbstractPaymentInited=function(){setTimeout(i.clearLoadingScreen,150)},i}t.CanTrialState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.TrialSuccessState=void 0,n(8)),s=n(7),u=n(16),n=n(21),n=(r=n.StateBase,o(l,r),l.prototype.init=function(){this.actionBtn.addEventListener("click",this._onDoneButtonClick);var e=this.dialogSubtitle;e.innerHTML=e.innerHTML.replace("${email}","<b>${email}</b>"),e.innerHTML=s.Lang.tr(e.innerHTML,{email:this.authenticatedUserEmail})},l.prototype.hideHeaderAndFooter=function(){var e=this.domRoot.querySelector(".dialog__header");if(!e)throw"Header not found";var t=this.domRoot.querySelector(".dialog__footer");if(!t)throw"Footer not found";e.style.display="none",t.style.display="none"},Object.defineProperty(l.prototype,"dialogSubtitle",{get:function(){var e=this.domStateRoot.querySelector(".dialog__subtitle");if(e)return e;throw"Description elem not found"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"authenticatedUserEmail",{get:function(){var e=u.UserModel.get();if(e)return e.email;throw"Authenticated user not found!"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"actionBtn",{get:function(){var e=this.domStateRoot.querySelector(".dialog__action [next-from-payment-completed]");if(e)return e;throw"'Done' button not found"},enumerable:!1,configurable:!0}),l);function l(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="TrialSuccessState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.init(),e.hideHeaderAndFooter(),e.clearLoadingScreen()},e._onDoneButtonClick=function(){e.dispatchEvent(new a.IloveEvent("end"))},e}t.TrialSuccessState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.PremiumState=void 0,n(8)),n=n(21),n=(r=n.StateBase,o(s,r),s.prototype.render=function(e){this.dispatchEvent(new a.IloveEvent("end"))},s);function s(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="PremiumState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){},e}t.PremiumState=n},,,,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,,,function(e,t,n){e.exports=n(33),n(91),n(46),n(133),n(92),n(134),n(93),n(135),n(136)},function(e,t,n){var i,r;!function(){"use strict";r=[n(33),n(46)],void 0!==(r="function"==typeof(i=function(r){"use strict";if(typeof fetch!=="undefined"&&typeof Request!=="undefined")r.fetchBlob=function(e,t,n){if(r.hasMetaOption(n))fetch(new Request(e,n)).then(function(e){return e.blob()}).then(t).catch(function(e){console.log(e);t()});else t()};else if(typeof XMLHttpRequest!=="undefined"&&typeof ProgressEvent!=="undefined")r.fetchBlob=function(e,t,n){if(r.hasMetaOption(n)){n=n||{};var i=new XMLHttpRequest;i.open(n.method||"GET",e);if(n.headers)Object.keys(n.headers).forEach(function(e){i.setRequestHeader(e,n.headers[e])});i.withCredentials=n.credentials==="include";i.responseType="blob";i.onload=function(){t(i.response)};i.onerror=i.onabort=i.ontimeout=function(e){console.log(e);t()};i.send(n.body)}else t()}})?i.apply(t,r):i)&&(e.exports=r)}()},function(e,t,n){var i,r;!function(){"use strict";r=[n(33),n(92)],void 0!==(r="function"==typeof(i=function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)};var t=e.ExifMap.prototype,n=t.tags,i=t.map,r;for(r in n)if(Object.prototype.hasOwnProperty.call(n,r))i[n[r]]=r;e.ExifMap.prototype.getAll=function(){var e={};var t;var n;for(t in this)if(Object.prototype.hasOwnProperty.call(this,t)){n=this.tags[t];if(n)e[n]=this.getText(n)}return e}})?i.apply(t,r):i)&&(e.exports=r)}()},function(e,t,n){var i,r;!function(){"use strict";r=[n(33),n(93)],void 0!==(r="function"==typeof(i=function(e){"use strict";e.IptcMap.prototype.tags={3:"ObjectType",4:"ObjectAttribute",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectRef",15:"Category",20:"SupplCategory",22:"FixtureID",25:"Keywords",26:"ContentLocCode",27:"ContentLocName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"RefService",47:"RefDate",50:"RefNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"CountryName",103:"OrigTransRef",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",122:"WriterEditor",130:"ImageType",131:"ImageOrientation",135:"LanguageID"},e.IptcMap.prototype.getText=function(e){var t=this.get(e);return String(t)};var t=e.IptcMap.prototype,n=t.tags,i=t.map||{},r;for(r in n)if(Object.prototype.hasOwnProperty.call(n,r))i[n[r]]=r;e.IptcMap.prototype.getAll=function(){var e={};var t;var n;for(t in this)if(Object.prototype.hasOwnProperty.call(this,t)){n=this.tags[t];if(n)e[n]=this.getText(n)}return e}})?i.apply(t,r):i)&&(e.exports=r)}()},function(e,t,n){var i,r;!function(){"use strict";r=[n(33),n(91),n(46)],void 0!==(r="function"==typeof(i=function(u){"use strict";var t=u.hasCanvasOption,n=u.hasMetaOption,l=u.transformCoordinates,s=u.getTransformedOptions,e="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA"+"AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA"+"QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE"+"BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x"+"ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA"+"AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",i=document.createElement("img");i.onload=function(){u.orientation=i.width===1&&i.height===2},i.src=e,u.hasCanvasOption=function(e){return!!e.orientation===true&&!u.orientation||e.orientation>1&&e.orientation<9||t.call(u,e)},u.hasMetaOption=function(e){return e&&e.orientation===true&&!u.orientation||n.call(u,e)},u.transformCoordinates=function(e,t){l.call(u,e,t);var n=e.getContext("2d");var i=e.width;var r=e.height;var o=e.style.width;var a=e.style.height;var s=t.orientation;if(!(s>1&&s<9))return;if(s>4){e.width=r;e.height=i;e.style.width=a;e.style.height=o}switch(s){case 2:n.translate(i,0);n.scale(-1,1);break;case 3:n.translate(i,r);n.rotate(Math.PI);break;case 4:n.translate(0,r);n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI);n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI);n.translate(0,-r);break;case 7:n.rotate(.5*Math.PI);n.translate(i,-r);n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI);n.translate(-i,0);break}},u.getTransformedOptions=function(e,t,n){var i=s.call(u,e,t);var r=i.orientation;var o;var a;if(r===true){if(u.orientation)return i;r=n&&n.exif&&n.exif.get("Orientation")}if(!(r>1&&r<9))return i;o={};for(a in i)if(Object.prototype.hasOwnProperty.call(i,a))o[a]=i[a];o.orientation=r;switch(r){case 2:o.left=i.right;o.right=i.left;break;case 3:o.left=i.right;o.top=i.bottom;o.right=i.left;o.bottom=i.top;break;case 4:o.top=i.bottom;o.bottom=i.top;break;case 5:o.left=i.top;o.top=i.left;o.right=i.bottom;o.bottom=i.right;break;case 6:o.left=i.top;o.top=i.right;o.right=i.bottom;o.bottom=i.left;break;case 7:o.left=i.bottom;o.top=i.right;o.right=i.top;o.bottom=i.left;break;case 8:o.left=i.bottom;o.top=i.left;o.right=i.top;o.bottom=i.right;break}if(o.orientation>4){o.maxWidth=i.maxHeight;o.maxHeight=i.maxWidth;o.minWidth=i.minHeight;o.minHeight=i.minWidth;o.sourceWidth=i.sourceHeight;o.sourceHeight=i.sourceWidth}return o}})?i.apply(t,r):i)&&(e.exports=r)}()},function(t,n,i){var a;!function(e){"use strict";var r=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,s=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),u=s&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),l=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,c=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,o=(s||l)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,n,i,r,o,a=e.match(c);if(!a)throw new Error("invalid data URI");for(t=a[2]?a[1]:"text/plain"+(a[3]||";charset=US-ASCII"),o=!!a[4],e=e.slice(a[0].length),n=(o?atob:decodeURIComponent)(e),a=new ArrayBuffer(n.length),i=new Uint8Array(a),r=0;r<n.length;r+=1)i[r]=n.charCodeAt(r);return s?new Blob([u?i:a],{type:t}):((o=new l).append(a),o.getBlob(t))};e.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(e,t,n){var i=this;setTimeout(function(){n&&r.toDataURL&&o?e(o(i.toDataURL(t,n))):e(i.mozGetAsFile("blob",t))})}:r.toDataURL&&o&&(r.msToBlob?r.toBlob=function(e,t,n){var i=this;setTimeout(function(){(t&&"image/png"!==t||n)&&r.toDataURL&&o?e(o(i.toDataURL(t,n))):e(i.msToBlob(t))})}:r.toBlob=function(e,t,n){var i=this;setTimeout(function(){e(o(i.toDataURL(t,n)))})})),void 0!==(a=function(){return o}.call(n,i,n,t))&&(t.exports=a)}(window)},function(e,t,v){!function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n,i,r,o,a,s,u,D={};function l(e,t,n,i){for(var r=0;r<t.length;r++)e[t[r]]=n+r*i}D.decode=function(e){D.decode._decodeG3.allow2D=null;for(var t=new Uint8Array(e),n="II"==D._binBE.readASCII(t,0,2)?D._binLE:D._binBE,i=(n.readUshort(t,2),n.readUint(t,4)),r=[];;){var o=D.decode._readIFD(n,t,i,r);if(0==(i=n.readUint(t,o)))break}for(var a=0;a<r.length;a++){var s=r[a],u=(s.width=s.t256[0],delete s.t256,s.height=s.t257[0],delete s.t257,s.t259[0]),l=(delete s.t259,s.t266?s.t266[0]:1),c=(delete s.t266,s.t284&&s.t284[0],(s.t258?s.t258[0]:1)*(s.t277?s.t277[0]:1)),d=s.t273,p=(null==d&&(d=s.t324),s.t279),f=(null==(p=1==u&&1==d.length?[s.height*s.width*c>>3]:p)&&(p=s.t325),new Uint8Array(s.width*s.height*c>>3)),h=0;if(null!=s.t322){for(var m=s.t322[0],g=s.t323[0],v=Math.floor((s.width+m-1)/m),y=Math.floor((s.height+g-1)/g),b=new Uint8Array(m*g*c>>3),_=0;_<y;_++)for(var w=0;w<v;w++){for(var E=_*v+w,S=0;S<b.length;S++)b[S]=0;D.decode._decompress(s,t,d[E],p[E],u,b,0,l),D._copyTile(b,m*c>>3,g,f,s.width*c>>3,s.height,w*m*c>>3,_*g)}h=f.length<<3}else{for(var C=s.t278?s.t278[0]:s.height,C=Math.min(C,s.height),E=0;E<d.length;E++)D.decode._decompress(s,t,d[E],p[E],u,f,h>>3,l),h+=s.width*c*C;h=Math.min(h,f.length<<3)}s.data=new Uint8Array(f.buffer,0,h>>3)}return r},D.decode._decompress=function(e,t,n,i,r,o,a,s){var u=v(139);if(1==r)for(var l=0;l<i;l++)o[a+l]=t[n+l];else if(3==r)D.decode._decodeG3(t,n,i,o,a,e.width,s);else if(4==r)D.decode._decodeG4(t,n,i,o,a,e.width,s);else if(5==r)D.decode._decodeLZW(t,n,o,a);else if(8==r)for(var s=new Uint8Array(t.buffer,n,i),c=u.inflate(s),d=0;d<c.length;d++)o[a+d]=c[d];else 32773==r?D.decode._decodePackBits(t,n,i,o,a):32809==r&&D.decode._decodeThunder(t,n,i,o,a);if(e.t317&&2==e.t317[0])for(var p=e.t277?e.t277[0]:1,f=e.t278?e.t278[0]:e.height,h=e.width*p,m=0;m<f;m++)for(var g=a+m*h,l=p;l<h;l++)o[g+l]=o[g+l]+o[g+l-p]&255},D.decode._decodePackBits=function(e,t,n,i,r){for(var o=new Int8Array(e.buffer),a=new Int8Array(i.buffer),s=t+n;t<s;){var u=o[t];if(t++,0<=u&&u<128)for(var l=0;l<u+1;l++)a[r]=o[t],r++,t++;if(-127<=u&&u<0){for(l=0;l<1-u;l++)a[r]=o[t],r++;t++}}},D.decode._decodeThunder=function(e,t,n,i,r){for(var o=[0,1,0,-1],a=[0,1,2,3,0,-3,-2,-1],s=t+n,u=2*r,l=0;t<s;){var c,d=e[t],p=d>>6,f=63&d;if(t++,3==p&&(i[u>>1]|=(l=15&f)<<4*(1-u&1),u++),0==p)for(var h=0;h<f;h++)i[u>>1]|=l<<4*(1-u&1),u++;if(2==p)for(h=0;h<2;h++)4!=(c=f>>3*(1-h)&7)&&(l+=a[c],i[u>>1]|=l<<4*(1-u&1),u++);if(1==p)for(h=0;h<3;h++)2!=(c=f>>2*(2-h)&3)&&(l+=o[c],i[u>>1]|=l<<4*(1-u&1),u++)}},D.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},D.decode._lens=(n="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",i="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",r="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",o=(o="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100").split(","),n=n.split(","),i=i.split(","),r=r.split(","),a="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111".split(","),u={},l(s={},o,0,1),l(s,i,64,64),l(s,a,1792,64),l(u,n,0,1),l(u,r,64,64),l(u,a,1792,64),[s,u]),D.decode._decodeG4=function(e,t,n,i,r,o,a){for(var s=D.decode,u=t<<3,l=0,c="",d=[],p=[],f=0;f<o;f++)p.push(0);for(var p=s._makeDiff(p),h=0,m=0,g=0,v="",y=0;u>>3<t+n;){var b=s._findDiff(p,h+(0==h?0:1),1-m),_=s._findDiff(p,b,m),w=0;1==a&&(w=e[u>>3]>>7-(7&u)&1),2==a&&(w=e[u>>3]>>(7&u)&1),u++,c+=w,"H"==v?null!=s._lens[m][c]&&(w=s._lens[m][c],c="",l+=w,w<64)&&(s._addNtimes(d,l,m),h+=l,m=1-m,(l=0)==--y)&&(v=""):("0001"==c&&(c="",s._addNtimes(d,_-h,m),h=_),"001"==c&&(c="",v="H",y=2),null!=s._dmap[c]&&(w=b+s._dmap[c],s._addNtimes(d,w-h,m),h=w,c="",m=1-m)),d.length==o&&""==v&&(s._writeBits(d,i,8*r+g*o),g++,h=m=0,p=s._makeDiff(d),d=[])}},D.decode._findDiff=function(e,t,n){for(var i=0;i<e.length;i+=2)if(e[i]>=t&&e[i+1]==n)return e[i]},D.decode._makeDiff=function(e){var t=[];1==e[0]&&t.push(0,1);for(var n=1;n<e.length;n++)e[n-1]!=e[n]&&t.push(n,e[n]);return t.push(e.length,0,e.length,1),t},D.decode._decodeG3=function(e,t,n,i,r,o,a){for(var s=D.decode,u=t<<3,l=0,c="",d=[],p=[],f=0;f<o;f++)d.push(0);for(var h=0,m=0,g=-1,v="",y=0,b=!1;u>>3<t+n;){var _,w=s._findDiff(p,h+(0==h?0:1),1-m),E=s._findDiff(p,w,m),S=0;1==a&&(S=e[u>>3]>>7-(7&u)&1),2==a&&(S=e[u>>3]>>(7&u)&1),u++,c+=S,b?null!=s._lens[m][c]&&(_=s._lens[m][c],c="",l+=_,_<64)&&(s._addNtimes(d,l,m),m=1-m,l=0):"H"==v?null!=s._lens[m][c]&&(_=s._lens[m][c],c="",l+=_,_<64)&&(s._addNtimes(d,l,m),h+=l,m=1-m,(l=0)==--y)&&(v=""):("0001"==c&&(c="",s._addNtimes(d,E-h,m),h=E),"001"==c&&(c="",v="H",y=2),null!=s._dmap[c]&&(S=w+s._dmap[c],s._addNtimes(d,S-h,m),h=S,c="",m=1-m)),c.endsWith("000000000001")&&(0<=g&&s._writeBits(d,i,8*r+g*o),b=1==(e[u>>3]>>(7&u)&1),u++,null==s._decodeG3.allow2D&&(s._decodeG3.allow2D=b),s._decodeG3.allow2D||(b=!0,u--),c="",g++,h=m=0,p=s._makeDiff(d),d=[])}d.length==o&&s._writeBits(d,i,8*r+g*o)},D.decode._addNtimes=function(e,t,n){for(var i=0;i<t;i++)e.push(n)},D.decode._writeBits=function(e,t,n){for(var i=0;i<e.length;i++)t[n+i>>3]|=e[i]<<7-(n+i&7)},D.decode._decodeLZW=function(e,t,n,i){for(var r=[],o=9,a=t<<3,s=0,u=0;;){if(s=(e[a>>3]<<16|e[a+8>>3]<<8|e[a+16>>3])>>24-(7&a)-o&(1<<o)-1,a+=o,0==r.length&&256!=s)return;if(257==s)break;if(256==s){for(var o=9,r=[],l=0;l<258;l++)r[l]=[l];if(s=(e[a>>3]<<16|e[a+8>>3]<<8|e[a+16>>3])>>24-(7&a)-o&(1<<o)-1,a+=o,257==s)break;for(l=0;l<r[s].length;l++)n[i+l]=r[s][l];i+=r[s].length}else{if(s<r.length){for(l=0;l<r[s].length;l++)n[i+l]=r[s][l];i+=r[s].length;var c=r[u].slice(0);c.push(r[s][0]),r.push(c)}else{var d=r[u].slice(0);d.push(d[0]);for(l=0;l<d.length;l++)n[i+l]=d[l];i+=d.length,r.push(d)}r.length+1==1<<o&&o++}u=s}},D.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",317:"Predictor",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",336:"DotRange",338:"ExtraSample",339:"SampleFormat",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",33432:"Copyright",34377:"Photoshop"},D.decode._readIFD=function(e,t,n,i){var r=e.readUshort(t,n),o=(n+=2,{});i.push(o);for(var a=0;a<r;a++){var s=e.readUshort(t,n),u=(n+=2,e.readUshort(t,n)),l=(n+=2,e.readUint(t,n)),c=(n+=4,e.readUint(t,n)),d=(n+=4,o["t"+s]=[]);if(1==u||7==u)for(var p=0;p<l;p++)d.push(t[(l<5?n-4:c)+p]);if(2==u&&d.push(e.readASCII(t,l<5?n-4:c,l-1)),3==u)for(p=0;p<l;p++)d.push(e.readUshort(t,(l<3?n-4:c)+2*p));if(4==u)for(p=0;p<l;p++)d.push(e.readUint(t,(l<2?n-4:c)+4*p));if(5==u)for(p=0;p<l;p++)d.push(e.readUint(t,c+8*p)/e.readUint(t,c+8*p+4));d.length}return n},D.toRGBA8=function(e){var t=e.width*e.height,n=4*t,i=e.data,r=new Uint8Array(4*t),o=e.t262[0],a=e.t258?e.t258[0]:1;if(0==o){if(1==a)for(var s=0;s<t;s++){var u=s<<2,l=i[s>>3]>>7-(7&s)&1;r[u]=r[u+1]=r[u+2]=255*(1-l),r[u+3]=255}if(4==a)for(s=0;s<t;s++){u=s<<2,l=i[s>>1]>>4-4*(1&s)&15;r[u]=r[u+1]=r[u+2]=17*(15-l),r[u+3]=255}if(8==a)for(s=0;s<t;s++){u=s<<2,l=i[s];r[u]=r[u+1]=r[u+2]=255-l,r[u+3]=255}}if(1==o){if(1==a)for(s=0;s<t;s++){u=s<<2,l=i[s>>3]>>7-(7&s)&1;r[u]=r[u+1]=r[u+2]=255*l,r[u+3]=255}if(2==a)for(s=0;s<t;s++){u=s<<2,l=i[s>>2]>>6-2*(3&s)&3;r[u]=r[u+1]=r[u+2]=85*l,r[u+3]=255}if(8==a)for(s=0;s<t;s++){u=s<<2,l=i[s];r[u]=r[u+1]=r[u+2]=l,r[u+3]=255}if(16==a)for(s=0;s<t;s++){u=s<<2,l=Math.max(0,i[2*s+1]-5)<<8|i[2*s];r[u]=r[u+1]=r[u+2]=Math.min(255,l),r[u+3]=255}}if(2==o)if(8==a)if(e.t338)if(1==e.t338[0])for(s=0;s<n;s++)r[s]=i[s];else for(s=0;s<n;s+=4)r[s]=i[s],r[s+1]=i[s+1],r[s+2]=i[s+2],r[s+3]=255;else for(s=0;s<t;s++){var c=3*s;r[u=s<<2]=i[c],r[u+1]=i[c+1],r[u+2]=i[c+2],r[u+3]=255}else for(s=0;s<t;s++){c=6*s;r[u=s<<2]=i[c],r[u+1]=i[c+2],r[u+2]=i[c+4],r[u+3]=255}if(3==o)for(var d=e.t320,s=0;s<t;s++){var u=s<<2,p=i[s];r[u]=d[p]>>8,r[u+1]=d[256+p]>>8,r[u+2]=d[512+p]>>8,r[u+3]=255}if(5==o)for(s=0;s<t;s++){var f=255-i[u=s<<2],h=255-i[u+1],m=255-i[u+2],g=(255-i[u+3])*(1/255);r[u]=Math.round(f*g),r[u+1]=Math.round(h*g),r[u+2]=Math.round(m*g),r[u+3]=255}return r},D.replaceIMG=function(){for(var e=document.getElementsByTagName("img"),t=0;t<e.length;t++){var n=e[t],i=n.getAttribute("src"),r=i.split(".").pop().toLowerCase();"tif"!=r&&"tiff"!=r||(r=new XMLHttpRequest,D._xhrs.push(r),D._imgs.push(n),r.open("GET",i),r.responseType="arraybuffer",r.onload=D._imgLoaded,r.send())}},D._xhrs=[],D._imgs=[],D._imgLoaded=function(e){for(var t=D.decode(e.target.response)[0],n=D.toRGBA8(t),i=t.width,t=t.height,e=D._xhrs.indexOf(e.target),r=D._imgs[e],o=(D._xhrs.splice(e,1),D._imgs.splice(e,1),document.createElement("canvas")),e=(o.width=i,o.height=t,o.getContext("2d")),a=e.createImageData(i,t),s=0;s<n.length;s++)a.data[s]=n[s];e.putImageData(a,0,0);for(var u=["style","class","id"],s=0;s<u.length;s++)o.setAttribute(u[s],r.getAttribute(u[s]));r.parentNode.replaceChild(o,r)},D._binBE={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},readUint:function(e,t){var n=D._binBE.ui8;return n[0]=e[t+3],n[1]=e[t+2],n[2]=e[t+1],n[3]=e[t],D._binBE.ui32[0]},readASCII:function(e,t,n){for(var i="",r=0;r<n;r++)i+=String.fromCharCode(e[t+r]);return i}},D._binBE.ui8=new Uint8Array(4),D._binBE.ui32=new Uint32Array(D._binBE.ui8.buffer),D._binLE={nextZero:D._binBE.nextZero,readUshort:function(e,t){return e[t+1]<<8|e[t]},readUint:function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},readASCII:D._binBE.readASCII},D._copyTile=function(e,t,n,i,r,o,a,s){for(var u=0;u<n;u++)for(var l=0;l<t;l++){var c=a+l,d=s+u;c<r&&d<o&&(i[d*r+c]=e[u*t+l])}},"object"==t(e)&&(e.exports=D)}.call(this,v(128)(e))},function(e,t,n){"use strict";var i={};(0,n(37).assign)(i,n(140),n(143),n(98)),e.exports=i},function(e,t,n){"use strict";var a=n(141),s=n(37),u=n(96),i=n(66),r=n(97),l=Object.prototype.toString;function o(e){if(!(this instanceof o))return new o(e);this.options=s.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});e=this.options;if(e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,(this.strm.avail_out=0)!==(t=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy)))throw new Error(i[t]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var t,e="string"==typeof e.dictionary?u.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary;if(0!==(t=a.deflateSetDictionary(this.strm,e)))throw new Error(i[t]);this._dict_set=!0}}function c(e,t){t=new o(t);if(t.push(e,!0),t.err)throw t.msg||i[t.err];return t.result}o.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=u.string2buf(e):"[object ArrayBuffer]"===l.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new s.Buf8(o),r.next_out=0,r.avail_out=o),1!==(n=a.deflate(r,i))&&0!==n)return this.onEnd(n),!(this.ended=!0)}while(0!==r.avail_out&&(0!==r.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(u.buf2binstring(s.shrinkBuf(r.output,r.next_out))):this.onData(s.shrinkBuf(r.output,r.next_out))),(0<r.avail_in||0===r.avail_out)&&1!==n);return 4===i?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==i||(this.onEnd(0),!(r.avail_out=0))},o.prototype.onData=function(e){this.chunks.push(e)},o.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=o,t.deflate=c,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},function(F,e,t){"use strict";var s,d=t(37),u=t(142),p=t(94),f=t(95),B=t(66),l=0,c=4,h=0,m=-2,N=-1,j=4,R=2,g=8,U=9,n=286,q=30,H=19,z=2*n+1,V=15,v=3,y=258,b=y+v+1,_=42,w=113,E=1,S=2,C=3,D=4;function A(e,t){return e.msg=B[t],t}function x(e){return(e<<1)-(4<e?9:0)}function O(e){for(var t=e.length;0<=--t;)e[t]=0}function T(e){var t=e.state,n=t.pending;0!==(n=n>e.avail_out?e.avail_out:n)&&(d.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending)&&(t.pending_out=0)}function I(e,t){u._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,T(e.strm)}function P(e,t){e.pending_buf[e.pending++]=t}function $(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function o(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-b?e.strstart-(e.w_size-b):0,l=e.window,c=e.w_mask,d=e.prev,p=e.strstart+y,f=l[o+a-1],h=l[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+a]===h&&l[n+a-1]===f&&l[n]===l[o]&&l[++n]===l[o+1]){for(o+=2,n++;l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<p;);if(i=y-(p-o),o=p-y,a<i){if(e.match_start=t,s<=(a=i))break;f=l[o+a-1],h=l[o+a]}}}while((t=d[t&c])>u&&0!=--r);return a<=e.lookahead?a:e.lookahead}function k(e){var t,n,i,r,o,a,s,u,l,c=e.w_size;do{if(u=e.window_size-e.lookahead-e.strstart,e.strstart>=c+(c-b)){for(d.arraySet(e.window,e.window,c,c,0),e.match_start-=c,e.strstart-=c,e.block_start-=c,t=n=e.hash_size;i=e.head[--t],e.head[t]=c<=i?i-c:0,--n;);for(t=n=c;i=e.prev[--t],e.prev[t]=c<=i?i-c:0,--n;);u+=c}if(0===e.strm.avail_in)break;if(o=e.strm,a=e.window,s=e.strstart+e.lookahead,u=u,l=void 0,l=o.avail_in,n=0===(l=u<l?u:l)?0:(o.avail_in-=l,d.arraySet(a,o.input,o.next_in,l,s),1===o.state.wrap?o.adler=p(o.adler,a,l,s):2===o.state.wrap&&(o.adler=f(o.adler,a,l,s)),o.next_in+=l,o.total_in+=l,l),e.lookahead+=n,e.lookahead+e.insert>=v)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+v-1])&e.hash_mask,e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<v)););}while(e.lookahead<b&&0!==e.strm.avail_in)}function i(e,t){for(var n,i;;){if(e.lookahead<b){if(k(e),e.lookahead<b&&t===l)return E;if(0===e.lookahead)break}if(n=0,e.lookahead>=v&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-b&&(e.match_length=o(e,n)),e.match_length>=v)if(i=u._tr_tally(e,e.strstart-e.match_start,e.match_length-v),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=v){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(I(e,!1),0===e.strm.avail_out))return E}return e.insert=e.strstart<v-1?e.strstart:v-1,t===c?(I(e,!0),0===e.strm.avail_out?C:D):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?E:S}function r(e,t){for(var n,i,r;;){if(e.lookahead<b){if(k(e),e.lookahead<b&&t===l)return E;if(0===e.lookahead)break}if(n=0,e.lookahead>=v&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=v-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-b&&(e.match_length=o(e,n),e.match_length<=5)&&(1===e.strategy||e.match_length===v&&4096<e.strstart-e.match_start)&&(e.match_length=v-1),e.prev_length>=v&&e.match_length<=e.prev_length){for(r=e.strstart+e.lookahead-v,i=u._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-v),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=v-1,e.strstart++,i&&(I(e,!1),0===e.strm.avail_out))return E}else if(e.match_available){if((i=u._tr_tally(e,0,e.window[e.strstart-1]))&&I(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return E}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=u._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<v-1?e.strstart:v-1,t===c?(I(e,!0),0===e.strm.avail_out?C:D):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?E:S}function a(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*z),this.dyn_dtree=new d.Buf16(2*(2*q+1)),this.bl_tree=new d.Buf16(2*(2*H+1)),O(this.dyn_ltree),O(this.dyn_dtree),O(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(V+1),this.heap=new d.Buf16(2*n+1),O(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*n+1),O(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function L(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=R,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?_:w,e.adler=2===t.wrap?0:1,t.last_flush=l,u._tr_init(t),h):A(e,m)}function M(e){var t=L(e);return t===h&&((e=e.state).window_size=2*e.w_size,O(e.head),e.max_lazy_match=s[e.level].max_lazy,e.good_match=s[e.level].good_length,e.nice_match=s[e.level].nice_length,e.max_chain_length=s[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=v-1,e.match_available=0,e.ins_h=0),t}function G(e,t,n,i,r,o){if(!e)return m;var a=1;if(t===N&&(t=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),r<1||U<r||n!==g||i<8||15<i||t<0||9<t||o<0||j<o)return A(e,m);8===i&&(i=9);var s=new W;return(e.state=s).strm=e,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+v-1)/v),s.window=new d.Buf8(2*s.w_size),s.head=new d.Buf16(s.hash_size),s.prev=new d.Buf16(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new d.Buf8(s.pending_buf_size),s.d_buf=+s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,M(e)}s=[new a(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(k(e),0===e.lookahead&&t===l)return E;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,I(e,!1),0===e.strm.avail_out))return E;if(e.strstart-e.block_start>=e.w_size-b&&(I(e,!1),0===e.strm.avail_out))return E}return e.insert=0,t===c?(I(e,!0),0===e.strm.avail_out?C:D):(e.strstart>e.block_start&&(I(e,!1),e.strm.avail_out),E)}),new a(4,4,8,4,i),new a(4,5,16,8,i),new a(4,6,32,32,i),new a(4,4,16,16,r),new a(8,16,32,32,r),new a(8,16,128,128,r),new a(8,32,128,256,r),new a(32,128,258,1024,r),new a(32,258,258,4096,r)],e.deflateInit=function(e,t){return G(e,t,g,15,8,0)},e.deflateInit2=G,e.deflateReset=M,e.deflateResetKeep=L,e.deflateSetHeader=function(e,t){return!e||!e.state||2!==e.state.wrap?m:(e.state.gzhead=t,h)},e.deflate=function(e,t){var n,i,r,o;if(!e||!e.state||5<t||t<0)return e?A(e,m):m;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==c)return A(e,0===e.avail_out?-5:m);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===_&&(2===i.wrap?(e.adler=0,P(i,31),P(i,139),P(i,8),i.gzhead?(P(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),P(i,255&i.gzhead.time),P(i,i.gzhead.time>>8&255),P(i,i.gzhead.time>>16&255),P(i,i.gzhead.time>>24&255),P(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),P(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(P(i,255&i.gzhead.extra.length),P(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=f(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(P(i,0),P(i,0),P(i,0),P(i,0),P(i,0),P(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),P(i,3),i.status=w)):(a=g+(i.w_bits-8<<4)<<8,a|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=w,$(i,a),0!==i.strstart&&($(i,e.adler>>>16),$(i,65535&e.adler)),e.adler=1)),69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(e.adler=f(e.adler,i.pending_buf,i.pending-r,r)),T(e),r=i.pending,i.pending!==i.pending_buf_size));)P(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(e.adler=f(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=f(e.adler,i.pending_buf,i.pending-r,r)),T(e),r=i.pending,i.pending===i.pending_buf_size)){o=1;break}}while(o=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,P(i,o),0!==o);i.gzhead.hcrc&&i.pending>r&&(e.adler=f(e.adler,i.pending_buf,i.pending-r,r)),0===o&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=f(e.adler,i.pending_buf,i.pending-r,r)),T(e),r=i.pending,i.pending===i.pending_buf_size)){o=1;break}}while(o=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,P(i,o),0!==o);i.gzhead.hcrc&&i.pending>r&&(e.adler=f(e.adler,i.pending_buf,i.pending-r,r)),0===o&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&T(e),i.pending+2<=i.pending_buf_size&&(P(i,255&e.adler),P(i,e.adler>>8&255),e.adler=0,i.status=w)):i.status=w),0!==i.pending){if(T(e),0===e.avail_out)return i.last_flush=-1,h}else if(0===e.avail_in&&x(t)<=x(n)&&t!==c)return A(e,-5);if(666===i.status&&0!==e.avail_in)return A(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==l&&666!==i.status){var a=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(k(e),0===e.lookahead)){if(t===l)return E;break}if(e.match_length=0,n=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(I(e,!1),0===e.strm.avail_out))return E}return e.insert=0,t===c?(I(e,!0),0===e.strm.avail_out?C:D):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?E:S}(i,t):3===i.strategy?function(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=y){if(k(e),e.lookahead<=y&&t===l)return E;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=v&&0<e.strstart&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){for(o=e.strstart+y;i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o;);e.match_length=y-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=v?(n=u._tr_tally(e,1,e.match_length-v),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=u._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(I(e,!1),0===e.strm.avail_out))return E}return e.insert=0,t===c?(I(e,!0),0===e.strm.avail_out?C:D):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?E:S}(i,t):s[i.level].func(i,t);if(a!==C&&a!==D||(i.status=666),a===E||a===C)return 0===e.avail_out&&(i.last_flush=-1),h;if(a===S&&(1===t?u._tr_align(i):5!==t&&(u._tr_stored_block(i,0,0,!1),3===t)&&(O(i.head),0===i.lookahead)&&(i.strstart=0,i.block_start=0,i.insert=0),T(e),0===e.avail_out))return i.last_flush=-1,h}return t!==c||!(i.wrap<=0)&&(2===i.wrap?(P(i,255&e.adler),P(i,e.adler>>8&255),P(i,e.adler>>16&255),P(i,e.adler>>24&255),P(i,255&e.total_in),P(i,e.total_in>>8&255),P(i,e.total_in>>16&255),P(i,e.total_in>>24&255)):($(i,e.adler>>>16),$(i,65535&e.adler)),T(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending)?h:1},e.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==_&&69!==t&&73!==t&&91!==t&&103!==t&&t!==w&&666!==t?A(e,m):(e.state=null,t===w?A(e,-3):h):m},e.deflateSetDictionary=function(e,t){var n,i,r,o,a,s,u,l=t.length;if(!e||!e.state)return m;if(2===(o=(n=e.state).wrap)||1===o&&n.status!==_||n.lookahead)return m;for(1===o&&(e.adler=p(e.adler,t,l,0)),n.wrap=0,l>=n.w_size&&(0===o&&(O(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new d.Buf8(n.w_size),d.arraySet(u,t,l-n.w_size,n.w_size,0),t=u,l=n.w_size),u=e.avail_in,a=e.next_in,s=e.input,e.avail_in=l,e.next_in=0,e.input=t,k(n);n.lookahead>=v;){for(i=n.strstart,r=n.lookahead-(v-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+v-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--r;);n.strstart=i,n.lookahead=v-1,k(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=v-1,n.match_available=0,e.next_in=a,e.input=s,e.avail_in=u,n.wrap=o,h},e.deflateInfo="pako deflate (from Nodeca project)"},function(n,e,o){"use strict";var a=o(37),c=0,d=1;function t(e){for(var t=e.length;0<=--t;)e[t]=0}var s,u,l,p=29,f=256,h=f+1+p,m=30,g=19,D=2*h+1,A=15,i=16,j=7,v=256,y=16,b=17,_=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=new Array(2*(h+2)),x=(t(C),new Array(2*m)),O=(t(x),new Array(512)),T=(t(O),new Array(256)),I=(t(T),new Array(p)),P=(t(I),new Array(m));function $(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function L(e){return e<256?O[e]:O[256+(e>>>7)]}function r(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function M(e,t,n){e.bi_valid>i-n?(e.bi_buf|=t<<e.bi_valid&65535,r(e,e.bi_buf),e.bi_buf=t>>i-e.bi_valid,e.bi_valid+=n-i):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function F(e,t,n){M(e,n[2*t],n[2*t+1])}function U(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function q(e,t,n){for(var i,r=new Array(A+1),o=0,a=1;a<=A;a++)r[a]=o=o+n[a-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=U(r[s]++,s))}}function H(e){for(var t=0;t<h;t++)e.dyn_ltree[2*t]=0;for(t=0;t<m;t++)e.dyn_dtree[2*t]=0;for(t=0;t<g;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*v]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function z(e){8<e.bi_valid?r(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function V(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function B(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&V(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!V(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function W(e,t,n){var i,r,o,a,s=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0==i?F(e,r,t):(F(e,(o=T[r])+f+1,t),0!==(a=w[o])&&M(e,r-=I[o],a),F(e,o=L(--i),n),0!==(a=E[o])&&M(e,i-=P[o],a)),s<e.last_lit;);F(e,v,t)}function N(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=D,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=l,n=e.heap_len>>1;1<=n;n--)B(e,o,n);for(r=u;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],B(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,B(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1];for(var c,d,p,f,h,m=e,g=t.dyn_tree,v=t.max_code,y=t.stat_desc.static_tree,b=t.stat_desc.has_stree,_=t.stat_desc.extra_bits,w=t.stat_desc.extra_base,E=t.stat_desc.max_length,S=0,C=0;C<=A;C++)m.bl_count[C]=0;for(g[2*m.heap[m.heap_max]+1]=0,c=m.heap_max+1;c<D;c++)E<(C=g[2*g[2*(d=m.heap[c])+1]+1]+1)&&(C=E,S++),g[2*d+1]=C,v<d||(m.bl_count[C]++,f=0,w<=d&&(f=_[d-w]),h=g[2*d],m.opt_len+=h*(C+f),b&&(m.static_len+=h*(y[2*d+1]+f)));if(0!==S){do{for(C=E-1;0===m.bl_count[C];)C--}while(m.bl_count[C]--,m.bl_count[C+1]+=2,m.bl_count[E]--,0<(S-=2));for(C=E;0!==C;C--)for(d=m.bl_count[C];0!==d;)v<(p=m.heap[--c])||(g[2*p+1]!==C&&(m.opt_len+=(C-g[2*p+1])*g[2*p],g[2*p+1]=C),d--)}q(o,l,e.bl_count)}function G(e,t,n){var i,r,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<u&&r===a||(s<l?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*y]++):s<=10?e.bl_tree[2*b]++:e.bl_tree[2*_]++,o=r,l=(s=0)===a?(u=138,3):r===a?(u=6,3):(u=7,4))}function Y(e,t,n){var i,r,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<u&&r===a)){if(s<l)for(;F(e,r,e.bl_tree),0!=--s;);else 0!==r?(r!==o&&(F(e,r,e.bl_tree),s--),F(e,y,e.bl_tree),M(e,s-3,2)):s<=10?(F(e,b,e.bl_tree),M(e,s-3,3)):(F(e,_,e.bl_tree),M(e,s-11,7));o=r,l=(s=0)===a?(u=138,3):r===a?(u=6,3):(u=7,4)}}t(P);var Q=!1;function K(e,t,n,i){M(e,0+(i?1:0),3),i=t,t=n,n=!0,z(e=e),n&&(r(e,t),r(e,~t)),a.arraySet(e.pending_buf,e.window,i,t,e.pending),e.pending+=t}e._tr_init=function(e){if(!Q){for(var t,n,i,r=new Array(A+1),o=0,a=0;a<p-1;a++)for(I[a]=o,t=0;t<1<<w[a];t++)T[o++]=a;for(T[o-1]=a,a=i=0;a<16;a++)for(P[a]=i,t=0;t<1<<E[a];t++)O[i++]=a;for(i>>=7;a<m;a++)for(P[a]=i<<7,t=0;t<1<<E[a]-7;t++)O[256+i++]=a;for(n=0;n<=A;n++)r[n]=0;for(t=0;t<=143;)C[2*t+1]=8,t++,r[8]++;for(;t<=255;)C[2*t+1]=9,t++,r[9]++;for(;t<=279;)C[2*t+1]=7,t++,r[7]++;for(;t<=287;)C[2*t+1]=8,t++,r[8]++;for(q(C,h+1,r),t=0;t<m;t++)x[2*t+1]=5,x[2*t]=U(t,5);s=new $(C,w,f+1,h,A),u=new $(x,E,0,m,A),l=new $(new Array(0),R,0,g,j),Q=!0}e.l_desc=new k(e.dyn_ltree,s),e.d_desc=new k(e.dyn_dtree,u),e.bl_desc=new k(e.bl_tree,l),e.bi_buf=0,e.bi_valid=0,H(e)},e._tr_stored_block=K,e._tr_flush_block=function(e,t,n,i){var r,o,a=0;if(0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){for(var t=4093624447,n=0;n<=31;n++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*n])return c;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return d;for(n=32;n<f;n++)if(0!==e.dyn_ltree[2*n])return d;return c}(e)),N(e,e.l_desc),N(e,e.d_desc),a=function(e){var t;for(G(e,e.dyn_ltree,e.l_desc.max_code),G(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=g-1;3<=t&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t)K(e,t,n,i);else if(4===e.strategy||o===r)M(e,2+(i?1:0),3),W(e,C,x);else{M(e,4+(i?1:0),3);var s,u=e,t=e.l_desc.max_code+1,n=e.d_desc.max_code+1,l=a+1;for(M(u,t-257,5),M(u,n-1,5),M(u,l-4,4),s=0;s<l;s++)M(u,u.bl_tree[2*S[s]+1],3);Y(u,u.dyn_ltree,t-1),Y(u,u.dyn_dtree,n-1),W(e,e.dyn_ltree,e.dyn_dtree)}H(e),i&&z(e)},e._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(T[n]+f+1)]++,e.dyn_dtree[2*L(t)]++),e.last_lit===e.lit_bufsize-1},e._tr_align=function(e){M(e,2,3),F(e,v,C),16===(e=e).bi_valid?(r(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},function(e,t,n){"use strict";var d=n(144),p=n(37),f=n(96),h=n(98),i=n(66),r=n(97),o=n(147),m=Object.prototype.toString;function a(e){if(!(this instanceof a))return new a(e);this.options=p.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options,e=(t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits)&&(t.windowBits=-15),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0,d.inflateInit2(this.strm,t.windowBits));if(e!==h.Z_OK)throw new Error(i[e]);if(this.header=new o,d.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=f.string2buf(t.dictionary):"[object ArrayBuffer]"===m.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw)&&(e=d.inflateSetDictionary(this.strm,t.dictionary))!==h.Z_OK)throw new Error(i[e])}function s(e,t){t=new a(t);if(t.push(e,!0),t.err)throw t.msg||i[t.err];return t.result}a.prototype.push=function(e,t){var n,i,r,o,a,s=this.strm,u=this.options.chunkSize,l=this.options.dictionary,c=!1;if(this.ended)return!1;i=t===~~t?t:!0===t?h.Z_FINISH:h.Z_NO_FLUSH,"string"==typeof e?s.input=f.binstring2buf(e):"[object ArrayBuffer]"===m.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new p.Buf8(u),s.next_out=0,s.avail_out=u),(n=(n=d.inflate(s,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&l?d.inflateSetDictionary(this.strm,l):n)===h.Z_BUF_ERROR&&!0===c&&(n=h.Z_OK,c=!1),n!==h.Z_STREAM_END&&n!==h.Z_OK)return this.onEnd(n),!(this.ended=!0)}while(!s.next_out||0!==s.avail_out&&n!==h.Z_STREAM_END&&(0!==s.avail_in||i!==h.Z_FINISH&&i!==h.Z_SYNC_FLUSH)||("string"===this.options.to?(r=f.utf8border(s.output,s.next_out),o=s.next_out-r,a=f.buf2string(s.output,r),s.next_out=o,s.avail_out=u-o,o&&p.arraySet(s.output,s.output,r,o,0),this.onData(a)):this.onData(p.shrinkBuf(s.output,s.next_out))),0===s.avail_in&&0===s.avail_out&&(c=!0),(0<s.avail_in||0===s.avail_out)&&n!==h.Z_STREAM_END);return(i=n===h.Z_STREAM_END?h.Z_FINISH:i)===h.Z_FINISH?(n=d.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h.Z_OK):i!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(s.avail_out=0))},a.prototype.onData=function(e){this.chunks.push(e)},a.prototype.onEnd=function(e){e===h.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=a,t.inflate=s,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,s(e,t)},t.ungzip=s},function(e,t,n){"use strict";var P=n(37),$=n(94),k=n(95),L=n(145),M=n(146),F=1,B=2,N=0,j=-2,R=1,i=852,r=592;function U(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new P.Buf16(320),this.work=new P.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=R,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new P.Buf32(i),t.distcode=t.distdyn=new P.Buf32(r),t.sane=1,t.back=-1,N):j}function s(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,a(e)):j}function u(e,t){var n,i;return!e||!e.state||(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t))?j:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,s(e))}function l(e,t){var n;return e?(n=new o,(e.state=n).window=null,(n=u(e,t))!==N&&(e.state=null),n):j}var q,H,z=!0;function V(e,t,n,i){var r,e=e.state;return null===e.window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new P.Buf8(e.wsize)),i>=e.wsize?(P.arraySet(e.window,t,n-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(i<(r=e.wsize-e.wnext)&&(r=i),P.arraySet(e.window,t,n-i,r,e.wnext),(i-=r)?(P.arraySet(e.window,t,n-i,i,0),e.wnext=i,e.whave=e.wsize):(e.wnext+=r,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=r))),0}t.inflateReset=s,t.inflateReset2=u,t.inflateResetKeep=a,t.inflateInit=function(e){return l(e,15)},t.inflateInit2=l,t.inflate=function(e,t){var n,i,r,o,a,s,u,l,c,d,p,f,h,m,g,v,y,b,_,w,E,S,C,D,A=0,x=new P.Buf8(4),O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return j;12===(n=e.state).mode&&(n.mode=13),a=e.next_out,r=e.output,u=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,l=n.hold,c=n.bits,d=s,p=u,S=N;e:for(;;)switch(n.mode){case R:if(0===n.wrap)n.mode=13;else{for(;c<16;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}if(2&n.wrap&&35615===l)x[n.check=0]=255&l,x[1]=l>>>8&255,n.check=k(n.check,x,2,0),c=l=0,n.mode=2;else if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31)e.msg="incorrect header check",n.mode=30;else if(8!=(15&l))e.msg="unknown compression method",n.mode=30;else{if(c-=4,E=8+(15&(l>>>=4)),0===n.wbits)n.wbits=E;else if(E>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<E,e.adler=n.check=1,n.mode=512&l?10:12,c=l=0}}break;case 2:for(;c<16;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}if(n.flags=l,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&(x[0]=255&l,x[1]=l>>>8&255,n.check=k(n.check,x,2,0)),c=l=0,n.mode=3;case 3:for(;c<32;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}n.head&&(n.head.time=l),512&n.flags&&(x[0]=255&l,x[1]=l>>>8&255,x[2]=l>>>16&255,x[3]=l>>>24&255,n.check=k(n.check,x,4,0)),c=l=0,n.mode=4;case 4:for(;c<16;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&(x[0]=255&l,x[1]=l>>>8&255,n.check=k(n.check,x,2,0)),c=l=0,n.mode=5;case 5:if(1024&n.flags){for(;c<16;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&(x[0]=255&l,x[1]=l>>>8&255,n.check=k(n.check,x,2,0)),c=l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((f=s<(f=n.length)?s:f)&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),P.arraySet(n.head.extra,i,o,f,E)),512&n.flags&&(n.check=k(n.check,i,f,o)),s-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;for(f=0;E=i[o+f++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E)),E&&f<s;);if(512&n.flags&&(n.check=k(n.check,i,f,o)),s-=f,o+=f,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;for(f=0;E=i[o+f++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E)),E&&f<s;);if(512&n.flags&&(n.check=k(n.check,i,f,o)),s-=f,o+=f,E)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;c<16;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}if(l!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}c=l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;c<32;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}e.adler=n.check=U(l),c=l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=c,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last)l>>>=7&c,c-=7&c,n.mode=27;else{for(;c<3;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}switch(n.last=1&l,--c,3&(l>>>=1)){case 0:n.mode=14;break;case 1:T=I=void 0;var T,I=n;if(z){for(q=new P.Buf32(512),H=new P.Buf32(32),T=0;T<144;)I.lens[T++]=8;for(;T<256;)I.lens[T++]=9;for(;T<280;)I.lens[T++]=7;for(;T<288;)I.lens[T++]=8;for(M(F,I.lens,0,288,q,0,I.work,{bits:9}),T=0;T<32;)I.lens[T++]=5;M(B,I.lens,0,32,H,0,I.work,{bits:5}),z=!1}if(I.lencode=q,I.lenbits=9,I.distcode=H,I.distbits=5,n.mode=20,6!==t)break;l>>>=2,c-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}l>>>=2,c-=2}break;case 14:for(l>>>=7&c,c-=7&c;c<32;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}if((65535&l)!=(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&l,c=l=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(f=n.length){if(0===(f=u<(f=s<f?s:f)?u:f))break e;P.arraySet(r,i,o,f,a),s-=f,o+=f,u-=f,a+=f,n.length-=f}else n.mode=12;break;case 17:for(;c<14;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}if(n.nlen=257+(31&l),l>>>=5,c-=5,n.ndist=1+(31&l),l>>>=5,c-=5,n.ncode=4+(15&l),l>>>=4,c-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;c<3;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}n.lens[O[n.have++]]=7&l,l>>>=3,c-=3}for(;n.have<19;)n.lens[O[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},S=M(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,S){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;v=(A=n.lencode[l&(1<<n.lenbits)-1])>>>16&255,y=65535&A,!((g=A>>>24)<=c);){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}if(y<16)l>>>=g,c-=g,n.lens[n.have++]=y;else{if(16===y){for(D=g+2;c<D;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}if(l>>>=g,c-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}E=n.lens[n.have-1],f=3+(3&l),l>>>=2,c-=2}else if(17===y){for(D=g+3;c<D;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}E=0,f=3+(7&(l>>>=g)),l>>>=3,c=c-g-3}else{for(D=g+7;c<D;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}E=0,f=11+(127&(l>>>=g)),l>>>=7,c=c-g-7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;f--;)n.lens[n.have++]=E}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,C={bits:n.lenbits},S=M(F,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,S){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},S=M(B,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,S){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=s&&258<=u){e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=c,L(e,p),a=e.next_out,r=e.output,u=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,l=n.hold,c=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;v=(A=n.lencode[l&(1<<n.lenbits)-1])>>>16&255,y=65535&A,!((g=A>>>24)<=c);){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}if(v&&0==(240&v)){for(b=g,_=v,w=y;v=(A=n.lencode[w+((l&(1<<b+_)-1)>>b)])>>>16&255,y=65535&A,!(b+(g=A>>>24)<=c);){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}l>>>=b,c-=b,n.back+=b}if(l>>>=g,c-=g,n.back+=g,n.length=y,0===v){n.mode=26;break}if(32&v){n.back=-1,n.mode=12;break}if(64&v){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&v,n.mode=22;case 22:if(n.extra){for(D=n.extra;c<D;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;v=(A=n.distcode[l&(1<<n.distbits)-1])>>>16&255,y=65535&A,!((g=A>>>24)<=c);){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}if(0==(240&v)){for(b=g,_=v,w=y;v=(A=n.distcode[w+((l&(1<<b+_)-1)>>b)])>>>16&255,y=65535&A,!(b+(g=A>>>24)<=c);){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}l>>>=b,c-=b,n.back+=b}if(l>>>=g,c-=g,n.back+=g,64&v){e.msg="invalid distance code",n.mode=30;break}n.offset=y,n.extra=15&v,n.mode=24;case 24:if(n.extra){for(D=n.extra;c<D;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===u)break e;if(n.offset>(f=p-u)){if((f=n.offset-f)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}h=f>n.wnext?(f-=n.wnext,n.wsize-f):n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=r,h=a-n.offset,f=n.length;for(u-=f=u<f?u:f,n.length-=f;r[a++]=m[h++],--f;);0===n.length&&(n.mode=21);break;case 26:if(0===u)break e;r[a++]=n.length,u--,n.mode=21;break;case 27:if(n.wrap){for(;c<32;){if(0===s)break e;s--,l|=i[o++]<<c,c+=8}if(p-=u,e.total_out+=p,n.total+=p,p&&(e.adler=n.check=(n.flags?k:$)(n.check,r,p,a-p)),p=u,(n.flags?l:U(l))!==n.check){e.msg="incorrect data check",n.mode=30;break}c=l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;c<32;){if(0===s)break e;s--,l+=i[o++]<<c,c+=8}if(l!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}c=l=0}n.mode=29;case 29:S=1;break e;case 30:S=-3;break e;case 31:return-4;default:return j}return e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=c,(n.wsize||p!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&V(e,e.output,e.next_out,p-e.avail_out)?(n.mode=31,-4):(d-=e.avail_in,p-=e.avail_out,e.total_in+=d,e.total_out+=p,n.total+=p,n.wrap&&p&&(e.adler=n.check=(n.flags?k:$)(n.check,r,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==d&&0===p||4===t)&&S===N?-5:S)},t.inflateEnd=function(e){var t;return e&&e.state?((t=e.state).window&&(t.window=null),e.state=null,N):j},t.inflateGetHeader=function(e,t){return!e||!e.state||0==(2&(e=e.state).wrap)?j:((e.head=t).done=!1,N)},t.inflateSetDictionary=function(e,t){var n,i=t.length;return!e||!e.state||0!==(n=e.state).wrap&&11!==n.mode?j:11===n.mode&&$(1,t,i,0)!==n.check?-3:V(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,N)},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,r,o,a,s,u=e.state,l=e.next_in,c=e.input,d=l+(e.avail_in-5),p=e.next_out,f=e.output,h=p-(t-e.avail_out),m=p+(e.avail_out-257),g=u.dmax,v=u.wsize,y=u.whave,b=u.wnext,_=u.window,w=u.hold,E=u.bits,S=u.lencode,C=u.distcode,D=(1<<u.lenbits)-1,A=(1<<u.distbits)-1;e:do{for(E<15&&(w+=c[l++]<<E,E+=8,w+=c[l++]<<E,E+=8),n=S[w&D];;){if(w>>>=i=n>>>24,E-=i,0===(i=n>>>16&255))f[p++]=65535&n;else{if(!(16&i)){if(0==(64&i)){n=S[(65535&n)+(w&(1<<i)-1)];continue}if(32&i){u.mode=12;break e}e.msg="invalid literal/length code",u.mode=30;break e}for(r=65535&n,(i&=15)&&(E<i&&(w+=c[l++]<<E,E+=8),r+=w&(1<<i)-1,w>>>=i,E-=i),E<15&&(w+=c[l++]<<E,E+=8,w+=c[l++]<<E,E+=8),n=C[w&A];;){if(w>>>=i=n>>>24,E-=i,!(16&(i=n>>>16&255))){if(0==(64&i)){n=C[(65535&n)+(w&(1<<i)-1)];continue}e.msg="invalid distance code",u.mode=30;break e}if(o=65535&n,E<(i&=15)&&(w+=c[l++]<<E,(E+=8)<i)&&(w+=c[l++]<<E,E+=8),g<(o+=w&(1<<i)-1)){e.msg="invalid distance too far back",u.mode=30;break e}if(w>>>=i,E-=i,(i=p-h)<o){if(y<(i=o-i)&&u.sane){e.msg="invalid distance too far back",u.mode=30;break e}if(s=_,(a=0)===b){if(a+=v-i,i<r){for(r-=i;f[p++]=_[a++],--i;);a=p-o,s=f}}else if(b<i){if(a+=v+b-i,(i-=b)<r){for(r-=i;f[p++]=_[a++],--i;);if(a=0,b<r){for(r-=i=b;f[p++]=_[a++],--i;);a=p-o,s=f}}}else if(a+=b-i,i<r){for(r-=i;f[p++]=_[a++],--i;);a=p-o,s=f}for(;2<r;)f[p++]=s[a++],f[p++]=s[a++],f[p++]=s[a++],r-=3;r&&(f[p++]=s[a++],1<r)&&(f[p++]=s[a++])}else{for(a=p-o;f[p++]=f[a++],f[p++]=f[a++],f[p++]=f[a++],2<(r-=3););r&&(f[p++]=f[a++],1<r)&&(f[p++]=f[a++])}break}}break}}while(l<d&&p<m);w&=(1<<(E-=(r=E>>3)<<3))-1,e.next_in=l-=r,e.next_out=p,e.avail_in=l<d?d-l+5:5-(l-d),e.avail_out=p<m?m-p+257:257-(p-m),u.hold=w,u.bits=E}},function(e,t,n){"use strict";var L=n(37),M=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],F=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],B=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],N=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,i,r,o,a,s){for(var u,l,c,d,p,f,h,m,g,v=s.bits,y=0,b=0,_=0,w=0,E=0,S=0,C=0,D=0,A=0,x=0,O=null,T=0,I=new L.Buf16(16),P=new L.Buf16(16),$=null,k=0,y=0;y<=15;y++)I[y]=0;for(b=0;b<i;b++)I[t[n+b]]++;for(E=v,w=15;1<=w&&0===I[w];w--);if(w<E&&(E=w),0===w)r[o++]=20971520,r[o++]=20971520,s.bits=1;else{for(_=1;_<w&&0===I[_];_++);for(E<_&&(E=_),y=D=1;y<=15;y++)if((D=(D<<=1)-I[y])<0)return-1;if(0<D&&(0===e||1!==w))return-1;for(P[1]=0,y=1;y<15;y++)P[y+1]=P[y]+I[y];for(b=0;b<i;b++)0!==t[n+b]&&(a[P[t[n+b]]++]=b);if(f=0===e?(O=$=a,19):1===e?(O=M,T-=257,$=F,k-=257,256):(O=B,$=N,-1),y=_,p=o,C=b=x=0,c=-1,d=(A=1<<(S=E))-1,1===e&&852<A||2===e&&592<A)return 1;for(;;){for(g=a[b]<f?(m=0,a[b]):a[b]>f?(m=$[k+a[b]],O[T+a[b]]):(m=96,0),u=1<<(h=y-C),_=l=1<<S;r[p+(x>>C)+(l-=u)]=h<<24|m<<16|g|0,0!==l;);for(u=1<<y-1;x&u;)u>>=1;if(x=0!==u?(x&u-1)+u:0,b++,0==--I[y]){if(y===w)break;y=t[n+a[b]]}if(E<y&&(x&d)!==c){for(p+=_,D=1<<(S=y-(C=0===C?E:C));S+C<w&&!((D-=I[S+C])<=0);)S++,D<<=1;if(A+=1<<S,1===e&&852<A||2===e&&592<A)return 1;r[c=x&d]=E<<24|S<<16|p-o|0}}0!==x&&(r[p+x]=y-C<<24|64<<16|0),s.bits=E}return 0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,ee,t){"use strict";t.r(ee),function(F){var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,B=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&0<=navigator.userAgent.indexOf(e[t]))return 1;return 0}();var N=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},B))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function d(e,t){return 1!==e.nodeType?[]:(e=e.ownerDocument.defaultView.getComputedStyle(e,null),t?e[t]:e)}function u(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=d(e),n=t.overflow,i=t.overflowX,t=t.overflowY;return/(auto|scroll|overlay)/.test(n+t+i)?e:c(u(e))}function l(e){return e&&e.referenceNode?e.referenceNode:e}var t=n&&!(!window.MSInputMethodContext||!document.documentMode),j=n&&/MSIE 10/.test(navigator.userAgent);function p(e){return 11===e?t:10!==e&&t||j}function f(e){if(!e)return document.documentElement;for(var t=p(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===d(n,"position")?f(n):n:(e?e.ownerDocument:document).documentElement}function o(e){return null!==e.parentNode?o(e.parentNode):e}function h(e,t){var n,i,r;return e&&e.nodeType&&t&&t.nodeType?(i=(r=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING)?e:t,r=r?t:e,(n=document.createRange()).setStart(i,0),n.setEnd(r,0),e!==(n=n.commonAncestorContainer)&&t!==n||i.contains(r)?"BODY"===(r=(i=n).nodeName)||"HTML"!==r&&f(i.firstElementChild)!==i?f(n):n:(r=o(e)).host?h(r.host,t):h(e,o(t).host)):document.documentElement}function m(e,t){var t="top"===(1<arguments.length&&void 0!==t?t:"top")?"scrollTop":"scrollLeft",n=e.nodeName;return("BODY"===n||"HTML"===n?(n=e.ownerDocument.documentElement,e.ownerDocument.scrollingElement||n):e)[t]}function r(e,t){var t="x"===t?"Left":"Top",n="Left"==t?"Right":"Bottom";return parseFloat(e["border"+t+"Width"])+parseFloat(e["border"+n+"Width"])}function i(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],p(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function g(e){var t=e.body,e=e.documentElement,n=p(10)&&getComputedStyle(e);return{height:i("Height",t,e,n),width:i("Width",t,e,n)}}var e=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};function b(e){return y({},e,{right:e.left+e.width,bottom:e.top+e.height})}function _(e){var t={};try{p(10)?(t=e.getBoundingClientRect(),n=m(e,"top"),i=m(e,"left"),t.top+=n,t.left+=i,t.bottom+=n,t.right+=i):t=e.getBoundingClientRect()}catch(e){}var n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?g(e.ownerDocument):{},t=i.width||e.clientWidth||n.width,i=i.height||e.clientHeight||n.height,t=e.offsetWidth-t,i=e.offsetHeight-i;return(t||i)&&(t-=r(e=d(e),"x"),i-=r(e,"y"),n.width-=t,n.height-=i),b(n)}function w(e,t,n){var n=2<arguments.length&&void 0!==n&&n,i=p(10),r="HTML"===t.nodeName,o=_(e),a=_(t),e=c(e),s=d(t),u=parseFloat(s.borderTopWidth),l=parseFloat(s.borderLeftWidth),a=(n&&r&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0)),b({top:o.top-a.top-u,left:o.left-a.left-l,width:o.width,height:o.height}));return a.marginTop=0,a.marginLeft=0,!i&&r&&(o=parseFloat(s.marginTop),r=parseFloat(s.marginLeft),a.top-=u-o,a.bottom-=u-o,a.left-=l-r,a.right-=l-r,a.marginTop=o,a.marginLeft=r),a=(i&&!n?t.contains(e):t===e&&"BODY"!==e.nodeName)?function(e,t,n){var n=2<arguments.length&&void 0!==n&&n,i=m(t,"top"),t=m(t,"left"),n=n?-1:1;return e.top+=i*n,e.bottom+=i*n,e.left+=t*n,e.right+=t*n,e}(a,t):a}function E(e){if(!e||!e.parentElement||p())return document.documentElement;for(var t=e.parentElement;t&&"none"===d(t,"transform");)t=t.parentElement;return t||document.documentElement}function S(e,t,n,i,r){var o,r=4<arguments.length&&void 0!==r&&r,a={top:0,left:0},s=r?E(e):h(e,l(t)),s=("viewport"===i?a=function(e,t){var t=1<arguments.length&&void 0!==t&&t,n=e.ownerDocument.documentElement,e=w(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:m(n),t=t?0:m(n,"left");return b({top:o-e.top+e.marginTop,left:t-e.left+e.marginLeft,width:i,height:r})}(s,r):(o=void 0,"scrollParent"===i?"BODY"===(o=c(u(t))).nodeName&&(o=e.ownerDocument.documentElement):o="window"===i?e.ownerDocument.documentElement:i,t=w(o,s,r),"HTML"!==o.nodeName||function e(t){var n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===d(t,"position")||!!(n=u(t))&&e(n))}(s)?a=t:(r=(i=g(e.ownerDocument)).height,o=i.width,a.top+=t.top-t.marginTop,a.bottom=r+t.top,a.left+=t.left-t.marginLeft,a.right=o+t.left)),"number"==typeof(n=n||0));return a.left+=s?n:n.left||0,a.top+=s?n:n.top||0,a.right-=s?n:n.right||0,a.bottom-=s?n:n.bottom||0,a}function C(e,t,n,i,r,o){var a,o=5<arguments.length&&void 0!==o?o:0;return-1===e.indexOf("auto")?e:(i=S(n,i,o,r),a={top:{width:i.width,height:t.top-i.top},right:{width:i.right-t.right,height:i.height},bottom:{width:i.width,height:i.bottom-t.bottom},left:{width:t.left-i.left,height:i.height}},(0<(r=(o=Object.keys(a).map(function(e){return y({key:e},a[e],{area:(e=a[e]).width*e.height})}).sort(function(e,t){return t.area-e.area})).filter(function(e){var t=e.width,e=e.height;return t>=n.clientWidth&&e>=n.clientHeight})).length?r:o)[0].key+((t=e.split("-")[1])?"-"+t:""))}function D(e,t,n,i){i=3<arguments.length&&void 0!==i?i:null;return w(n,i?E(t):h(t,l(n)),i)}function A(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),t=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+t,height:e.offsetHeight+n}}function x(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function O(e,t,n){n=n.split("-")[0];var e=A(e),i={width:e.width,height:e.height},r=-1!==["right","left"].indexOf(n),o=r?"top":"left",a=r?"left":"top",s=r?"height":"width",r=r?"width":"height";return i[o]=t[o]+t[s]/2-e[s]/2,i[a]=n===a?t[a]-e[r]:t[x(a)],i}function T(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function I(e,n,t){var i,r;return(void 0===t?e:e.slice(0,(e=e,i="name",r=t,Array.prototype.findIndex?e.findIndex(function(e){return e[i]===r}):(t=T(e,function(e){return e[i]===r}),e.indexOf(t))))).forEach(function(e){e.function;var t=e.function||e.fn;e.enabled&&a(t)&&(n.offsets.popper=b(n.offsets.popper),n.offsets.reference=b(n.offsets.reference),n=t(n,e))}),n}function R(e,n){return e.some(function(e){var t=e.name;return e.enabled&&t===n})}function P(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],r=r?""+r+n:e;if(void 0!==document.body.style[r])return r}return null}function U(e){e=e.ownerDocument;return e?e.defaultView:window}function q(e,t,n,i){n.updateBound=i,U(e).addEventListener("resize",n.updateBound,{passive:!0});i=c(e);return function e(t,n,i,r){var o="BODY"===t.nodeName,t=o?t.ownerDocument.defaultView:t;t.addEventListener(n,i,{passive:!0}),o||e(c(t.parentNode),n,i,r),r.push(t)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function H(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,U(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function $(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function k(n,i){Object.keys(i).forEach(function(e){var t="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&$(i[e])&&(t="px"),n.style[e]=i[e]+t})}function z(e,t){function n(e){return e}var i=e.offsets,r=i.popper,i=i.reference,o=Math.round,a=Math.floor,i=o(i.width),s=o(r.width),u=-1!==["left","right"].indexOf(e.placement),e=-1!==e.placement.indexOf("-"),u=t?u||e||i%2==s%2?o:a:n,a=t?o:n;return{left:u(i%2==1&&s%2==1&&!e&&t?r.left-1:r.left),top:a(r.top),bottom:a(r.bottom),right:u(r.right)}}var V=n&&/Firefox/i.test(navigator.userAgent);function W(e,t,n){var i=T(e,function(e){return e.name===t}),e=!!i&&e.some(function(e){return e.name===n&&e.enabled&&e.order<i.order});return e||0,e}var G=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],L=G.slice(3);function Y(e,t){t=1<arguments.length&&void 0!==t&&t,e=L.indexOf(e),e=L.slice(e+1).concat(L.slice(0,e));return t?e.reverse():e}var Q="flip",K="clockwise",J="counterclockwise";function Z(e,s,u,t){var r=[0,0],i=-1!==["right","left"].indexOf(t),t=e.split(/(\+|\-)/).map(function(e){return e.trim()}),e=t.indexOf(T(t,function(e){return-1!==e.search(/,|\s/)})),n=(t[e]&&t[e].indexOf(","),/\s*,\s*|\s+/);return(-1!==e?[t.slice(0,e).concat([t[e].split(n)[0]]),[t[e].split(n)[1]].concat(t.slice(e+1))]:[t]).map(function(e,t){var a=(1===t?!i:i)?"height":"width",n=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,n=!0,e):n?(e[e.length-1]+=t,n=!1,e):e.concat(t)},[]).map(function(e){return t=a,n=s,i=u,r=+(o=(e=e).match(/((?:\-|\+)?\d*\.?\d*)(.*)/))[1],o=o[2],r?0===o.indexOf("%")?b("%p"===o?n:i)[t]/100*r:"vh"===o||"vw"===o?("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r:r:e;var t,n,i,r,o})}).forEach(function(n,i){n.forEach(function(e,t){$(e)&&(r[i]+=e*("-"===n[t-1]?-1:1))})}),r}var X={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t,n,i,r=e.placement,o=r.split("-")[0];return(r=r.split("-")[1])&&(t=(n=e.offsets).reference,n=n.popper,i=(o=-1!==["bottom","top"].indexOf(o))?"width":"height",o={start:v({},o=o?"left":"top",t[o]),end:v({},o,t[o]+t[i]-n[i])},e.offsets.popper=y({},n,o[r])),e}},offset:{order:200,enabled:!0,fn:function(e,t){var t=t.offset,n=e.placement,i=(r=e.offsets).popper,r=r.reference,n=n.split("-")[0],o=void 0,o=$(+t)?[+t,0]:Z(t,i,r,n);return"left"===n?(i.top+=o[0],i.left-=o[1]):"right"===n?(i.top+=o[0],i.left+=o[1]):"top"===n?(i.left+=o[0],i.top-=o[1]):"bottom"===n&&(i.left+=o[0],i.top+=o[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,i){var t=i.boundariesElement||f(e.instance.popper),n=(e.instance.reference===t&&(t=f(t)),P("transform")),r=e.instance.popper.style,o=r.top,a=r.left,s=r[n],u=(r.top="",r.left="",r[n]="",S(e.instance.popper,e.instance.reference,i.padding,t,e.positionFixed)),t=(r.top=o,r.left=a,r[n]=s,i.boundaries=u,i.priority),l=e.offsets.popper,c={primary:function(e){var t=l[e];return l[e]<u[e]&&!i.escapeWithReference&&(t=Math.max(l[e],u[e])),v({},e,t)},secondary:function(e){var t="right"===e?"left":"top",n=l[t];return l[e]>u[e]&&!i.escapeWithReference&&(n=Math.min(l[t],u[e]-("right"===e?l.width:l.height))),v({},t,n)}};return t.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=y({},l,c[t](e))}),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=(n=e.offsets).popper,n=n.reference,i=e.placement.split("-")[0],r=Math.floor,o=(i=-1!==["top","bottom"].indexOf(i))?"right":"bottom",a=i?"left":"top",i=i?"width":"height";return t[o]<r(n[a])&&(e.offsets.popper[a]=r(n[a])-t[i]),t[a]>r(n[o])&&(e.offsets.popper[a]=r(n[o])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){if(W(e.instance.modifiers,"arrow","keepTogether")){t=t.element;if("string"==typeof t){if(!(t=e.instance.popper.querySelector(t)))return e}else if(!e.instance.popper.contains(t))return e;var n=e.placement.split("-")[0],i=e.offsets,r=i.popper,i=i.reference,n=-1!==["left","right"].indexOf(n),o=n?"height":"width",a=n?"Top":"Left",s=a.toLowerCase(),u=n?"left":"top",n=n?"bottom":"right",l=A(t)[o],n=(i[n]-l<r[s]&&(e.offsets.popper[s]-=r[s]-(i[n]-l)),i[s]+l>r[n]&&(e.offsets.popper[s]+=i[s]+l-r[n]),e.offsets.popper=b(e.offsets.popper),i[s]+i[o]/2-l/2),i=d(e.instance.popper),c=parseFloat(i["margin"+a]),i=parseFloat(i["border"+a+"Width"]),a=n-e.offsets.popper[s]-c-i,a=Math.max(Math.min(r[o]-l,a),0);e.arrowElement=t,e.offsets.arrow=(v(n={},s,Math.round(a)),v(n,u,""),n)}return e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(l,c){if(!(R(l.instance.modifiers,"inner")||l.flipped&&l.placement===l.originalPlacement)){var d=S(l.instance.popper,l.instance.reference,c.padding,c.boundariesElement,l.positionFixed),p=l.placement.split("-")[0],f=x(p),h=l.placement.split("-")[1]||"",m=[];switch(c.behavior){case Q:m=[p,f];break;case K:m=Y(p);break;case J:m=Y(p,!0);break;default:m=c.behavior}m.forEach(function(e,t){if(p!==e||m.length===t+1)return l;p=l.placement.split("-")[0],f=x(p);var e=l.offsets.popper,n=l.offsets.reference,i=Math.floor,n="left"===p&&i(e.right)>i(n.left)||"right"===p&&i(e.left)<i(n.right)||"top"===p&&i(e.bottom)>i(n.top)||"bottom"===p&&i(e.top)<i(n.bottom),r=i(e.left)<i(d.left),o=i(e.right)>i(d.right),a=i(e.top)<i(d.top),e=i(e.bottom)>i(d.bottom),i="left"===p&&r||"right"===p&&o||"top"===p&&a||"bottom"===p&&e,s=-1!==["top","bottom"].indexOf(p),u=!!c.flipVariations&&(s&&"start"===h&&r||s&&"end"===h&&o||!s&&"start"===h&&a||!s&&"end"===h&&e),o=!!c.flipVariationsByContent&&(s&&"start"===h&&o||s&&"end"===h&&r||!s&&"start"===h&&e||!s&&"end"===h&&a),r=u||o;(n||i||r)&&(l.flipped=!0,(n||i)&&(p=m[t+1]),r&&(h="end"===(e=h)?"start":"start"===e?"end":e),l.placement=p+(h?"-"+h:""),l.offsets.popper=y({},l.offsets.popper,O(l.instance.popper,l.offsets.reference,l.placement)),l=I(l.instance.modifiers,l,"flip"))})}return l},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=(r=e.offsets).popper,r=r.reference,o=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=r[n]-(a?i[o?"width":"height"]:0),e.placement=x(t),e.offsets.popper=b(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(W(e.instance.modifiers,"hide","preventOverflow")){var t=e.offsets.reference,n=T(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,o=void 0!==(o=T(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration)?o:t.gpuAcceleration,a=_(t=f(e.instance.popper)),r={position:r.position},s=z(e,window.devicePixelRatio<2||!V),n="bottom"===n?"top":"bottom",i="right"===i?"left":"right",u=P("transform"),l=void 0,c=void 0,c="bottom"==n?"HTML"===t.nodeName?-t.clientHeight+s.bottom:-a.height+s.bottom:s.top,l="right"==i?"HTML"===t.nodeName?-t.clientWidth+s.right:-a.width+s.right:s.left,a=(o&&u?(r[u]="translate3d("+l+"px, "+c+"px, 0)",r[n]=0,r[i]=0,r.willChange="transform"):(t="right"==i?-1:1,r[n]=c*("bottom"==n?-1:1),r[i]=l*t,r.willChange=n+", "+i),{"x-placement":e.placement});return e.attributes=y({},a,e.attributes),e.styles=y({},r,e.styles),e.arrowStyles=y({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return k(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&k(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){return r=D(r,t,e,n.positionFixed),r=C(n.placement,r,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding),t.setAttribute("x-placement",r),k(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},e=(e(M,[{key:"update",value:function(){return function(){var e;this.state.isDestroyed||((e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}}).offsets.reference=D(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=C(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=O(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=I(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e)))}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,R(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[P("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=q(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return H.call(this)}}]),M);function M(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=this,o=M;if(!(r instanceof o))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=N(this.update.bind(this)),this.options=y({},M.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(y({},M.Defaults.modifiers,i.modifiers)).forEach(function(e){n.options.modifiers[e]=y({},M.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return y({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&a(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)}),this.update();r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}e.Utils=("undefined"!=typeof window?window:F).PopperUtils,e.placements=G,e.Defaults=X,ee.default=e}.call(this,t(31))},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},a=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(207))),o=n(208),u=n(86),l=n(209);function c(){var s=this;this.inputListener=function(){},this.pricesMap={},this.initialQtyIsValid=!0,this._isValid=!0,this.overrideBubbleTemplateQuantity={},this.showCustom=function(){return s.customElement.classList.remove("hidden"),s.sliderElement.classList.add("hidden"),s.mode="custom",!0},this.showSlider=function(){return s.customElement.classList.add("hidden"),s.sliderElement.classList.remove("hidden"),s.mode="slider",!0},this.setBubbleText=function(){var e=s.getText();s.bubble.setText(e),s._inputChanged()},this._inputChanged=function(){var e=s.getStatusByMaxMin();(e=s.initialQtyIsValid?e:e&&s.getQuantity()!==s.initialQty)?s.setValid():s.setInvalid(),s.inputListener()},this.getStatusByMaxMin=function(){var e=s.getQuantity();return!(e<s.getMin()||e>s.getMax())},this.setCustomText=function(){s.customElement&&(s.textCustom.innerHTML=s.getText(),s._inputChanged())},this.addInputListeners_IE11=function(){s.inputRange.addEventListener("change",function(){s.setBubbleText()}),s.customElement&&s.inputCustom.addEventListener("input",function(){s.setCustomText()})},this.addInputListeners=function(){s.inputRange.addEventListener("input",function(){s.setBubbleText()}),s.customElement&&s.inputCustom.addEventListener("input",function(){s.setCustomText()})},this.getDataPrices=function(){var e=JSON.parse(s.inputRange.dataset.packages),t=[];return e.forEach(function(e){t[e]=s.getPackPrice(e)}),t},this.getPackPrice=function(n){var i=JSON.parse(s.inputRange.dataset.discount),r=JSON.parse(s.inputRange.dataset.basePrice),e=""==s.inputRange.dataset.priceInterval?1:parseInt(s.inputRange.dataset.priceInterval),t=""==s.inputRange.dataset.overallPriceDiscount?1:parseFloat(s.inputRange.dataset.overallPriceDiscount),o=0,a=0;return Object.keys(i).forEach(function(e){var t=parseInt(e),e=i[e];a<n&&(o+=t<=n?(t-a)*r*e:(n-a)*r*e,a=t)}),o=o*e*t,s.roundPrice(o)},this.onInput=function(e){s.inputListener=e},this.getPrice=function(){var e;return"custom"==s.mode?s.getPackPrice(Number(s.inputCustom.value)):((e=s.getCurrentPriceItem())[0],e=e[1],s.roundPrice(e))},this.getQuantity=function(){var e;return"custom"==s.mode?Number(s.inputCustom.value):(e=s.getCurrentPriceItem()[0],Number(e))},this.getCurrentPriceItem=function(){return Object.entries(s.pricesMap).find(function(e,t){return Number(s.inputRange.value)===t})},this.setQuantity=function(t){var e=Object.entries(s.pricesMap).findIndex(function(e){e=e[0];return Number(e)===t});s.inputRange.value=e.toString(),s.setBubbleText(),s.inputCustom&&(s.inputCustom.value=t.toString(),s.setCustomText())},this.setPrices=function(e){s.pricesMap=e;e=Object.keys(s.pricesMap);s.setMin(Number(e[0])),s.setMax(Number(e[e.length-1])),s.setInputElements(e.length)},this.getPricesMap=function(){return s.pricesMap},this.getQuantities=function(){return Object.keys(s.getPricesMap()).map(function(e){return Number(e)})},this.setMin=function(e){s.container.setAttribute("data-min",e.toString())},this.setMax=function(e){s.container.setAttribute("data-max",e.toString())},this.setInputElements=function(e){s.inputRange.max=""+(e-1),s.inputRange.min="0";for(var t=s.container.querySelector(".slider__element__slider-datalist"),n="",i=0;i<e;i++)n+='<span class="slider__element__slider-datalist__option"></span>';t.innerHTML=n}}c.prototype.init=function(t,o){return i(this,void 0,void 0,function(){var r=this;return a(this,function(e){if(t.hasAttribute("data-min"))return[2];o.mode||(o.mode="slider"),"initialQtyIsValid"in o&&"initialQty"in o&&(this.initialQtyIsValid=o.initialQtyIsValid),this.container=t,this.inputRange=t.querySelector('input[type="range"]'),this.inputCustom=t.querySelector('input[type="number"]'),this.sliderElement=t.querySelector(".slider__element__slider"),this.customElement=t.querySelector(".slider__element__custom"),this.switchElement=t.querySelector(".slider__element__mode"),this.textCustom=t.querySelector("[data-select-text]"),this.bubble=new s.default,this.bubble.init(this.inputRange),this.bubbleTemplate=this.inputRange.dataset.bubbleTemplate,this.currencyCode=this.inputRange.dataset.currencyCode;try{this.overrideBubbleTemplateQuantity=JSON.parse(this.inputRange.dataset.overrideBubbleTemplateQuantity)}catch(e){}return l.isIE11()?this.addInputListeners_IE11():this.addInputListeners(),this.setPrices(this.getDataPrices()),this.mode=o.mode,this.switchElement&&this.enableSwitchMode(),[2,new Promise(function(e,t){var n,i=null;o.minQty&&r.setMin(o.minQty),o.maxQty&&r.setMax(o.maxQty),o.initialQty&&(n=r.getQuantities().sort(function(e,t){return e-t}),i="function"==typeof o.initialQty?n.find(o.initialQty):o.initialQty),i=null!=i?i:r.getQuantities()[0],r.initialQty=i,r.setQuantity(i),e()})]})})},c.prototype.enableSwitchMode=function(){this.switchElement.classList.remove("hidden"),this.switchElement.style.display="block",this.initSwitchModeActions()},c.prototype.initSwitchModeActions=function(){var e=this,t=this.switchElement.querySelector('[data-select-mode="slide"]'),n=this.switchElement.querySelector('[data-select-mode="custom"]');t.addEventListener("click",function(){t.classList.add("payment-period__payments__item--active"),n.classList.remove("payment-period__payments__item--active"),e.showSlider(),e._inputChanged()}),n.addEventListener("click",function(){n.classList.add("payment-period__payments__item--active"),t.classList.remove("payment-period__payments__item--active"),e.showCustom(),e._inputChanged()})},c.prototype.getText=function(){var e=this.getQuantity(),t=o.localePrice(this.getPrice(),this.currencyCode),n=this.bubbleTemplate;return"string"==typeof this.overrideBubbleTemplateQuantity[e]&&(n=this.overrideBubbleTemplateQuantity[e]),u.Tools.parseTemplate(n,{quantity:o.localeNumber(e),price:t})},c.prototype.isValid=function(){return this._isValid},c.prototype.setInvalid=function(){this._isValid=!1,this.sliderElement.classList.add("invalid")},c.prototype.setValid=function(){this._isValid=!0,this.sliderElement.classList.remove("invalid")},c.prototype.roundPrice=function(e){return Number(Math.round(e))},c.prototype.getMin=function(){return Number(this.container.getAttribute("data-min"))},c.prototype.getMax=function(){return Number(this.container.getAttribute("data-max"))},t.default=c},,,,,,,function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},s=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},u=(Object.defineProperty(t,"__esModule",{value:!0}),t.SummaryState=void 0,n(238)),l=n(65),c=n(82),d=n(187),n=(r=l.AbstractPaymentState,o(p,r),p.prototype.renderSummary=function(r){return a(this,void 0,void 0,function(){var t,n,i=this;return s(this,function(e){return t=r.getPaymentSummary_package(this.ctx.summaryParams.packageName,this.ctx.summaryParams.packageQty),n=this.domStateRoot.querySelector(".summary-template").innerHTML,t.then(function(e){new d.SummaryBuilder(n,e).setTexts({new:i.t("purchaseDetails")}).render(i.summariesDomRoot)}).catch(function(e){}),[2]})})},Object.defineProperty(p.prototype,"summariesDomRoot",{get:function(){var e=this.domStateRoot.querySelector(".summaries-root");if(e)return e;throw"summariesDomRoot not found"},enumerable:!1,configurable:!0}),p.prototype.cleanUpState=function(){this.summariesDomRoot.innerHTML="",this.domRoot.querySelectorAll(".payment__mountpoint").forEach(function(e){return e.innerHTML=""}),this.goBackBtn.removeEventListener("click",this._goBackState)},p.prototype.initBackAction=function(){this.ctx.canGoToAPreviousState()?(this.goBackBtn.style.display="",this.goBackBtn.addEventListener("click",this._goBackState)):this.goBackBtn.style.display="none"},Object.defineProperty(p.prototype,"goBackBtn",{get:function(){var e=this.domRoot.querySelector(".dialog__back");if(e)return e;throw"Go back btn not found"},enumerable:!1,configurable:!0}),p);function p(){var i=null!==r&&r.apply(this,arguments)||this;return i.name="SummaryState",i.LAYOUT_TEMPLATE_NAME="packages",i.INITIAL_SCREEN="default",i.onDomReady=function(){i.changeScreen(i.INITIAL_SCREEN),i.initBackAction();var e=new c.UserPayment,t=i.renderSummary(e),e=i.initAbstractPayment({paymentAction:"pay_package",userPayment:e,currentPaymentMethod:i.ctx.userCurrentPaymentMethod,paymentProviderProps:[{name:"stripe",paymentButtonText:i.t("paymentButtonText")},{name:"paypal"}],package:{name:i.ctx.summaryParams.packageName,qty:i.ctx.summaryParams.packageQty}});Promise.all([t,e]).then(i._onEverythingReady)},i._onPaymentSuccess=function(e){var t=i.ctx.summaryParams,n=t.packageName,t=t.packageQty,n=(window.ev("send","event","payment",n,String(t)),window.ev("event","payment",{type:n,quantity:t}),new u.PaymentCompletedState);i.ctx.changeState(n),n.render(i.domRoot)},i._onPaymentFailed=function(e){},i._onEverythingReady=function(){setTimeout(i.clearLoadingScreen,150)},i._goBackState=function(){i.cleanUpState(),i.ctx.goToPreviousState().render(i.domRoot)},i._goNextState=function(){var e=new u.PaymentCompletedState;i.ctx.changeState(e),e.render(i.domRoot)},i}t.SummaryState=n},,function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageHelper=void 0,i.getBase64=function(r,o){return void 0===o&&(o=!1),new Promise(function(e,t){var n=new FileReader,i=null;n.readAsDataURL(r.getNative()),n.onerror=function(e){t(e)},n.onload=function(){i=n.result,1!=o&&(i=i.substring(i.indexOf(",")+1)),e(i)}})},i.urlToBase64=function(e){return new Promise(function(t,n){var i=new XMLHttpRequest;i.onload=function(){500==i.status&&n();var e=new FileReader;e.onloadend=function(){t(e.result)},e.onerror=function(e){n()},e.readAsDataURL(i.response)},i.onerror=function(e){n()},i.open("GET",e),i.responseType="blob",i.send()})},i.preload=function(e){(new Image).src=e},i.calculateAspectRatioFit=function(e,t,n,i){n=Math.min(n/e,i/t);return{width:e*n,height:t*n}},t.ImageHelper=i},function(e,p,f){"use strict";!function(i){var r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},t=(Object.defineProperty(p,"__esModule",{value:!0}),p.FONT_STYLES=p.FONT_FAMILY_EXPLORER=p.FONT_FAMILY_SERVER=p.FONT_FAMILY_NAMES=p.DEFAULT_FONT=p.DEFAULT_COLOR=p.DEFAULT_INITIALS_MODE=p.DEFAULT_SIGNATURE_MODE=p.SignatureModel=void 0,f(188)),a=f(16),n=f(176),s=f(200),u=e(f(15)),l=f(13),c=f(81);function d(e){this.uuid=(e=e||{}).uuid||t.Frame.uuid(),this.setData(e)}d.prototype.setApi=function(e){this.api=e},d.prototype.setData=function(e){var t;e.mode&&(e.signatureMode=e.mode,e.initialsMode=e.mode,delete e.mode),this.signatureMode=e.signatureMode||p.DEFAULT_SIGNATURE_MODE,this.initialsMode=e.initialsMode||p.DEFAULT_INITIALS_MODE,this.color=p.DEFAULT_COLOR,this.signature=e.signature||"",this.initials=e.initials||"",!e.font&&(e.image||e.draw)||(this.fontFamily=(null==(t=e.font)?void 0:t.fontFamily)||"alex",this.color=(null==(t=e.font)?void 0:t.color)||"#555555",this.signatureFontImage=null,this.initialsFontImage=null),e.draw&&(!e.draw.initialsData||"object"==typeof e.draw.initialsData&&0===Object.keys(e.draw.initialsData).length)&&(delete e.draw.initials,delete e.draw.initialsData,delete e.draw.initialsBase64,"draw"==this.initialsMode)&&(this.initialsMode="font"),this.signatureImageService=null!=(t=null==(t=e.image)?void 0:t.signature)?t:null,this.initialsImageService=null!=(t=null==(t=e.image)?void 0:t.initials)?t:null,this.stampImageService=null!=(t=null==(t=e.image)?void 0:t.stamp)?t:null,this.signatureImageApi=null!=(t=null==(t=e.image)?void 0:t.signatureApi)?t:null,this.initialsImageApi=null!=(t=null==(t=e.image)?void 0:t.initialsApi)?t:null,this.stampImageApi=null!=(t=null==(t=e.image)?void 0:t.stampApi)?t:null,this.signatureImageBase64=null!=(t=null==(t=e.image)?void 0:t.signatureBase64)?t:null,this.initialsImageBase64=null!=(t=null==(t=e.image)?void 0:t.initialsBase64)?t:null,this.stampImageBase64=null!=(t=null==(t=e.image)?void 0:t.stampBase64)?t:null,this.signatureDrawService=null!=(t=null==(t=e.draw)?void 0:t.signature)?t:null,this.initialsDrawService=null!=(t=null==(t=e.draw)?void 0:t.initials)?t:null,this.signatureDrawApi=null!=(t=null==(t=e.draw)?void 0:t.signatureApi)?t:null,this.initialsDrawApi=null!=(t=null==(t=e.draw)?void 0:t.initialsApi)?t:null,this.signatureDrawData=null!=(t=null==(t=e.draw)?void 0:t.signatureData)?t:null,this.initialsDrawData=null!=(t=null==(t=e.draw)?void 0:t.initialsData)?t:null,this.signatureDrawBase64=null!=(t=null==(t=e.draw)?void 0:t.signatureBase64)?t:null,this.initialsDrawBase64=null!=(t=null==(t=e.draw)?void 0:t.initialsBase64)?t:null,this.color=null!=(e=null==(t=e.draw)?void 0:t.color)?e:"#555555",this.signatureDrawBase64&&n.ImageHelper.preload(this.signatureDrawBase64),this.initialsDrawBase64&&n.ImageHelper.preload(this.initialsDrawBase64)},d.prototype.cleanStrings=function(){this.signature=this.signature.trim(),this.initials=this.initials.trim()},d.prototype.correctEmptyInitials=function(){""!=this.initials&&null!=this.initials||""!=this.signature&&null!=this.signature&&(this.initials=this.signature.charAt(0))},d.prototype.getServiceData=function(){return this.cleanStrings(),this.correctEmptyInitials(),{signatureMode:this.signatureMode,initialsMode:this.initialsMode,signature:this.signature,initials:this.initials,font:{fontFamily:this.fontFamily,color:this.color},draw:{signature:this.signatureDrawService,initials:this.initialsDrawService,signatureData:this.signatureDrawData,initialsData:this.initialsDrawData,color:this.color},image:{signature:this.signatureImageService,initials:this.initialsImageService,stamp:this.stampImageService}}},d.prototype.getPreviewFor=function(e,t){switch(e){case"signature":return this.getSignaturePreview(t);case"initials":return this.getInitialsPreview(t);case"stamp":return this.getStampPreview()}},d.prototype.getSignaturePreview=function(e){var t=this,n=(void 0===e&&(e=this.signatureMode),this.createBaseImgPreviewEl);return"font"==e?(this.signatureFontImage||(this.signatureFontImage=s.CanvasHelper.textToImage(this.signature,p.FONT_FAMILY_EXPLORER[this.fontFamily],this.color)),n.src=this.signatureFontImage,n.classList.add("sign__element__textImage"),n):"draw"==e?(this.signatureDrawBase64&&this.signatureDrawBase64?n.src=this.signatureDrawBase64:this.signatureDrawService&&(n.src=this.signatureDrawService+"?t="+Date.now(),n.addEventListener("error",function(e){delete t.signatureDrawService,t.signatureMode=p.DEFAULT_SIGNATURE_MODE,t.saveConfig(),t.triggerInvalidInfo("signature","draw")},{once:!0})),n):"image"==e?(this.signatureImageBase64&&""!=this.signatureImageBase64?n.src=this.signatureImageBase64:this.signatureImageService?(n.addEventListener("error",function(e){delete t.signatureImageService,t.signatureMode=p.DEFAULT_SIGNATURE_MODE,t.saveConfig(),t.triggerInvalidInfo("signature","image")},{once:!0}),n.src=this.signatureImageService+"?t="+Date.now()):"image"==this.signatureMode&&(this.signatureMode=p.DEFAULT_SIGNATURE_MODE,this.saveConfig(),this.triggerInvalidInfo("signature","image")),n):void 0},d.prototype.getFrame=function(){var e=document.createElement("div");return e.classList.add("signature__firm"),e.innerHTML=t.Frame.make(this.uuid),e},d.prototype.getNamePreview=function(){return'<span class="sign__name">'+this.signature+"</span>"},d.prototype.getInitialsPreview=function(e){var t=this,n=(void 0===e&&(e=this.initialsMode),this.createBaseImgPreviewEl);return"font"==e?(this.initialsFontImage&&null!=this.initialsFontImage||(this.initialsFontImage=s.CanvasHelper.textToImage(this.initials,p.FONT_FAMILY_EXPLORER[this.fontFamily],this.color)),n.classList.add("sign__element__textImage"),n.src=this.initialsFontImage):"draw"==e?this.initialsDrawBase64&&""!=this.initialsDrawBase64?n.src=this.initialsDrawBase64:this.initialsDrawService?(n.src=this.initialsDrawService+"?t="+Date.now(),n.addEventListener("error",function(e){delete t.initialsDrawService,t.initialsMode=p.DEFAULT_INITIALS_MODE,t.saveConfig(),t.triggerInvalidInfo("initials","draw")},{once:!0})):"draw"==this.initialsMode&&(this.initialsMode=p.DEFAULT_INITIALS_MODE,this.saveConfig(),this.triggerInvalidInfo()):"image"==e&&(this.initialsImageBase64&&""!=this.initialsImageBase64?n.src=this.initialsImageBase64:this.initialsImageService?(n.src=this.initialsImageService+"?t="+Date.now(),n.addEventListener("error",function(e){delete t.initialsImageService,t.initialsMode=p.DEFAULT_INITIALS_MODE,t.saveConfig(),t.triggerInvalidInfo("initials","image")},{once:!0})):"image"==this.initialsMode&&(this.initialsMode=p.DEFAULT_INITIALS_MODE,this.saveConfig(),this.triggerInvalidInfo("initials","image"))),n},d.prototype.getStampPreview=function(){var t=this,e=this.createBaseImgPreviewEl;return this.stampImageBase64&&""!=this.stampImageBase64?e.src=this.stampImageBase64:this.stampImageService&&(e.addEventListener("error",function(e){delete t.stampImageService,t.saveConfig(),t.triggerInvalidInfo("stamp","image")},{once:!0}),e.src=this.stampImageService+"?t="+Date.now()),e},d.prototype.saveConfig=function(){var i=this;return new Promise(function(t,n){var e;a.UserModel.isUser()&&i.api?(e=i.getServiceData(),window.userModel.signature=e,i.api.saveToolConfig("signature",e,window.userModel.token).then(function(e){t()},function(e){n(e)})):t()})},d.prototype.getData=function(){var e,t=this,n=(this.cleanStrings(),this.correctEmptyInitials(),{initials:this.initials,name:this.signature,signature_type:this.signatureMode,initials_type:this.initialsMode});return n.font=p.FONT_FAMILY_SERVER.arial,"image"==this.signatureMode&&""==this.signatureImageApi?(u.configureScope(function(e){e.setExtra("signature data",t),e.setExtra("signatureImageApi",t.signatureImageApi)}),u.captureMessage("Signature forced from image to font",l.Severity.Error)):"draw"==this.signatureMode&&""==this.signatureDrawApi&&(u.configureScope(function(e){e.setExtra("signature data",t),e.setExtra("signatureDrawApi",t.signatureDrawApi)}),u.captureMessage("Signature forced from draw to font",l.Severity.Error)),"image"==this.initialsMode&&""==this.initialsImageApi?(u.configureScope(function(e){e.setExtra("signature data",t),e.setExtra("initialsImageApi",t.initialsImageApi)}),u.captureMessage("Initials forced from image to font",l.Severity.Error)):"draw"==this.initialsMode&&""==this.initialsDrawApi&&(u.configureScope(function(e){e.setExtra("signature data",t),e.setExtra("initialsDrawApi",t.initialsDrawApi)}),u.captureMessage("Initials forced from draw to font",l.Severity.Error)),"image"==this.signatureMode?(n.signature_type="image",n.signature_image_server_filename=this.signatureImageApi):"draw"==this.signatureMode?(n.signature_type="sign",n.signature_image_server_filename=this.signatureDrawApi):"font"==this.signatureMode&&(n.signature_type="text",n.color=this.color,n.font=p.FONT_FAMILY_SERVER.arial,p.FONT_FAMILY_SERVER[this.fontFamily])&&(n.font=p.FONT_FAMILY_SERVER[this.fontFamily]),"image"==this.initialsMode?(n.initials_type="image",n.initials_image_server_filename=this.initialsImageApi):"draw"==this.initialsMode?(n.initials_type="sign",n.initials_image_server_filename=this.initialsDrawApi):"font"==this.initialsMode&&(n.initials_type="text",n.color=this.color,n.font=p.FONT_FAMILY_SERVER.arial,p.FONT_FAMILY_SERVER[this.fontFamily])&&(n.font=p.FONT_FAMILY_SERVER[this.fontFamily]),""!==this.stampImageApi&&(n.stamp_image_server_filename=this.stampImageApi),n.browser_signed=window.navigator.userAgent.substring(0,249),1==a.UserModel.isUser()&&(e=a.UserModel.get(),n.custom_string=e.loginkey,n.custom_int=e.id),1==i("body").hasClass("rtl")&&(n.rtl=1),n},d.prototype.triggerInvalidInfo=function(e,t){this.saveConfig().then(function(e){c.SignatureEventManager.dispatchEvent("signature:settings:invalid_info:save_finished",{})}),c.SignatureEventManager.dispatchEvent("signature:settings:invalid_info",{signatureType:e,signatureMode:t})},d.prototype.validateData=function(){var e=this.getData();return!!("font"===this.signatureMode||e.signature_image_server_filename&&""!=e.signature_image_server_filename)&&!!("font"===this.initialsMode||e.initials_image_server_filename&&""!=e.initials_image_server_filename)},Object.defineProperty(d.prototype,"hasStamp",{get:function(){var e;return""!=(null!=(e=this.stampImageBase64)?e:"")},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"createBaseImgPreviewEl",{get:function(){return document.createElement("img")},enumerable:!1,configurable:!0}),p.SignatureModel=d,p.DEFAULT_SIGNATURE_MODE="font",p.DEFAULT_INITIALS_MODE="font",p.DEFAULT_COLOR="#555555",p.DEFAULT_FONT="alex",p.FONT_FAMILY_NAMES=["alex","allura","handle","kristi","aurore","mark","reenie","satisfy","zeyada","shadows"],p.FONT_FAMILY_SERVER={arial:"Arial-Unicode-MS",shadows:"Shadows-Into-Light",aurore:"La-Belle-Aurore",alex:"Alex-Brush-Regular",allura:"Allura-Regular",handle:"Handlee-Regular",kristi:"Kristi-Regular",mark:"Marck-Script",reenie:"Reenie-Beanie",satisfy:"Satisfy-Regular",smooth:"SmoothStone-Regular",secret:"TheSecret-Regular",zeyada:"Zeyada"},p.FONT_FAMILY_EXPLORER={arial:"Arial-Unicode",shadows:"Shadows Into Light",aurore:"La Belle Aurore",alex:"Alex Brush",allura:"Allura",handle:"Handlee",kristi:"Kristi",mark:"Marck Script",reenie:"Reenie Beanie",satisfy:"Satisfy",smooth:"SmoothStone",secret:"TheSecret",zeyada:"Zeyada"},p.FONT_STYLES="https://fonts.googleapis.com/css?family=Alex+Brush|Allura|Handlee|Kristi|La+Belle+Aurore|Marck+Script|Reenie+Beanie|Satisfy|Shadows+Into+Light|Zeyada&display=swap"}.call(this,f(1))},,,function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},s=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},u=(Object.defineProperty(t,"__esModule",{value:!0}),t.SummaryState=void 0,n(82)),l=n(65),c=n(187),d=n(230),p=n(231),n=(r=l.AbstractPaymentState,o(f,r),f.prototype.renderSummary=function(t){return a(this,void 0,void 0,function(){var n=this;return s(this,function(e){return t.getPaymentSummary_updateSubscription(this.ctx.summaryParams.numSignatures,this.ctx.summaryParams.numUsers,this.ctx.summaryParams.paymentInterval,this.ctx.summaryParams.couponCode).then(function(e){new c.SummaryBuilder(n.getSummaryTemplate_html(),e).setTexts({current:n.t("currentSubscription"),new:n.t("newSubscription"),next:n.t("nextSubscription")}).render(n.summariesDomRoot,n.summaryWarningTextDomRoot)}).catch(function(e){var t=new p.SummaryFailedState;n.ctx.changeState(t),t.render(n.domRoot)}),[2]})})},f.prototype.getSummaryTemplate_html=function(){if(!this._summaryTemplate_html){var e=this.domStateRoot.querySelector("template.summary-template");if(!e)throw"template.summary-template not found";this._summaryTemplate_html=e.innerHTML}return this._summaryTemplate_html},Object.defineProperty(f.prototype,"summariesDomRoot",{get:function(){var e=this.domStateRoot.querySelector(".summaries-root");if(e)return e;throw".summaries-root not found"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"summaryWarningTextDomRoot",{get:function(){var e=this.domStateRoot.querySelector(".summary__warning-text");if(e)return e;throw".summary__warning-text not found"},enumerable:!1,configurable:!0}),f.prototype.cleanUpState=function(){this.summariesDomRoot.innerHTML="",this.domRoot.querySelectorAll(".payment__mountpoint").forEach(function(e){return e.innerHTML=""}),this.goBackBtn.removeEventListener("click",this._goBackState)},f.prototype.initBackAction=function(){this.ctx.canGoToAPreviousState()?(this.goBackBtn.style.display="",this.goBackBtn.addEventListener("click",this._goBackState)):this.goBackBtn.style.display="none"},Object.defineProperty(f.prototype,"goBackBtn",{get:function(){var e=this.domRoot.querySelector(".dialog__back");if(e)return e;throw"Go Back btn not found"},enumerable:!1,configurable:!0}),f);function f(){var n=null!==r&&r.apply(this,arguments)||this;return n.name="SummaryState",n.LAYOUT_TEMPLATE_NAME="subscription-update",n.INITIAL_SCREEN="default",n.onDomReady=function(){n.changeScreen(n.INITIAL_SCREEN),n.initBackAction();var e=new u.UserPayment,t=n.renderSummary(e),e=n.initAbstractPayment({paymentAction:"subsc_update",userPayment:e,currentPaymentMethod:n.ctx.userCurrentPaymentMethod,paymentProviderProps:n._getPaymentProviderProps(n.ctx.paymentProviders),numSignatures:function(){return n.ctx.summaryParams.numSignatures},numUsers:function(){return n.ctx.summaryParams.numUsers},couponCode:function(){return n.ctx.summaryParams.couponCode},paymentInterval:{type:"predefined",value:n.ctx.summaryParams.paymentInterval}});Promise.all([t,e]).then(n._onEverythingReady)},n._getPaymentProviderProps=function(t){return void 0===t&&(t=[]),[{name:"stripe",paymentButtonText:n.t("paymentButtonText")},{name:"paypal"}].filter(function(e){return t.includes(e.name)})},n._onEverythingReady=function(){setTimeout(n.clearLoadingScreen,150)},n._onPaymentSuccess=function(e){n.ctx.summaryParams.numSignatures&&(t=n.ctx.summaryParams.numSignatures,window.ev("send","event","premium","signatures",String(t)),window.ev("event","payment",{element:"signatures",quantity:t}));var t=new d.PaymentCompletedState;n.ctx.changeState(t),t.render(n.domRoot)},n._onPaymentFailed=function(e){var t=new p.SummaryFailedState;n.ctx.changeState(t),t.render(n.domRoot)},n._goBackState=function(){n.cleanUpState(),n.ctx.goToPreviousState().render(n.domRoot)},n}t.SummaryState=n},function(e,t,n){e.exports=function(a){"use strict";a=a&&a.hasOwnProperty("default")?a["default"]:a;var n="transitionend",i=1e6,s=1e3;function u(e){return{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()}function e(){return{bindType:n,delegateType:n,handle:function e(t){if(a(t.target).is(this))return t.handleObj.handler.apply(this,arguments);return undefined}}}function t(e){var t=this;var n=false;a(this).one(l.TRANSITION_END,function(){n=true});setTimeout(function(){if(!n)l.triggerTransitionEnd(t)},e);return this}function r(){a.fn.emulateTransitionEnd=t;a.event.special[l.TRANSITION_END]=e()}var l={TRANSITION_END:"bsTransitionEnd",getUID:function e(t){do{t+=~~(Math.random()*i)}while(document.getElementById(t));return t},getSelectorFromElement:function e(t){var n=t.getAttribute("data-target");if(!n||n==="#"){var i=t.getAttribute("href");n=i&&i!=="#"?i.trim():""}return n&&document.querySelector(n)?n:null},getTransitionDurationFromElement:function e(t){if(!t)return 0;var n=a(t).css("transition-duration");var i=a(t).css("transition-delay");var r=parseFloat(n);var o=parseFloat(i);if(!r&&!o)return 0;n=n.split(",")[0];i=i.split(",")[0];return(parseFloat(n)+parseFloat(i))*s},reflow:function e(t){return t.offsetHeight},triggerTransitionEnd:function e(t){a(t).trigger(n)},supportsTransitionEnd:function e(){return Boolean(n)},isElement:function e(t){return(t[0]||t).nodeType},typeCheckConfig:function e(t,n,i){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var o=i[r];var a=n[r];var s=a&&l.isElement(a)?"element":u(a);if(!new RegExp(o).test(s))throw new Error(t.toUpperCase()+": "+('Option "'+r+'" provided type "'+s+'" ')+('but expected type "'+o+'".'))}},findShadowRoot:function e(t){if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode==="function"){var n=t.getRootNode();return n instanceof ShadowRoot?n:null}if(t instanceof ShadowRoot)return t;if(!t.parentNode)return null;return l.findShadowRoot(t.parentNode)}};return r(),l}(n(1))},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.SignApi=t.INSUFICIENT_SIGNATURES=t.INSUFICIENT_CERTS=t.DOCUMENT_DELETED=t.DOCUMENT_DECLINED=t.DOCUMENT_EXPIRED=t.DOCUMENT_VOIDED=t.DOCUMENT_COMPLETED=t.DOCUMENT_VALIDATED=t.DOCUMENT_SIGNED=t.DOCUMENT_NOT_VIEWED_YET=void 0,n(48)),s=n(62),n=(t.DOCUMENT_NOT_VIEWED_YET="Signer is trying to sign but did not view the document",t.DOCUMENT_SIGNED="The signer can't be updated. Signer status is signed",t.DOCUMENT_VALIDATED="The signer can't be updated. Signer status is validated",t.DOCUMENT_COMPLETED="The signer can't be updated. Signature status is completed",t.DOCUMENT_VOIDED="The signer can't be updated. Signature status is void",t.DOCUMENT_EXPIRED="The signer can't be updated. Signature status is expired",t.DOCUMENT_DECLINED="The signer can't be updated. Signature status is declined",t.DOCUMENT_DELETED="The signer can't be updated. Signature status is deleted",t.INSUFICIENT_CERTS="Signature can't be updated because ilovepdf.com user does not have enough certificates",t.INSUFICIENT_SIGNATURES="Signature can't be updated because ilovepdf.com user does not have enough signatures",r=a.Api,o(u,r),u.prototype.sign=function(e,t){return this.query("PUT","signature/signer/"+e,t)},u.prototype.signature=function(e){return this.query("POST","signature",e)},u.prototype.signatureUpdate=function(e,t){return this.query("PUT","signature/"+e,t)},u.prototype.uploadCloudFile=function(e,t){e=s.FormDataHelper.jsonToFormData({task:e,cloud_file:t});return this.query("POST","upload",e)},u.prototype.templateGet=function(e){return this.query("GET","signature/template/load/"+e)},u.prototype.templateSave=function(e){return this.query("POST","signature/template",e)},u.prototype.templateUpdate=function(e,t){return this.query("PUT","signature/template/"+e,t)},u.prototype.templateDelete=function(e,t){return this.query("DELETE","signature/template/"+e,t)},u.prototype.delete=function(e){return this.query("DELETE","signature/"+e)},u.prototype.remove=function(e){return this.query("DELETE","signature/signer/"+e)},u.prototype.saveSettings=function(e,t){return this.query("POST","settings/"+e,t)},u.prototype.getSignature=function(e,t,n){return void 0===n&&(n=null),null!=(t=void 0===t?null:t)&&null!=n?this.query("GET","signature/"+e+"?custom_int="+t+"&custom_string="+n):this.query("GET","signature/"+e)},u);function u(){return null!==r&&r.apply(this,arguments)||this}t.SignApi=n},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SummaryBuilder=void 0;var d=n(86);function i(e,t){this.htmlTemplate=e,this.data=t}i.prototype.render=function(e,t){return void 0===t&&(t=null),this.domRoot=e,this.summaryWarningTextDomRoot=t,this.fillSummaryTables(),this},i.prototype.setTexts=function(e){return this.texts=e,this},i.prototype.fillSummaryTables=function(){var e,t=this.domRoot,n=this.data,i=n.summary,n=n.text;if(n&&"string"==typeof n&&0<n.length){if(!this.summaryWarningTextDomRoot)throw"'summaryWarningTextDomRoot' not present";this.summaryWarningTextDomRoot.innerHTML=n,this.summaryWarningTextDomRoot.style.display=""}else this.summaryWarningTextDomRoot&&(this.summaryWarningTextDomRoot.style.display="none");i.current&&(e=this.buildSummaryTable("summary--current",this.texts.current,i.current),t.appendChild(e)),i.new&&(e=this.buildSummaryTable("summary--new",this.texts.new,i.new),t.appendChild(e)),i.next&&(e=this.buildSummaryTable("summary--next",this.texts.next,i.next),t.appendChild(e))},i.prototype.buildSummaryTable=function(e,t,n){for(var i=d.Tools.createHTMLFromText(this.htmlTemplate),r=(i.classList.add(e),i.querySelector(".summary__title").innerHTML=t,i.querySelector(".summary__items")),o=i.querySelector(".summary__total"),a=0;a<n.length;a++){var s,u,l,c=n[a];c.total?(o.classList.add("summary__total--visible"),i.querySelector(".summary__total__label").innerHTML=c.text,i.querySelector(".summary__total__value").innerHTML=c.price):(s=document.createElement("div"),u=document.createElement("div"),l=document.createElement("div"),s.classList.add("summary__item"),u.classList.add("summary__item__text"),l.classList.add("summary__item__price"),s.appendChild(u),s.appendChild(l),u.innerHTML=c.text,l.innerHTML=c.price,r.appendChild(s))}return i},t.SummaryBuilder=i},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.Frame=void 0,i.make=function(e){return'\n    <div class="signature__firm__by">\n    <svg xmlns="http://www.w3.org/2000/svg" width="7" height="10" fill="#0062c5" fill-rule="nonzero"><path d="M.13 5.068L0 9.713c-.001.04.03.07.07.072.026.001.05-.013.063-.035l1.494-2.57c-.28-.263-.357-.692-.156-1.038.235-.405.757-.543 1.165-.3s.548.752.313 1.157a.85.85 0 0 1-.982.385l-1.5 2.563a.07.07 0 0 0 .026.096c.022.013.05.013.072-.001l3.977-2.427a.42.42 0 0 0 .2-.317l.3-2.858a.42.42 0 0 0-.21-.407L3.1 3.034c-.145-.083-.325-.074-.46.023L.307 4.738a.42.42 0 0 0-.176.33zm5.276-1.08L2.864 2.53c-.135-.078-.166-.277-.068-.445l.575-1c.098-.168.287-.24.422-.164L6.335 2.4c.135.078.166.277.068.445l-.575 1c-.098.168-.287.24-.422.164z"/></svg>\n        SIGNED VIA ILOVEPDF\n        </div>\n        <div class="signature__firm__code">\n            '+(e=null==(e=void 0===e?null:e)?i.uuid():e)+"\n            </div>\n    "},i.uuidv4=function(){return"object"!=typeof crypto?"1111-1111-1111-1111":([1e7]+(-1e3).toString()+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})},i.uuid=function(){return i.uuidv4()},t.Frame=i},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;var r=n(191);function i(){this._eventEmitterCallbacks={}}i.prototype.addEventListener=function(e,t,n){(n=void 0===n?!1:n)?(e in this._eventEmitterCallbacks||(this._eventEmitterCallbacks[e]=[]),this._eventEmitterCallbacks[e].push(t)):document.addEventListener(e,function(e){e=e.detail;t(e)})},i.prototype.dispatchEvent=function(e,t,n){void 0===n&&(n=!0);var i=new r.IloveEventBase(e,t);i.name in this._eventEmitterCallbacks&&this._eventEmitterCallbacks[i.name].forEach(function(e){return e(i)}),n&&(t=new CustomEvent(e,{detail:i}),document.dispatchEvent(t))},t.EventManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IloveEventBase=void 0,t.IloveEventBase=function(e,t){this.name=e,this.detail=t}},function(e,d,p){"use strict";!function(n){var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(d,"__esModule",{value:!0}),d.SignatureDialogs=void 0,e(p(59))),r=p(201),t=p(74),o=e(p(273)),a=p(206),s=p(244),u=p(60),l=p(16);function c(){}c.auth=function(e){return n(".modal:visible").removeAttr("tabindex"),s.DialogCollection.auth(e)},c.updateSignaturesSubscription=function(e,t){return void 0===t&&(t=!0),n(".modal:visible").removeAttr("tabindex"),new i.default({dialogName:"updateSignaturesSubscription",canBeClosedByUser:t}).setContentBuilder(function(){return new a.SubscriptionContext({requestedAction:"selectSignatures",neededSignatures:e})})},c.buySignaturesPackages=function(e,t){return void 0===t&&(t=!0),n(".modal:visible").removeAttr("tabindex"),new i.default({dialogName:"buySignaturesPackages",canBeClosedByUser:t}).setContentBuilder(function(){return new r.PackagesContext({requestedAction:"selectPackageSignatures",neededNumberOfPkgItems:e,creditType:"signature"})})},c.becomePremium=function(e){return void 0===e&&(e="sign"),n(".modal:visible").removeAttr("tabindex"),new i.default({dialogName:"becomePremium"}).setContentBuilder(function(){return new t.PremiumContext({tool:e,triggerReason:u.REASON.ERROR_FEATURE,limits:null})})},c.templateCannotSave=function(){return n(".modal:visible").removeAttr("tabindex"),new i.default({dialogName:"cannnotSaveTemplate",canBeClosedByUser:!0}).setContentBuilder(function(){return new o.default({requestedAction:"CannotSave"})})},c.buySmsPackage=function(e,t){return void 0===t&&(t=!0),n(".modal:visible").removeAttr("tabindex"),new i.default({dialogName:"smsPackage",canBeClosedByUser:t}).setContentBuilder(function(){return new r.PackagesContext({requestedAction:"selectPackageSms",neededNumberOfPkgItems:e,creditType:"sms"})})},c.teamMemberManaged=function(e,t){return void 0===t&&(t=!0),n(".modal:visible").removeAttr("tabindex"),new i.default({dialogName:"teamManaged",canBeClosedByUser:t}).setContentBuilder(function(){return new r.PackagesContext({requestedAction:"teamManaged",neededNumberOfPkgItems:null,creditType:e})})},c.getSuitableDialogToObtainSignatures=function(e,t){var n=l.UserModel.isPremium(),i=n?null==(i=l.UserModel.get())?void 0:i.current_subscription:null;return(n?1==l.UserModel.isTeamManaged()?this.teamMemberManaged("signature"):null==i?this.becomePremium():i.signatures>=t?this.buySignaturesPackages(e):this.updateSignaturesSubscription(e):this.becomePremium()).show()},c.getSuitableDialogToObtainSmsPackage=function(e,t){return void 0===t&&(t=!0),c.buySmsPackage(e).show()},d.SignatureDialogs=c}.call(this,p(1))},function(e,t,n){"use strict";function i(e,t,n){this.x=e,this.y=t,this.time=n||Date.now()}Object.defineProperty(t,"__esModule",{value:!0}),t.Point=void 0,i.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},i.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},i.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0},t.Point=i},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.SignerElementFile=void 0,n(218)),s=n(34),n=(r=a.SignerElementUploaderBase,o(u,r),u.prototype.init=function(){r.prototype.init.call(this),this.initUploaderActions()},u.prototype.isValid=function(){return this.haveFilesToUpload||""!=this.getServiceFile()||""!=this.getApiFile()},u.prototype.validate=function(){var e=document.getElementById(this.uploaderContainerId),t=e.querySelector(".signature__upload__area"),n=this.isValid();return n||window.setTimeout(function(){e.classList.add("shake"),t.classList.add("error")},500),n},u.prototype.cleanErrors=function(){var e=document.getElementById(this.uploaderContainerId),t=e.querySelector(".signature__upload__area");e.classList.remove("error"),e.classList.remove("shake"),t.classList.remove("error"),e.removeAttribute("data-title"),e.removeAttribute("title"),s.Tooltip.disable(e)},u.prototype.fileUploaded=function(e,t){r.prototype.fileUploaded.call(this,e,t);t=this.files.getFile(e);t&&this.previewFile(t)},u.prototype.reset=function(){var e;(this.fileBase64Temp=null)!=(e=this.files)&&e.removeAllFiles(!0),this.applyModel()},Object.defineProperty(u.prototype,"haveFilesToUpload",{get:function(){var e;return 0<parseInt(null==(e=this.files)?void 0:e.count().toString())},enumerable:!1,configurable:!0}),u);function u(e){e=r.call(this,{elementMode:"image",elementType:e.elementType,api:e.api,signatureModel:e.signatureModel})||this;return e.haveDrop=!0,e}t.SignerElementFile=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignerElementBase=void 0;var i=n(89),r=n(34),o=n(7);function a(e){this.required=!1,this.disabled=!1,this.api=e.api,this.signatureModel=e.signatureModel,this.elementMode=e.elementMode}Object.defineProperty(a.prototype,"rootElement",{get:function(){return document.getElementById(this.elementType+"Tab")},enumerable:!1,configurable:!0}),a.prototype.init=function(){1!=this.started&&(this.elementModeCurrent=this.elementMode,this.started=!0,this.initModeSelector())},a.prototype.initModeSelector=function(){var n=this,i=this.rootElement.querySelectorAll(".subtab-nav li");i.forEach(function(t){t.addEventListener("click",function(e){t.classList.contains("disabled")?e.preventDefault():(i.forEach(function(e){e.classList.remove("active")}),t.classList.add("active"),n.showModeElement())})})},Object.defineProperty(a.prototype,"currentActiveMode",{get:function(){return this.activeSubtab.getAttribute("data-mode")},enumerable:!1,configurable:!0}),a.prototype.showElement=function(){this.tab.classList.remove("hidden"),this.showModeElement()},a.prototype.showModeElement=function(){this.elementModeCurrent=this.currentActiveMode,this.activateSubtab(this.elementModeCurrent)},a.prototype.isElementTabActive=function(){return document.getElementById(this.elementType+"-tab").classList.contains("active")},a.prototype.getTabModeElement=function(e){return e=(e=void 0===e?null:e)||this.elementMode,this.rootElement.querySelector('.subtab-nav li[data-mode="'+e+'"]')},a.prototype.isTabModeEnabled=function(e){return!this.getTabModeElement(e=void 0===e?null:e).classList.contains("disabled")},Object.defineProperty(a.prototype,"tab",{get:function(){return document.getElementById(this.elementType+"-tab")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"activeSubtab",{get:function(){var e=this.rootElement.querySelector(".subtab-nav li.active");return e||(e=this.signatureModel[this.elementType+"Mode"]?this.rootElement.querySelector('[data-mode="'+this.signatureModel[this.elementType+"Mode"]+'"]'):this.rootElement.querySelector(".subtab-nav li:not(.disabled)")).classList.add("active"),e},enumerable:!1,configurable:!0}),a.prototype.activateSubtab=function(e){var t;this.signatureModel[this.elementType+"Mode"]&&!(t=this.rootElement.querySelector('[data-mode="'+e+'"]')).classList.contains("disabled")&&(this.rootElement.querySelectorAll(".subtab-nav li").forEach(function(e){e.classList.remove("active")}),t.classList.add("active")),this.showActiveSubtabContent(e)},a.prototype.activateElementModeSubtab=function(){this.activateSubtab(this.elementMode)},a.prototype.showActiveSubtabContent=function(t){var n=this;this.rootElement.querySelectorAll(".subtab-content").forEach(function(e){e.id==n.elementType+i.TextHelper.ucFirst(t)?e.classList.add("active"):e.classList.remove("active")}),window.setTimeout(function(){n.initActiveSubtab(t)},800)},a.prototype.setOnlyMode=function(t){return this.elementModeCurrent=t,this.elementMode=t,this.subTabs.forEach(function(e){t!==e.getAttribute("data-mode")&&(e.classList.add("disabled"),e.classList.remove("active"),r.Tooltip.setContent(e,o.Lang.t("signOptionDisabled")))}),this.activeSubtab},a.prototype.setStatus=function(e){1==e?this.enable():this.disable()},a.prototype.setRequired=function(e){this.required=e},a.prototype.disable=function(){var e;this.disabled=!0,this.signatureModel[this.elementType+"Disabled"]=!0,this.tab.classList.add("disabled"),this.tab.style.display="none",this.tab.classList.contains("active")&&((e=this.tab.nextElementSibling)?e.click():(e=this.tab.previousElementSibling)&&e.click())},a.prototype.enable=function(){this.disabled=!1,this.tab.classList.remove("disabled"),this.tab.style.display="block"},a.prototype.checkIsRequired=function(){var e;return 1==this.required||!!(e=document.getElementById("addElement"+i.TextHelper.ucFirst(this.elementType)))&&!!(e=e.querySelector(".sign__draggable__count"))&&!isNaN(parseInt(e.innerHTML))},Object.defineProperty(a.prototype,"subTabs",{get:function(){return this.rootElement.querySelectorAll("[data-mode]")},enumerable:!1,configurable:!0}),t.SignerElementBase=a},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=void 0,i.set=function(e,t,n){var i=0,n=(0!=(n=void 0===n?60:n)&&(i=(new Date).getTime()+60*n*1e3),{value:JSON.stringify(t),timestamp:i});try{localStorage.setItem(e,JSON.stringify(n))}catch(e){}return t},i.get=function(e,t){void 0===t&&(t=null);var n=null;try{n=JSON.parse(localStorage.getItem(e))}catch(e){}return null==n?t:0==(0==n.timestamp||(new Date).getTime()<n.timestamp)?(localStorage.removeItem(e),t):JSON.parse(n.value)},i.touch=function(e,t){var t=60*(t=void 0===t?60:t)*1e3,n=null;try{n=JSON.parse(localStorage.getItem(e))}catch(e){return n}return 1==(new Date).getTime()<n.timestamp&&(n.timestamp=(new Date).getTime()+t,localStorage.setItem(e,JSON.stringify(n))),n},i.check=function(e){var t=null;try{t=JSON.parse(localStorage.getItem(e))}catch(e){}return null!=t&&(0==(t=(new Date).getTime()<t.timestamp)&&localStorage.removeItem(e),t)},i.remove=function(e){try{localStorage.removeItem(e)}catch(e){}},i.cleanSign=function(){try{localStorage.removeItem("sign.task"),localStorage.removeItem("sign.mode"),localStorage.removeItem("sign.files"),localStorage.removeItem("sign.receivers"),localStorage.removeItem("sign.signature"),localStorage.removeItem("sign.elements")}catch(e){}},t.Storage=i},,,function(e,a,n){"use strict";!function(o){Object.defineProperty(a,"__esModule",{value:!0}),a.RECEIVER_COLORS_VALUES=a.ReceiverModel=void 0;var t=n(17);function e(e){this.id=(e=void 0===e?{}:e).id||t.Tools.randomId(),this.email=e.email||"",this.name=e.name||"",this.num=e.num||1,this.type=e.type||"signer",this.phone=e.phone||"",this.password=e.password||"",this.allowCostumize=e.allowCostumize||"all",this.num=e.num||o(".receiver-list__item").length,window.colors=a.RECEIVER_COLORS_VALUES,this.colorClass=e.colorClass||this.getNextColor()}e.prototype.isSmsValidationEnabled=function(){return this.phone&&0<this.phone.length},e.prototype.getNextColor=function(e){void 0===e&&(e=0);for(var t=null,n=0,i=a.RECEIVER_COLORS_VALUES;n<i.length;n++){var r=i[n];if(o(".receiver__count."+r).length==e){t=r;break}}return t=null==t?this.getNextColor(++e):t},e.prototype.cleanData=function(){this.name="",this.email="",this.password="",this.phone="",this.type="signer",this.allowCostumize="all"},e.prototype.getData=function(){var e={id:this.id,name:this.name,email:this.email,type:this.type,files:[],force_signature_type:this.allowCostumize,letter_color:this.colorClass.replace("file","")};return""!=this.password&&(e.access_code=this.password),""!=this.phone&&(e.phone=this.phone),e},a.ReceiverModel=e,a.RECEIVER_COLORS_VALUES=["fileA","fileB","fileC","fileD","fileE","fileF","fileG","fileH","fileI","fileJ"]}.call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasHelper=void 0;var i=n(87);function o(){}o.makeImgFromText=function(e,t,n){void 0===n&&(n="black");var i=document.createElement("canvas"),r=(i.id="textCanvas",i.width=1824,i.height=300,i.style.zIndex="0",i.style.position="absolute",i.getContext("2d"));return r.font='normal 68px "'+t+'"',r.fillStyle=n,r.textAlign="center",r.fillText(e,i.width/2,i.height/2),o.trimCanvas(r),i},o.forcePrerenderFonts=function(e,t){for(var n in(t=void 0===t?null:t)&&i.lazyloadCss(t),e)o.forcePrerenderFont(e[n])},o.forcePrerenderFont=function(e){var t=document.createElement("div");t.style.position="absolute",t.style.left="-999999px",t.style.width="100px",t.style.fontFamily=e,t.innerHTML="force text",document.body.appendChild(t)},o.trimCanvas=function(t){try{for(var e,n=t.canvas,i=n.width,r=n.height,o={x:[],y:[]},a=t.getImageData(0,0,n.width,n.height),s=void 0,u=void 0,u=0;u<r;u++)for(s=0;s<i;s++)e=4*(u*i+s),0<a.data[3+e]&&(o.x.push(s),o.y.push(u));o.x.sort(function(e,t){return e-t}),o.y.sort(function(e,t){return e-t});var l=o.x.length-1,i=1+o.x[l]-o.x[0],r=1+o.y[l]-o.y[0],c=t.getImageData(o.x[0],o.y[0],i,r);return n.width=i,n.height=r,t.putImageData(c,0,0),t}catch(e){return t}},o.canvasToImgUrl=function(e){return e.toDataURL("image/png").toString()},o.textToImage=function(e,t,n){return o.canvasToImgUrl(o.makeImgFromText(e,t,n=void 0===n?"black":n))},t.CanvasHelper=o},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.PackagesContext=void 0,n(47)),s=n(237),u=n(239),l=n(240),c=n(210),d=n(241),p=n(174),n=(r=a.ContextBase,o(f,r),f.prototype.getInitialState=function(){return this.isLoggedIn()?this._getInitialState():new c.AuthState},f.prototype._getInitialState=function(){if(1==this.isTeamManaged())return new d.TeamManagedState;switch(this.requestedAction){case"selectPackageCerts":return new s.SelectPackageCertsState;case"selectPackageSignatures":return new u.SelectPackageSignaturesState;case"selectPackageSms":return new l.SelectPackageSmsState;case"teamManaged":return new d.TeamManagedState;case"summary":return new p.SummaryState;default:throw"Requested Action '"+this.requestedAction+"' is not handled"}throw"Not implemented 'initialState' when userType is "+this.userType},f);function f(e){var t=r.call(this,e)||this;return t.contentName="PackagesContext",t.requestedAction=e.requestedAction,t.neededNumberOfPkgItems=e.neededNumberOfPkgItems,t.creditType=e.creditType,t}t.PackagesContext=n},,,,,function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionContext=void 0,n(47)),s=n(215),u=n(229),l=n(232),c=n(180),d=n(233),n=(r=a.ContextBase,o(p,r),p.prototype.getInitialState=function(){return this.isLoggedIn()?this.calculateNextStateAfterAuth():new s.AuthState},p.prototype.calculateNextStateAfterAuth=function(){this.userType;if(1==this.isTeamManaged())return new d.TeamManagedState;switch(this.requestedAction){case"selectUsers":return new u.SelectUsersState;case"selectSignatures":return new l.SelectSignaturesState;case"summary":return new c.SummaryState;default:throw"Requested Action '"+this.requestedAction+"' is not handled"}return null},p);function p(e){var t=r.call(this,e)||this;return t.contentName="SubscriptionContext",t.paymentProviders=["stripe","paypal"],t.requestedAction=e.requestedAction,t.neededSignatures=e.neededSignatures,t.summaryParams={numUsers:void 0,numSignatures:void 0,paymentInterval:void 0,couponCode:void 0},t}t.SubscriptionContext=n},function(e,t,n){"use strict";function i(){var u=this;this.init=function(e){u.input=e,u.isRtl=document.body.classList.contains("rtl");var t=u.createBubbleElement();e.insertAdjacentElement("afterend",t),u.recalculatePosition(),e.addEventListener("input",u.recalculatePosition),window.addEventListener("resize",u.recalculatePosition),window.bubble=u},this.setText=function(e){u.bubble&&(u.bubble.innerHTML=e,u.recalculatePosition())},this.createBubbleElement=function(){var e=document.createElement("div");return(u.bubble=e).classList.add("payment-period__slider__element__bubble"),e},this.recalculatePosition=function(){var e,t=u.input,n=u.bubble,i=Number(t.value),r=t.offsetWidth,o=Number(t.getAttribute("min")),t=Number(t.getAttribute("max")),a=r/t,s=n.offsetWidth/2,o=(i-o)/(t-o)*(r-10-10)+10-s;o<0?(e=s-10-i*a,e+=(o=0)<i?4:2.5,n.style.setProperty("--left",1==u.isRtl?e+"px":"-"+e+"px")):r<o+2*s?(o=r-2*s,e=s-10+2.5,i!==t&&(e-=(t-i)*a-1),n.style.setProperty("--left",1==u.isRtl?"-"+e+"px":e+"px")):n.style.setProperty("--left","0px"),n.style[1==u.isRtl?"right":"left"]=o+"px"}}Object.defineProperty(t,"__esModule",{value:!0}),i.prototype.setEnabled=function(){this.bubble.classList.remove("disabled")},i.prototype.setDisabled=function(){this.bubble.classList.add("disabled")},t.default=i},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function r(e){return"certificates"===e||"signatures"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.localeProduct=t.initials=t.fromRgbToHex=t.localePrice=t.localeDateTime=t.localeNumber=void 0,t.localeNumber=function(e){return(-1===navigator.language.toLowerCase().indexOf("es")?Intl.NumberFormat(navigator.languages):Intl.NumberFormat("de-DE")).format(e)},t.localeDateTime=function(e){return Intl.DateTimeFormat(navigator.languages,{dateStyle:"short"}).format(e)},t.localePrice=function(t,n,e){n=i({style:"currency",currency:n,currencyDisplay:"narrowSymbol",minimumFractionDigits:0},e=void 0===e?{}:e);try{return(-1===navigator.language.toLowerCase().indexOf("es")?Intl.NumberFormat(navigator.languages,n):Intl.NumberFormat("de-DE",n)).format(t)}catch(e){return(-1===navigator.language.toLowerCase().indexOf("es")?Intl.NumberFormat(navigator.languages,i(i({},n),{currencyDisplay:"symbol"})):Intl.NumberFormat("de-DE",i(i({},n),{currencyDisplay:"symbol"}))).format(t)}},t.fromRgbToHex=function(e){var t=(e=e.split(" ").join("").split(","))[0].indexOf("("),t=e[0].substring(t+1),n=e[1],e=e[2].substr(0,e[2].length-1);return"#"+((1<<24)+(Number(t)<<16)+(Number(n)<<8)+Number(e)).toString(16).slice(1)},t.initials=function(e,t){return void 0===t&&(t=2),e.replace(/\s+/g," ").trim().split(" ").map(function(e){return e[0].toUpperCase()}).join("").substr(0,t)},t.localeProduct=function(e,t){return r(e)&&!t?"digital signatures":r(e)&&t?"signatures":"sms"===e?"SMS":"files"==e?"credits":e}},function(e,t,n){"use strict";function i(){return window.navigator.mockUserAgent||window.navigator.userAgent}function r(){return!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches}function o(e){return-1!==(e=void 0===e?i():e).indexOf("FBAN")||-1!==e.indexOf("FBAV")}function a(e){return void 0===e&&(e=i()),/FxiOS/i.test(e)}function s(e){return void 0===e&&(e=i()),/EdgiOS/i.test(e)}function u(e){return-1<(e=void 0===e?i():e).indexOf("Opera Mini")}function l(e){return void 0===e&&(e=i()),/Android/.test(e)}function c(e){return void 0===e&&(e=i()),/iPhone|iPod|iPad/.test(e)}function d(e){return void 0===e&&(e=i()),/\bGSA\b/.test(e)}function p(e){return void 0===e&&(e=i()),/QQBrowser/.test(e)}function f(e){return!!c(e=void 0===e?i():e)&&(!!d(e)||/.+AppleWebKit(?!.*Safari)/.test(e))}function h(e){return!!l(e=void 0===e?i():e)&&/Version\/[\d.]+/.test(e)&&!u(e)}function m(){var e=i();return/Macintosh.*AppleWebKit(?!.*Safari)/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.supportsPopups=t.isMacOsCna=t.isIEIntranet=t.isIECompHeader=t.isIE11=t.isIE=t.isWebView=t.isAndroidWebview=t.isIosWebview=t.isQQBrowser=t.isGoogleSearchApp=t.isIos=t.isAndroid=t.isOperaMini=t.isEdgeIOS=t.isFirefoxIOS=t.isFacebookWebView=t.isStandAlone=t.isDevice=t.getUserAgent=void 0,t.getUserAgent=i,t.isDevice=function(){return!!i().match(/Android|webOS|iPhone|iPad|iPod|bada|Symbian|Palm|CriOS|BlackBerry|IEMobile|WindowsMobile|Opera Mini/i)},t.isStandAlone=r,t.isFacebookWebView=o,t.isFirefoxIOS=a,t.isEdgeIOS=s,t.isOperaMini=u,t.isAndroid=l,t.isIos=c,t.isGoogleSearchApp=d,t.isQQBrowser=p,t.isIosWebview=f,t.isAndroidWebview=h,t.isWebView=function(){return o()||f()||h()},t.isIE=function(){return!!window.document.documentMode||Boolean(window.navigator&&window.navigator.userAgent&&/Edge|MSIE/i.test(window.navigator.userAgent))},t.isIE11=function(){return!!window.MSInputMethodContext&&!!window.document.documentMode},t.isIECompHeader=function(){var e=window.document.querySelector('meta[http-equiv="X-UA-Compatible"]'),t=window.document.querySelector('meta[content="IE=edge"]');return!(!e||!t)},t.isIEIntranet=function(){if(window.document.documentMode)try{var e=window.status;return(window.status="testIntranetMode")===window.status?(window.status=e,!0):!1}catch(e){}return!1},t.isMacOsCna=m,t.supportsPopups=function(e){return!(f(e=void 0===e?i():e)||h(e)||u(e)||a(e)||s(e)||o(e)||p(e)||m()||r())}},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.AuthState=void 0,n(88)),n=(r=n.AbstractAuthState,o(a,r),a);function a(){var t=null!==r&&r.apply(this,arguments)||this;return t.name="AuthState",t.LAYOUT_TEMPLATE_NAME="packages",t.onDomReady=function(){t.initAbstractAuth(),t.changeScreen(t.INITIAL_SCREEN),t.clearLoadingScreen()},t._onLoginSuccess=function(){t.executeAfterLoginOrRegisterSuccess()},t._onRegisterSuccess=function(){t.executeAfterLoginOrRegisterSuccess()},t.executeAfterLoginOrRegisterSuccess=function(){var e=t.ctx._getInitialState();t.ctx.changeState(e),e.render(t.domRoot)},t}t.AuthState=n},,,,,function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.AuthState=void 0,n(88)),n=(r=n.AbstractAuthState,o(a,r),a);function a(){var t=null!==r&&r.apply(this,arguments)||this;return t.name="AuthState",t.LAYOUT_TEMPLATE_NAME="subscription-update",t.onDomReady=function(){t.initAbstractAuth(),t.changeScreen(t.INITIAL_SCREEN),t.clearLoadingScreen()},t._onLoginSuccess=function(){t.executeAfterLoginOrRegisterSuccess()},t._onRegisterSuccess=function(){t.executeAfterLoginOrRegisterSuccess()},t.executeAfterLoginOrRegisterSuccess=function(){var e=t.ctx.calculateNextStateAfterAuth();t.ctx.changeState(e),e.render(t.domRoot)},t}t.AuthState=n},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},r=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=(Object.defineProperty(t,"__esModule",{value:!0}),t.MobilePhoneInput=void 0,o(n(270))),s=n(307);function u(e){this.telInput=e,this.init()}u.prototype.init=function(){var n;return i(this,void 0,void 0,function(){var t=this;return r(this,function(e){return this.iti=a.default(this.telInput,{formatOnDisplay:!1,strictMode:!1,nationalMode:!1,initialCountry:window.country||(null==(n=window.userModel)?void 0:n.country)||""}),this.telInput.addEventListener("input",function(e){t.formatCurrentValue()}),this.telInput.addEventListener("countrychange",function(e){t.formatCurrentValue()}),[2]})})},u.prototype.setNumber=function(e,t){void 0===t&&(t=!0);try{var n=s.parsePhoneNumber(e);this.iti.setCountry(n.country),this.iti.setNumber(n.nationalNumber)}catch(e){}t?(e=new Event("input"),this.telInput.dispatchEvent(e)):this.formatCurrentValue()},u.prototype.clear=function(){this.iti.setNumber("")},u.prototype.onChange=function(t){this.telInput.addEventListener("input",function(e){t(e)}),this.telInput.addEventListener("countrychange",function(e){t(e)})},u.prototype.formatCurrentValue=function(){var e=(e=this.nationalNumber).replace("+",""),e=new s.AsYouType(this.currentCountrycode).input(e);e!==this.telInput.value&&this.iti.setNumber(e)},Object.defineProperty(u.prototype,"mobileValue",{get:function(){var t=this.nationalNumber;try{var e=s.parsePhoneNumber(t,{defaultCountry:this.currentCountrycode}).format("E.164");return"+"===e.substring(0,1)?e.substring(1):e}catch(e){return t}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"nationalNumber",{get:function(){return this.telInput.value},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"currentCountrycode",{get:function(){var e;return null==(e=null==(e=this.iti.getSelectedCountryData())?void 0:e.iso2)?void 0:e.toUpperCase()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"countryPrefix",{get:function(){var e;return null==(e=this.iti.getSelectedCountryData())?void 0:e.dialCode},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isMobileEmpty",{get:function(){return""===this.nationalNumber},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isMobileValid",{get:function(){var e="+"+this.countryPrefix+" "+this.nationalNumber;return s.isValidPhoneNumber(e)},enumerable:!1,configurable:!0}),t.MobilePhoneInput=u},function(e,v,y){"use strict";!function(n){var i,t,e=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},a=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(v,"__esModule",{value:!0}),v.SignerElementDraw=void 0,r(y(247))),u=y(218),l=y(177),c=y(89),d=y(277),p=r(y(59)),f=r(y(278)),h=y(34),m=y(7),r=(t=u.SignerElementUploaderBase,e(g,t),g.prototype.showCanvas=function(){this.initCanvas()},g.prototype.initCanvas=function(){var t,n,e=this;this.initUploader(),null==this.drawPad?(this.initDrawPad(),this.toggleWait(!0),window.addEventListener("resize",function(){1!=e.disableListenResize&&(clearTimeout(e.resizeTimeout),e.resizeTimeout=window.setTimeout(function(){window.requestAnimationFrame(function(){1==e.resizeCanvas()&&(e.redrawPad(),e.resizeTimeout=null)})},700))}),(t=this.containerElement).addEventListener("pointerdown",function(e){90!=window.orientation&&-90!=window.orientation||0!=t.classList.contains("active")||(t.classList.add("active"),e.preventDefault(),e.stopPropagation())},!0),this.canvasElementClose.addEventListener("click",function(){t.classList.remove("active"),e.redrawPad()}),this.canvasElementClean.addEventListener("click",function(){null!=e.drawPad&&e.drawPad.clear(),t.parentElement.classList.remove("signed")}),this.canvasQrElement.addEventListener("click",this.showQrDialog),(n=this.canvasElement).addEventListener("mousedown",function(e){n.parentElement.classList.add("signed")}),window.setTimeout(function(){e.toggleWait(!1)},500)):1==this.resizeCanvas()&&this.redrawPad()},g.prototype.toggleWait=function(e){var t=this.waitElement;t&&(t.style.display=e?"block":"none")},g.prototype.redrawPad=function(){!this.drawPad||this.drawDataTemp||(this.drawDataTemp=this.drawPad.toData(),this.drawPad.penColor=this.getColor(),this.drawDataTemp=this.setDataColor(this.getColor(),this.drawDataTemp),this.drawPad.fitDataCentered(this.canvasElement,this.drawDataTemp),this.drawDataTemp=null)},g.prototype.repaintPad=function(){!this.drawPad||this.drawDataTemp||(this.drawDataTemp=this.setDataColor(this.getColor(),this.drawPad.toData()),this.drawPad.clear(),this.drawPad.penColor=this.getColor(),this.drawPad.fromData(this.drawDataTemp),this.drawDataTemp=null)},g.prototype.resizeCanvas=function(){var e=this.canvasElement,t=(Math.max(window.devicePixelRatio||1,1),e.width),n=e.height,i=e.offsetWidth,r=e.offsetHeight;return 0==t||0==n?(e.removeAttribute("width"),e.removeAttribute("height"),!1):0!=r&&0!=n&&(i!=t||r!=n)&&(e.width=i,e.height=r,!0)},g.prototype.fitDataPoints=function(i,r){return 0!=r.next.w&&0!=r.prev.w&&i.forEach(function(e,n){e.points.forEach(function(e,t){i[n].points[t].x=e.x*r.next.w/r.prev.w,i[n].points[t].y=e.y*r.next.h/r.prev.h})}),i},g.prototype.formatData=function(e){return e&&e.forEach(function(e,t){e.points.forEach(function(e,t){e.time=parseInt(e.time),e.x=parseFloat(e.x),e.y=parseFloat(e.y)})}),e},g.prototype.uploadSvgIfNeeded=function(){return!(!this.drawPad||JSON.stringify(this.drawPad.toData())==JSON.stringify(this.drawData)||(this.drawData=this.drawPad.toData(),this.uploadSvg(),0))},g.prototype.uploadSvg=function(){this.initUploader();var e=d.SvgHelper.fromBase64(this.drawPad.toDataURL("image/svg+xml")).replace("undefined",this.color),e=d.SvgHelper.trim(e),e=(d.SvgHelper.toBase64(e),d.SvgHelper.toBlob(e));this.uploader.uploader.addFile(e,this.elementType+".svg")},g.prototype.getColor=function(){return this.color||this.signatureModel.color||l.DEFAULT_COLOR},g.prototype.setColor=function(e){this.color=e||this.signatureModel.color||l.DEFAULT_COLOR,this.repaintPad()},g.prototype.setDataColor=function(n,e){return e.forEach(function(e,t){e.color=n}),e},g.prototype.getPadData=function(){return this.drawPad&&this.drawPad.toData()||this.signatureModel[this.elementType+"DrawData"]},g.prototype.getEncodedBase64=function(){var e;return this.drawPad?(e=d.SvgHelper.fromBase64(this.drawPad.toDataURL("image/svg+xml")).replace("undefined",this.getColor()),e=d.SvgHelper.trim(e),d.SvgHelper.toBase64(e)):null},g.prototype.paintDrawElement=function(){this.signatureModel[this.elementType+"DrawData"]&&this.drawPad&&(this.resizeCanvas()?this.redrawPad():this.repaintPad())},g.prototype.isValid=function(){var e;return this.drawPad?!1===this.drawPad.isEmpty():null!==(e=this.signatureModel[this.elementType+"DrawData"])&&"object"==typeof e&&0<Object.keys(e).length},g.prototype.validate=function(){var e,t=this;return this.isValid()?(this.cleanErrors(),!0):((e=this.canvasElement).classList.contains("error")||(e.classList.add("error"),e.classList.remove("shake"),n(".dialog__body").animate({scrollTop:e.getBoundingClientRect().top,duration:200},function(){e.classList.add("shake"),t.canvasElement._tippy||t.canvasElement.setAttribute("title",m.Lang.t("signOption"+c.TextHelper.ucFirst(t.elementType)+"Needed")),h.Tooltip.show(t.canvasElement,2e3)})),!1)},g.prototype.cleanErrors=function(){var e=this.canvasElement;e.classList.remove("error"),e.classList.remove("shake"),h.Tooltip.disable(e),e.removeAttribute("data-title"),e.removeAttribute("title")},g.prototype.initDrawPad=function(){var e;this.drawPad||((e=this.canvasElement).width=n(e).parent().innerWidth(),e.height=n(e).parent().innerHeight(),this.drawPad=new s.default(e),this.drawPad.penColor=this.getColor(),this.signatureModel[this.elementType+"DrawData"]&&(this.drawFromModel(),n(".signature__draw").addClass("signed")))},g.prototype.drawFromModel=function(){var e,t;this.signatureModel[this.elementType+"DrawData"]?(this.disableListenResize=!0,e=this.canvasElement,t=this.formatData(this.dataFromModel),this.drawPad.penColor=this.getColor(),t=this.setDataColor(this.drawPad.penColor,t),this.drawPad.fitDataCentered(e,t),this.drawDataTemp=null,this.resizeCanvas(),this.redrawPad(),this.disableListenResize=!1):this.drawPad&&(this.drawPad.clear(),this.containerElement.parentElement.classList.remove("signed"))},g.prototype.reset=function(){this.drawPad&&this.drawFromModel()},Object.defineProperty(g.prototype,"canvasElementId",{get:function(){return"canvas"+c.TextHelper.ucFirst(this.elementType)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canvasElementQrId",{get:function(){return"canvas"+c.TextHelper.ucFirst(this.elementType)+"Qr"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canvasElement",{get:function(){return document.getElementById(this.canvasElementId)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canvasQrElement",{get:function(){return document.getElementById(this.canvasElementQrId)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canvasElementClose",{get:function(){return document.getElementById(this.canvasElementId+"Close")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canvasElementClean",{get:function(){return document.getElementById(this.canvasElementId+"Clean")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"containerElement",{get:function(){return document.getElementById(this.elementType+"Container")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"dataFromModel",{get:function(){return this.signatureModel[this.elementType+"DrawData"]},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"waitElement",{get:function(){return this.canvasElement.parentElement.querySelector(".wait")},enumerable:!1,configurable:!0}),g);function g(e){var n=t.call(this,{signatureModel:e.signatureModel,elementType:e.elementType,elementMode:"draw",api:e.api})||this;return n.ignoreCanvasPreviewOnAdd=!0,n.showQrDialog=function(){var i,r=n.canvasElement;if(null!=(t=window.ilovepdf)&&t.taskId)i=window.ilovepdf.taskId;else{if(!window.userModel)throw new Error("Code executed in wrong environment. User is not logged or task id is not accessible.");i=window.userModel.id+"-"+(new Date).valueOf()}function e(){return o(n,void 0,void 0,function(){var t,n;return a(this,function(e){switch(e.label){case 0:return[4,fetch("/qr/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:i})})];case 1:return[4,e.sent().json()];case 2:return t=e.sent(),null!=(t=t.data)&&t.traces&&this.drawPad&&(n=t.traces,this.drawPad.fitDataCentered(r,n),r.parentElement.classList.add("signed"),this.redrawPad()),[2,!(null==t||!t.traces)]}})})}var t=new p.default;t.setContentBuilder(function(){return new f.default({text:window.location.origin+"/templates/phone-pad?id="+i,polling:e})}),t.show()},Object.assign(n,e),n}v.SignerElementDraw=r}.call(this,y(1))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},a=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},r=(Object.defineProperty(t,"__esModule",{value:!0}),t.SignerElementUploaderBase=void 0,n(77)),s=n(276),u=n(16),l=n(101),o=n(89),c=n(176),d=n(116),p=n(81),f=n(7),h=n(251);function m(e){this.ACCEPTED_MIME_TYPES=["image/png","image/jpeg","image/svg+xml","image/svg"],this.checkServerStatusOnStart=!1,Object.assign(this,e)}m.prototype.init=function(){this.checkElements(),this.initUploader(),this.listenServiceFail()},m.prototype.listenServiceFail=function(){var n=this;p.SignatureEventManager.addEventListener("signature:service_down",function(e){var t;n.fileService=null,n.serviceFail=!0,"service"==(null==(t=n.uploader)?void 0:t.target)&&n.uploader.setApiMode()})},m.prototype.checkElements=function(){document.getElementById(this.uploaderId),document.getElementById(this.uploaderContainerId),document.getElementById(this.uploaderAreaId),document.getElementById(this.uploaderCleanBtnId)},m.prototype.initUploader=function(){this.uploader||(this.files||(this.files=new r.FileStack),this.uploader=this.makeUploaderService(this.elementMode,this.elementType,this.uploaderId,this.uploaderContainerId,this.uploaderAreaId,this.files),this.initUploaderActions())},m.prototype.uploadStarts=function(e){var t=document.getElementById(this.uploaderContainerId);t&&null!=t&&t.classList.add("upload")},m.prototype.uploadEnds=function(e){var t=document.getElementById(this.uploaderContainerId);t&&null!=t&&t.classList.remove("upload")},m.prototype.makeUploaderService=function(e,t,n,i,r,o){var a="service";return this.serviceOnly?a="serviceOnly":!this.serviceFail&&null!=u.UserModel.get()||(a="api"),new s.SignaturePlupload({target:a,signatureMode:e,signatureType:t,id:n,container:i,optionsManager:this,haveDrop:this.haveDrop||!1,printCanvasOnAdd:!1,config:new l.Config({tool:"sign",subtool:"sign",config:{sign:{mimeTypes:[{title:"Image files",extensions:"png,svg,jpg,jpeg",mime:this.ACCEPTED_MIME_TYPES.join(",")}],multiSelection:!1}}}),files:o,workerServer:this.api.workerServer,tool:"sign",servers:[],dropElement:r,tokenApi:this.api.token,tokenService:null!=u.UserModel.get()&&1!=this.serviceFail?u.UserModel.get().token:null,token:(null!=u.UserModel.get()&&1!=this.serviceFail?u.UserModel.get():this.api).token,taskId:this.api.taskId})},m.prototype.uploadFromService=function(){var n=this,i=(this.initUploader(),""+this.elementType+o.TextHelper.ucFirst(this.elementMode)+"Service"),e=this.signatureModel[i];e&&(this.fileService=e,this.fileApi=null,this.uploader.uploadToApi(this.fileService).then(function(){n.signatureModel[""+n.elementType+o.TextHelper.ucFirst(n.elementMode)+"Api"]=n.fileApi,n.apiFail=!1},function(){delete n.signatureModel[i],n.signatureModel.saveConfig();var e=document.body.classList.contains("mode-single"),t=document.body.classList.contains("tool-signature");p.SignatureEventManager.dispatchEvent("signature:service_down",{triggerIdentityModal:e||t})}))},m.prototype.initUploaderActions=function(){var e=document.getElementById(this.uploaderCleanBtnId);null!=e&&e.removeEventListener("click",this._onClickBtnClean.bind(this)),null!=e&&e.addEventListener("click",this._onClickBtnClean.bind(this))},m.prototype._onClickBtnClean=function(){var e=document.getElementById(this.uploaderCleanBtnId);this.clearAllFiles(),this.fileApi=null,(this.fileService=null)!=(e=null==(e=null==e?void 0:e.parentElement)?void 0:e.classList)&&e.remove("signed")},m.prototype.clearAllFiles=function(){var e;null!=(e=this.files)&&e.removeAllFiles(!0)},m.prototype.changeServer=function(e){},m.prototype.checkLimits=function(e,t){return e},m.prototype.fileAdded=function(r,e,t){return i(this,void 0,void 0,function(){var t,n,i;return a(this,function(e){switch(e.label){case 0:this._removeErrorTooltips(),this.fileApi=null,this.fileService=null,"image"==this.elementMode&&(r.status=window.plupload.FAILED,r.error=window.plupload.GENERIC_ERROR),e.label=1;case 1:return(e.trys.push([1,7,,8]),t=r.getSource().getSource(),n=void 0,t instanceof File)?[4,h.FileTools.getMimeTypeFromSource(t)]:[3,3];case 2:return n=e.sent(),[3,5];case 3:return[4,h.FileTools.getMimeTypeFromBlob(t)];case 4:n=e.sent(),e.label=5;case 5:if(this.ACCEPTED_MIME_TYPES.includes(n))return[4,this.previewFile(r)];throw new Error("Invalid mime type");case 6:return[2,e.sent()];case 7:throw i=e.sent(),this.invalidFileAdded(r),i;case 8:return[2]}})})},m.prototype.invalidFileAdded=function(e){null!=e&&e.id&&this.uploader.files.removeFile(e.id,!0),window.Toastr.error(f.Lang.t("damagedFile"),f.Lang.t("uploadError"),{timeOut:15e3,closeButton:!0,positionClass:"toast-top-left"})},m.prototype.previewFile=function(o){return i(this,void 0,void 0,function(){var t,n,i,r;return a(this,function(e){switch(e.label){case 0:return(t=document.getElementById(this.uploaderPreviewId))?(t.style.backgroundImage="none",n=new d.ImageView,o.url?(c.ImageHelper.preload(o.url),n.renderUrl(o.url,t.id),t.parentElement.classList.add("signed"),[2]):(i=o.getSource().getSource(),[4,c.ImageHelper.getBase64(o,!0)])):[3,3];case 1:return r=e.sent(),this.fileBase64Temp=r,r=o.name.endsWith(".svg"),[4,n[r?"renderSvg":"renderImage"](i,this.uploaderPreviewId,!1)];case 2:return r=e.sent(),o.width=r.width,o.height=r.height,t.parentElement.classList.add("signed"),[2,r];case 3:return[2]}})})},m.prototype.fileUploaded=function(e,t){this.files.getFile(e)&&(this.fileApi=t.server_filename,this.fileService=t.service_filename,this.fileBase64Temp&&""!=this.fileBase64Temp&&(this.fileBase64=this.fileBase64Temp.slice(),this.fileBase64Temp=null),this.uploadEnds(this.uploaderId))},m.prototype.invalidUpload=function(e){this.fatalError(e)},m.prototype.setUploaderError=function(e){"api"==this.uploader.target?(this.fileApi=null,this.apiFail=!0):(this.fileService=null,this.serviceFail=!0)},m.prototype.fatalError=function(e){1!=e.cloudFile&&"api"!=e.target&&"serviceOnly"!=e.target||(this.apiFail=!0,this.setUploaderError(e))},m.prototype._removeErrorTooltips=function(){},m.prototype.checkUploadIsCompleted=function(){return 1==this.serviceOnly?!this.haveFilesToUpload||""!=this.getServiceFile():!this.haveFilesToUpload||""!=this.getApiFile()||""!=this.getServiceFile()},m.prototype.cleanUploadPreviewImage=function(){this._onClickBtnClean()},m.prototype.applyModel=function(){var e=this.signatureModel[""+this.elementType+o.TextHelper.ucFirst(this.elementMode)+"Service"],t=this.signatureModel[""+this.elementType+o.TextHelper.ucFirst(this.elementMode)+"Api"],n=(this.signatureModel[""+this.elementType+o.TextHelper.ucFirst(this.elementMode)+"Base64"],document.getElementById(this.uploaderPreviewId)),i=this.signatureModel.getPreviewFor(this.elementType,this.elementMode);this.fileService=e,this.fileApi=t,n&&i.src&&(n.style.backgroundImage='url("'+i.src+'")',n.parentElement.classList.add("signed"))},m.prototype.getServiceFile=function(){var e;return null!=(e=this.fileService)?e:""},m.prototype.getApiFile=function(){var e;return null!=(e=this.fileApi)?e:""},Object.defineProperty(m.prototype,"uploaderId",{get:function(){return"upload"+o.TextHelper.ucFirst(this.elementType)+o.TextHelper.ucFirst(this.elementMode)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"uploaderContainerId",{get:function(){return"upload"+o.TextHelper.ucFirst(this.elementType)+o.TextHelper.ucFirst(this.elementMode)+"Container"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"uploaderAreaId",{get:function(){return"upload"+o.TextHelper.ucFirst(this.elementType)+o.TextHelper.ucFirst(this.elementMode)+"Area"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"uploaderCleanBtnId",{get:function(){return"upload"+o.TextHelper.ucFirst(this.elementType)+o.TextHelper.ucFirst(this.elementMode)+"Clean"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"uploaderPreviewId",{get:function(){return"upload"+o.TextHelper.ucFirst(this.elementType)+o.TextHelper.ucFirst(this.elementMode)+"Preview"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"haveFilesToUpload",{get:function(){var e;return 0<parseInt(null==(e=this.files)?void 0:e.count().toString())},enumerable:!1,configurable:!0}),t.SignerElementUploaderBase=m},function(e,i,r){"use strict";!function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.SignerElementText=void 0;var e=r(177);function n(e){Object.assign(this,e),this.init(),this.initFont()}n.prototype.init=function(){this.setColor(this.getColor()),this.setFont(this.getFont())},n.prototype.setColor=function(e){this.color=e||this.signatureModel.color,t(".signature__font li label").css("color",e)},n.prototype.getColor=function(){return this.color||e.DEFAULT_COLOR},n.prototype.initFont=function(){var i=this;document.querySelectorAll('[name="'+this.elementType+'FontFamily"]').forEach(function(n){n.addEventListener("click",function(e){var t=n.value.replace(i.elementType+"_","");i.setFont(t)})})},n.prototype.getFont=function(){var t=this,e=document.querySelectorAll('[name="'+this.elementType+'FontFamily"]'),n=this.font||this.signatureModel.fontFamily;return e.forEach(function(e){1==e.checked&&(n=e.value.replace(t.elementType+"_",""))}),n},n.prototype.setFont=function(e){this.font=e||this.getFont(),document.querySelectorAll('[value$="_'+e+'"]').forEach(function(e){e.checked=!0})},n.prototype.validate=function(){return this.cleanErrors(),!0},n.prototype.cleanErrors=function(){},n.prototype.applyModel=function(){t('[name="'+this.elementType+'FontFamily"][value="'+this.elementType+"_"+this.signatureModel.fontFamily+'"]').trigger("click"),t(".signature__color__item").removeClass("active"),t('[data-color="'+this.signatureModel.color+'"]').addClass("active")},n.prototype.reset=function(){this.applyModel()},i.SignerElementText=n}.call(this,r(1))},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureUserEventSend=void 0,i.registerVariable=function(e,t){e=this.EVENT_VARIABLES[e];window.ev("set",e,t)},i.sendEvent=function(e,t){e=this.EVENT_CONFIG[e].eventName;window.ev("sendOnce","event","sign",e,null,t)},i.EVENT_CONFIG={signatureIdentityModalShow:{eventName:"m-sidentity-show"},signatureIdentityModalConfirm:{eventName:"m-sidentity-confirm"},signatureModeModalShow:{eventName:"m-mode-show"},signatureModeModalConfirm:{eventName:"m-mode-confirm"},signatureReceiverModalShow:{eventName:"m-rec-show"},signatureReceiverModalConfirm:{eventName:"m-rec-confirm"},signatureClickProcessButton:{eventName:"cl-process-btn"},signatureLoginModalShow:{eventName:"m-auth-show"},signatureLoginModalConfirm:{eventName:"m-auth-confirm"},signatureConfirmAccountModalShow:{eventName:"m-authconf-show"},signatureConfirmAccountModalConfirm:{eventName:"m-authconf-confirm"}},i.EVENT_VARIABLES={signatureMode:"s-m",actionId:"s-aid",isLoggedIn:"s-ili"},t.SignatureUserEventSend=i},,,,,,,,function(e,t,n){e.exports=function(c,d){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function t(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}c=c&&c.hasOwnProperty("default")?c["default"]:c,d=d&&d.hasOwnProperty("default")?d["default"]:d;var e="tab",n="4.2.1",r="bs.tab",o="."+r,a,s=c.fn[e],p={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,CLICK_DATA_API:"click"+o+".data-api"},f={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},h={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},u=function(){function i(e){this._element=e}var e=i.prototype;e.show=function e(){var i=this;if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&c(this._element).hasClass(f.ACTIVE)||c(this._element).hasClass(f.DISABLED))return;var t;var r;var n=c(this._element).closest(h.NAV_LIST_GROUP)[0];var o=d.getSelectorFromElement(this._element);if(n){var a=n.nodeName==="UL"||n.nodeName==="OL"?h.ACTIVE_UL:h.ACTIVE;r=c.makeArray(c(n).find(a));r=r[r.length-1]}var s=c.Event(p.HIDE,{relatedTarget:this._element});var u=c.Event(p.SHOW,{relatedTarget:r});if(r)c(r).trigger(s);c(this._element).trigger(u);if(u.isDefaultPrevented()||s.isDefaultPrevented())return;if(o)t=document.querySelector(o);this._activate(this._element,n);var l=function e(){var t=c.Event(p.HIDDEN,{relatedTarget:i._element});var n=c.Event(p.SHOWN,{relatedTarget:r});c(r).trigger(t);c(i._element).trigger(n)};if(t)this._activate(t,t.parentNode,l);else l()};e.dispose=function e(){c.removeData(this._element,r);this._element=null};e._activate=function e(t,n,i){var r=this;var o=n&&(n.nodeName==="UL"||n.nodeName==="OL")?c(n).find(h.ACTIVE_UL):c(n).children(h.ACTIVE);var a=o[0];var s=i&&a&&c(a).hasClass(f.FADE);var u=function e(){return r._transitionComplete(t,a,i)};if(a&&s){var l=d.getTransitionDurationFromElement(a);c(a).removeClass(f.SHOW).one(d.TRANSITION_END,u).emulateTransitionEnd(l)}else u()};e._transitionComplete=function e(t,n,i){if(n){c(n).removeClass(f.ACTIVE);var r=c(n.parentNode).find(h.DROPDOWN_ACTIVE_CHILD)[0];if(r)c(r).removeClass(f.ACTIVE);if(n.getAttribute("role")==="tab")n.setAttribute("aria-selected",false)}c(t).addClass(f.ACTIVE);if(t.getAttribute("role")==="tab")t.setAttribute("aria-selected",true);d.reflow(t);c(t).addClass(f.SHOW);if(t.parentNode&&c(t.parentNode).hasClass(f.DROPDOWN_MENU)){var o=c(t).closest(h.DROPDOWN)[0];if(o){var a=[].slice.call(o.querySelectorAll(h.DROPDOWN_TOGGLE));c(a).addClass(f.ACTIVE)}t.setAttribute("aria-expanded",true)}if(i)i()};i._jQueryInterface=function e(n){return this.each(function(){var e=c(this);var t=e.data(r);if(!t){t=new i(this);e.data(r,t)}if(typeof n==="string"){if(typeof t[n]==="undefined")throw new TypeError('No method named "'+n+'"');t[n]()}})};t(i,null,[{key:"VERSION",get:function e(){return n}}]);return i}();return c(document).on(p.CLICK_DATA_API,h.DATA_TOGGLE,function(e){e.preventDefault();u._jQueryInterface.call(c(this),"show")}),c.fn[e]=u._jQueryInterface,c.fn[e].Constructor=u,c.fn[e].noConflict=function(){c.fn[e]=s;return u._jQueryInterface},u}(n(1),n(181))},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(t,"__esModule",{value:!0}),t.SelectUsersState=void 0,n(21)),u=a(n(167)),l=n(180),a=(r=s.StateBase,o(c,r),c.prototype.initSlider=function(){var e,t;this.usersSelect?this._onNumUsersChanged():(e=document.getElementById("SelectUsers"),this.usersSelect=new u.default,this.usersSelect.onInput(this._onNumUsersChanged),(t=null!=(t=null==(t=this.ctx)?void 0:t.userCurrentSubscription.users)?t:void 0)?this.usersSelect.init(e,{initialQty:t,initialQtyIsValid:!1}):this.usersSelect.init(e,{}))},Object.defineProperty(c.prototype,"actionBtn",{get:function(){var e=this.domStateRoot.querySelector("[next-from-users]");if(e)return e;throw"Action button not found"},enumerable:!1,configurable:!0}),c.prototype.initActions=function(){this.actionBtn.addEventListener("click",this._onActionBtnClicked)},c);function c(){var t=null!==r&&r.apply(this,arguments)||this;return t.name="SelectUsersState",t.LAYOUT_TEMPLATE_NAME="subscription-update",t.INITIAL_SCREEN="default",t.onDomReady=function(){t.changeScreen(t.INITIAL_SCREEN),t.actionBtn.disabled=!0,t.initSlider(),t.initActions(),t.clearLoadingScreen()},t._onNumUsersChanged=function(){var e=t.usersSelect.isValid();t.actionBtn.disabled=!e},t._onActionBtnClicked=function(e){t._goNextState()},t._goNextState=function(){var e=new l.SummaryState;t.ctx.summaryParams={numUsers:t.usersSelect.getQuantity(),numSignatures:void 0,paymentInterval:void 0},t.ctx.changeState(e),e.render(t.domRoot)},t}t.SelectUsersState=a},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentCompletedState=void 0,n(8)),n=n(21),n=(r=n.StateBase,o(s,r),Object.defineProperty(s.prototype,"actionBtn",{get:function(){var e=this.domStateRoot.querySelector("[next-from-payment-completed]");if(e)return e;throw"'Done' button not found"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"animatedGif",{get:function(){var e=this.domStateRoot.querySelector(".dialog__icon img");if(e)return e;throw"Check gif not found"},enumerable:!1,configurable:!0}),s);function s(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="PaymentCompletedState",e.LAYOUT_TEMPLATE_NAME="subscription-update",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.clearLoadingScreen();e.animatedGif;e.actionBtn.addEventListener("click",function(){return e.dispatchEvent(new a.IloveEvent("end"))})},e}t.PaymentCompletedState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.SummaryFailedState=void 0,n(21)),s=n(8),n=(r=a.StateBase,o(u,r),Object.defineProperty(u.prototype,"actionBtn",{get:function(){var e=this.domStateRoot.querySelector(".dialog__action .btn");if(e)return e;throw"'Done' button not found"},enumerable:!1,configurable:!0}),u);function u(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="SummaryFailedState",e.LAYOUT_TEMPLATE_NAME="subscription-update",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.actionBtn.addEventListener("click",e._onDoneButtonClick),e.clearLoadingScreen()},e._onDoneButtonClick=function(){e.dispatchEvent(new s.IloveEvent("end"))},e}t.SummaryFailedState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(t,"__esModule",{value:!0}),t.SelectSignaturesState=void 0,a(n(167))),a=n(21),u=n(180),n=(r=a.StateBase,o(l,r),Object.defineProperty(l.prototype,"numToBuy",{get:function(){var e;return void 0===this.ctx.neededSignatures?0:(null!=(e=null==(e=this.ctx)?void 0:e.userCurrentSubscription.signatures)?e:0)+(this.ctx.neededSignatures-this.ctx.user.signatures_left)},enumerable:!1,configurable:!0}),l.prototype.initSlider=function(){var e,t,n=this;this.signaturesSelect||(e=this.domRoot.querySelector("#SelectSignatures"),this.signaturesSelect=new s.default,this.signaturesSelect.onInput(this._onNumSignaturesChanged),t=null!=(t=null==(t=this.ctx)?void 0:t.userCurrentSubscription.signatures)?t:void 0,void 0===this.ctx.neededSignatures?t?this.signaturesSelect.init(e,{initialQty:t,initialQtyIsValid:!1}):this.signaturesSelect.init(e,{}):this.signaturesSelect.init(e,{initialQty:function(e){return e>=n.numToBuy},minQty:this.numToBuy}))},Object.defineProperty(l.prototype,"actionBtn",{get:function(){var e=this.domStateRoot.querySelector("[next-from-signatures]");if(e)return e;throw"Action button not found"},enumerable:!1,configurable:!0}),l);function l(){var n=null!==r&&r.apply(this,arguments)||this;return n.name="SelectSignaturesState",n.LAYOUT_TEMPLATE_NAME="subscription-update",n.INITIAL_SCREEN="default",n.onDomReady=function(){n.changeScreen(n.INITIAL_SCREEN),n.actionBtn.disabled=!0,n.initSlider(),n.actionBtn.addEventListener("click",n._onActionBtnClicked),n.clearLoadingScreen()},n._onNumSignaturesChanged=function(){var e,t=n.signaturesSelect.getQuantity();void 0===n.ctx.neededSignatures?!(e=null!=(e=null==(e=n.ctx)?void 0:e.userCurrentSubscription.signatures)?e:void 0)&&0!==e||(n.actionBtn.disabled=t===e):n.actionBtn.disabled=!(t>=n.numToBuy)},n._onActionBtnClicked=function(e){var t=new u.SummaryState;n.ctx.summaryParams={numSignatures:n.signaturesSelect.getQuantity(),numUsers:void 0,paymentInterval:void 0},n.ctx.changeState(t),t.render(n.domRoot)},n}t.SelectSignaturesState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},s=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},u=(Object.defineProperty(t,"__esModule",{value:!0}),t.TeamManagedState=void 0,n(21)),l=n(16),c=n(234),d=n(235),p=n(48),n=(r=u.StateBase,o(f,r),Object.defineProperty(f.prototype,"actionSendEmailBtn",{get:function(){return this.domRoot.querySelector("[send-email-to-admin]")},enumerable:!1,configurable:!0}),f.prototype.sendRequest=function(e){var t=new Headers,e=(t.append("Content-Type","application/json"),{creditType:e}),t=new Request("user/ask-admin-more-credits",{method:"POST",headers:t,mode:"cors",body:JSON.stringify(e)});return fetch(t)},f);function f(){var t=null!==r&&r.apply(this,arguments)||this;return t.name="TeamManagedState",t.LAYOUT_TEMPLATE_NAME="teams",t.INITIAL_SCREEN="default",t.onDomReady=function(){var e;t.changeScreen(t.INITIAL_SCREEN),t.api=new p.Api({taskId:null,tool:null,workerServer:null,token:null==(e=l.UserModel.get())?void 0:e.token}),t.actionSendEmailBtn.addEventListener("click",t._onSendEmailBtnClicked),t.clearLoadingScreen()},t._onSendEmailBtnClicked=function(){return a(t,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:this.actionSendEmailBtn.disabled=!0,e.label=1;case 1:return e.trys.push([1,4,,5]),[4,this.sendRequest("subscription")];case 2:return[4,e.sent().json()];case 3:if(!0!==e.sent().success)throw new Error("Error when sending email to team owner");return t=new c.EmailTeamAdminOk,this.ctx.changeState(t),t.render(this.domRoot),[3,5];case 4:return e.sent(),t=new d.EmailTeamAdminFailed,this.ctx.changeState(t),t.render(this.domRoot),[3,5];case 5:return[2]}})})},t}t.TeamManagedState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.EmailTeamAdminOk=void 0,n(21)),s=n(8),n=(r=a.StateBase,o(u,r),Object.defineProperty(u.prototype,"actionBtn",{get:function(){var e=this.domStateRoot.querySelector(".dialog__action .btn");if(e)return e;throw"'Done' button not found"},enumerable:!1,configurable:!0}),u);function u(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="EmailTeamAdminOk",e.LAYOUT_TEMPLATE_NAME="teams",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.actionBtn.addEventListener("click",e._onDoneButtonClick),e.clearLoadingScreen()},e._onDoneButtonClick=function(){e.dispatchEvent(new s.IloveEvent("end"))},e}t.EmailTeamAdminOk=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.EmailTeamAdminFailed=void 0,n(21)),s=n(8),n=(r=a.StateBase,o(u,r),Object.defineProperty(u.prototype,"actionBtn",{get:function(){var e=this.domStateRoot.querySelector(".dialog__action .btn");if(e)return e;throw"'Done' button not found"},enumerable:!1,configurable:!0}),u);function u(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="EmailTeamAdminFailed",e.LAYOUT_TEMPLATE_NAME="teams",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.actionBtn.addEventListener("click",e._onDoneButtonClick),e.clearLoadingScreen()},e._onDoneButtonClick=function(){e.dispatchEvent(new s.IloveEvent("end"))},e}t.EmailTeamAdminFailed=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.SignerModel=void 0,n(199)),s=n(188),n=(r=a.ReceiverModel,o(u,r),u);function u(e){var t=r.call(this,e=void 0===e?{}:e)||this;return t.type="signer",t.uuid=e.uuid||s.Frame.uuid(),t.initials=e.initials||"",t.imageSignature=e.imageSignature||"",t.imageInitials=e.imageInitials||"",t.colorClass=e.colorClass||"fileB",t}t.SignerModel=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(t,"__esModule",{value:!0}),t.SelectPackageCertsState=void 0,n(21)),u=a(n(167)),l=n(174),a=(r=s.StateBase,o(c,r),Object.defineProperty(c.prototype,"numToBuy",{get:function(){return void 0===this.ctx.neededNumberOfPkgItems?0:this.ctx.neededNumberOfPkgItems-this.ctx.user.certificates_left},enumerable:!1,configurable:!0}),c.prototype.initCertsSelector=function(){var e,t=this;this.certsSelect?this._onSliderInputChanged():(e=document.getElementById("SelectCerts"),this.certsSelect=new u.default,this.certsSelect.onInput(this._onSliderInputChanged),void 0===this.ctx.neededNumberOfPkgItems?this.certsSelect.init(e,{}):this.certsSelect.init(e,{minQty:this.numToBuy,initialQty:function(e){return e>=t.numToBuy}}))},c.prototype.initNextAction=function(){this.actionNextBtn.addEventListener("click",this._goNextState)},Object.defineProperty(c.prototype,"actionNextBtn",{get:function(){return this.domRoot.querySelector("[next-from-certs]")},enumerable:!1,configurable:!0}),c.prototype.cleanUpState=function(){this.domRoot.querySelector("[next-from-certs]").removeEventListener("click",this._goNextState)},c);function c(){var t=null!==r&&r.apply(this,arguments)||this;return t.name="SelectPackageCertsState",t.LAYOUT_TEMPLATE_NAME="packages",t.INITIAL_SCREEN="default",t.onDomReady=function(){t.changeScreen(t.INITIAL_SCREEN),t.initNextAction(),t.initCertsSelector(),t.clearLoadingScreen()},t._onSliderInputChanged=function(){void 0!==t.ctx.neededNumberOfPkgItems&&(t.certsSelect.getQuantity()>=t.numToBuy?t.actionNextBtn.disabled=!1:t.actionNextBtn.disabled=!0)},t._goNextState=function(){t.ctx.summaryParams={packageName:"certificates",packageQty:t.certsSelect.getQuantity()};var e=new l.SummaryState;t.ctx.changeState(e),e.render(t.domRoot)},t}t.SelectPackageCertsState=a},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentCompletedState=void 0,n(21)),s=n(8),n=(r=a.StateBase,o(u,r),u.prototype.initNextAction=function(){var e=this;this.domRoot.querySelector("[next-from-payment-completed]").addEventListener("click",function(){e._goNextState()})},u);function u(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="PaymentCompletedState",e.LAYOUT_TEMPLATE_NAME="packages",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction()},e._goNextState=function(){e.dispatchEvent(new s.IloveEvent("end"))},e}t.PaymentCompletedState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(t,"__esModule",{value:!0}),t.SelectPackageSignaturesState=void 0,n(21)),u=n(174),l=a(n(167)),a=(r=s.StateBase,o(c,r),c.prototype.initSignaturesSelector=function(){var e,t=this;this.signaturesSelect?this._onSliderQtyChanged():(e=document.getElementById("SelectSignatures"),this.signaturesSelect=new l.default,this.signaturesSelect.onInput(this._onSliderQtyChanged),void 0===this.ctx.neededNumberOfPkgItems?this.signaturesSelect.init(e,{}):this.signaturesSelect.init(e,{initialQty:function(e){return e>=t.numToBuy},minQty:this.numToBuy}))},Object.defineProperty(c.prototype,"numToBuy",{get:function(){return void 0===this.ctx.neededNumberOfPkgItems?0:this.ctx.neededNumberOfPkgItems-this.ctx.user.signatures_left},enumerable:!1,configurable:!0}),c.prototype.updateCheckoutBtnAvailability=function(){var e=this.signaturesSelect.getQuantity();this.nextStateBtn.disabled=!(e>=this.numToBuy)},c.prototype.initNextAction=function(){this.domRoot;this.nextStateBtn.addEventListener("click",this._goNextState)},Object.defineProperty(c.prototype,"nextStateBtn",{get:function(){var e=this.domRoot.querySelector("[next-from-signatures]");if(e)return e;throw"Btn not found"},enumerable:!1,configurable:!0}),c.prototype.cleanUpState=function(){this.domRoot;this.nextStateBtn.removeEventListener("click",this._goNextState)},c);function c(){var t=null!==r&&r.apply(this,arguments)||this;return t.name="SelectPackageSignaturesState",t.LAYOUT_TEMPLATE_NAME="packages",t.INITIAL_SCREEN="default",t.onDomReady=function(){t.changeScreen(t.INITIAL_SCREEN),t.initSignaturesSelector(),t.initNextAction(),t.clearLoadingScreen()},t._onSliderQtyChanged=function(){void 0!==t.ctx.neededNumberOfPkgItems&&t.updateCheckoutBtnAvailability()},t._goNextState=function(){t.cleanUpState(),t.ctx.summaryParams={packageName:"signatures_package",packageQty:t.signaturesSelect.getQuantity()};var e=new u.SummaryState;t.ctx.changeState(e),e.render(t.domRoot)},t}t.SelectPackageSignaturesState=a},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(t,"__esModule",{value:!0}),t.SelectPackageSmsState=void 0,n(21)),u=a(n(167)),l=n(174),a=(r=s.StateBase,o(c,r),c.prototype.initSmsSelector=function(){var e,t=this;this.smsSelect?this._onSliderQtyChanged():(e=document.getElementById("SelectSMS"),this.smsSelect=new u.default,this.smsSelect.onInput(this._onSliderQtyChanged),void 0===this.ctx.neededNumberOfPkgItems?this.smsSelect.init(e,{}):this.smsSelect.init(e,{initialQty:function(e){return e>=t.numToBuy},minQty:this.numToBuy}))},Object.defineProperty(c.prototype,"numToBuy",{get:function(){return void 0===this.ctx.neededNumberOfPkgItems?0:this.ctx.neededNumberOfPkgItems-this.ctx.user.sms_left},enumerable:!1,configurable:!0}),c.prototype.updateCheckoutBtnAvailability=function(){var e=this.smsSelect.getQuantity();this.proceedToCheckoutBtn.disabled=!(e>=this.numToBuy)},c.prototype.initNextAction=function(){this.proceedToCheckoutBtn.addEventListener("click",this._goNextState)},Object.defineProperty(c.prototype,"proceedToCheckoutBtn",{get:function(){var e=this.domRoot.querySelector("[next-from-sms]");if(e)return e;throw"Button not found"},enumerable:!1,configurable:!0}),c.prototype.cleanUpState=function(){this.domRoot.querySelector("[next-from-sms]").removeEventListener("click",this._goNextState)},c);function c(){var t=null!==r&&r.apply(this,arguments)||this;return t.name="SelectPackageSmsState",t.LAYOUT_TEMPLATE_NAME="packages",t.INITIAL_SCREEN="default",t.onDomReady=function(){t.changeScreen(t.INITIAL_SCREEN),t.initSmsSelector(),t.initNextAction(),t.clearLoadingScreen()},t._onSliderQtyChanged=function(){void 0!==t.ctx.neededNumberOfPkgItems&&t.updateCheckoutBtnAvailability()},t._goNextState=function(){t.ctx.summaryParams={packageName:"sms",packageQty:t.smsSelect.getQuantity()},t.cleanUpState();var e=new l.SummaryState;t.ctx.changeState(e),e.render(t.domRoot)},t}t.SelectPackageSmsState=a},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},s=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},u=(Object.defineProperty(t,"__esModule",{value:!0}),t.TeamManagedState=void 0,n(21)),l=n(16),c=n(242),d=n(243),p=n(48),n=(r=u.StateBase,o(f,r),f.prototype.getInitalScreen=function(){return this.ctx.creditType||this.INITIAL_SCREEN},Object.defineProperty(f.prototype,"actionSendEmailBtn",{get:function(){return this.domRoot.querySelector('[data-screen="'+this.getInitalScreen()+'"]').querySelector("[send-email-to-admin]")},enumerable:!1,configurable:!0}),f.prototype.sendRequest=function(e){var t=new Headers,e=(t.append("Content-Type","application/json"),{creditType:e}),t=new Request("user/ask-admin-more-credits",{method:"POST",headers:t,mode:"cors",body:JSON.stringify(e)});return fetch(t)},f);function f(){var t=null!==r&&r.apply(this,arguments)||this;return t.name="TeamManagedState",t.LAYOUT_TEMPLATE_NAME="teams",t.INITIAL_SCREEN="default",t.onDomReady=function(){var e;t.changeScreen(t.getInitalScreen()),t.api=new p.Api({taskId:null,tool:null,workerServer:null,token:null==(e=l.UserModel.get())?void 0:e.token}),t.actionSendEmailBtn.addEventListener("click",t._onSendEmailBtnClicked),t.clearLoadingScreen()},t._onSendEmailBtnClicked=function(){return a(t,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:this.actionSendEmailBtn.disabled=!0,e.label=1;case 1:return e.trys.push([1,4,,5]),[4,this.sendRequest(this.ctx.creditType||"subscription")];case 2:return[4,e.sent().json()];case 3:if(!0!==e.sent().success)throw new Error("Error when sending email to team owner");return t=new c.EmailTeamAdminOk,this.ctx.changeState(t),t.render(this.domRoot),[3,5];case 4:return e.sent(),t=new d.EmailTeamAdminFailed,this.ctx.changeState(t),t.render(this.domRoot),[3,5];case 5:return[2]}})})},t}t.TeamManagedState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.EmailTeamAdminOk=void 0,n(21)),s=n(8),n=(r=a.StateBase,o(u,r),Object.defineProperty(u.prototype,"actionBtn",{get:function(){var e=this.domStateRoot.querySelector(".dialog__action .btn");if(e)return e;throw"'Done' button not found"},enumerable:!1,configurable:!0}),u);function u(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="EmailTeamAdminOk",e.LAYOUT_TEMPLATE_NAME="teams",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.actionBtn.addEventListener("click",e._onDoneButtonClick),e.clearLoadingScreen()},e._onDoneButtonClick=function(){e.dispatchEvent(new s.IloveEvent("end"))},e}t.EmailTeamAdminOk=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.EmailTeamAdminFailed=void 0,n(21)),s=n(8),n=(r=a.StateBase,o(u,r),Object.defineProperty(u.prototype,"actionBtn",{get:function(){var e=this.domStateRoot.querySelector(".dialog__action .btn");if(e)return e;throw"'Done' button not found"},enumerable:!1,configurable:!0}),u);function u(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="EmailTeamAdminFailed",e.LAYOUT_TEMPLATE_NAME="teams",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.actionBtn.addEventListener("click",e._onDoneButtonClick),e.clearLoadingScreen()},e._onDoneButtonClick=function(){e.dispatchEvent(new s.IloveEvent("end"))},e}t.EmailTeamAdminFailed=n},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),t.DialogCollection=void 0,i(n(59))),o=n(245),a=n(246);function s(){}s.auth=function(e){return new r.default({dialogName:"auth"}).setContentBuilder(function(){return new a.SingletonContext(o.AuthState,{tool:e})})},t.DialogCollection=s},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.AuthState=void 0,n(8)),n=n(88),n=(r=n.AbstractAuthState,o(s,r),s.prototype.changeScreen=function(e){r.prototype.changeScreen.call(this,e),this._updateTitle()},s);function s(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="AuthState",e.LAYOUT_TEMPLATE_NAME="singleton/auth",e.onDomReady=function(){e.initAbstractAuth(),e.ctx.tool&&(e.extraLoginParams={tool:e.ctx.tool}),e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen()},e._updateTitle=function(){e.domStateRoot.querySelector(".dialog__title").innerHTML=e.currentScreen.querySelector(".form__title").innerHTML},e._onLoginSuccess=function(){e.executeAfterLoginOrRegisterSuccess()},e._onRegisterSuccess=function(){e.executeAfterLoginOrRegisterSuccess()},e.executeAfterLoginOrRegisterSuccess=function(){e.dispatchEvent(new a.IloveEvent("end"))},e}t.AuthState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.SingletonContext=void 0,n(47)),n=(r=n.ContextBase,o(a,r),a.prototype.getInitialState=function(){return this.getState()},a);function a(e,t){var n=r.call(this,t)||this;n.contentName="SingletonContext",n.tool=t.tool,n.changeState(new e),n.getState();return n}t.SingletonContext=n},function(e,t,n){"use strict";var l=this&&this.__assign||function(){return(l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=(Object.defineProperty(t,"__esModule",{value:!0}),n(248)),c=n(193),r=n(249);function o(e,t){var n=this;void 0===t&&(t={}),this.canvas=e,this.options=t,this._handleMouseDown=function(e){1===e.which&&(n._mouseButtonDown=!0,n._strokeBegin(e))},this._handleMouseMove=function(e){n._mouseButtonDown&&n._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(e))},this._handleTouchStart=function(e){e.preventDefault(),1===e.targetTouches.length&&(e=e.changedTouches[0],n._strokeBegin(e))},this._handleTouchMove=function(e){e.preventDefault();e=e.targetTouches[0];n._strokeMoveUpdate(e)},this._handleTouchEnd=function(e){e.target===n.canvas&&(e.preventDefault(),e=e.changedTouches[0],n._strokeEnd(e))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.throttle?this._strokeMoveUpdate=r.throttle(o.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=o.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._ctx=e.getContext("2d"),this.clear(),this.on()}o.prototype.clear=function(){var e=this._ctx,t=this.canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},o.prototype.fromDataURL=function(e,t,n){var i=this,r=(void 0===t&&(t={}),new Image),o=t.ratio||window.devicePixelRatio||1,a=t.width||this.canvas.width/o,s=t.height||this.canvas.height/o;this._reset(),r.onload=function(){i._ctx.drawImage(r,0,0,a,s),n&&n()},r.onerror=function(e){n&&n(e)},r.src=e,this._isEmpty=!1},o.prototype.toDataURL=function(e,t){return"image/svg+xml"!==(e=void 0===e?"image/png":e)?this.canvas.toDataURL(e,t):this._toSVG()},o.prototype.on=function(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())},o.prototype.off=function(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)},o.prototype.isEmpty=function(){return this._isEmpty},o.prototype.fromData=function(e){var n=this;this.clear(),this._fromData(e,function(e){var t=e.color,e=e.curve;return n._drawCurve({color:t,curve:e})},function(e){var t=e.color,e=e.point;return n._drawDot({color:t,point:e})}),this._data=e},o.prototype.toData=function(){return this._data},o.prototype.fitDataCentered=function(e,t){var n=null,i=null,r=null,o=null,n=(t.forEach(function(e){e.points.forEach(function(e){n=Math.min(n||e.x,e.x),i=Math.min(i||e.y,e.y),r=Math.max(r,e.x),o=Math.max(o,e.y)})}),n-12||0),i=i-12||0,r=r+12||0,o=o+12||0,a=(this.clear(),Math.min(e.width/(r-n),e.height/(o-i))),s=e.width/2-(r-n)/2,u=e.height/2-(o-i)/2,e=t.map(function(e){var t=e.points.map(function(e){return l(l({},e),{x:(e.x-n+s)*a,y:(e.y-i+u)*a})});return l(l({},e),{points:t})});this.fromData(e)},o.prototype.fitData=function(e,t){var n=null,i=null,r=null,o=null,n=(t.forEach(function(e){e.points.forEach(function(e){n=Math.min(n||e.x,e.x),i=Math.min(i||e.y,e.y),r=Math.max(r,e.x),o=Math.max(o,e.y)})}),n-4||0),i=i-4||0,r=r+4||0,o=o+4||0,a=(this.clear(),Math.min(e.width/(r-n),e.height/(o-i))),e=t.map(function(e){var t=e.points.map(function(e){return l(l({},e),{x:(e.x-n)*a,y:(e.y-i)*a})});return l(l({},e),{points:t})});this.fromData(e)},o.prototype._strokeBegin=function(e){var t={color:this.penColor,points:[]};this._data.push(t),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},o.prototype._strokeUpdate=function(e){var t=e.clientX,e=e.clientY,t=this._createPoint(t,e),e=this._data[this._data.length-1],n=e.points,i=0<n.length&&n[n.length-1],r=!!i&&t.distanceTo(i)<=this.minDistance,e=e.color;i&&r||(r=this._addPoint(t),i?r&&this._drawCurve({color:e,curve:r}):this._drawDot({color:e,point:t}),n.push({time:t.time,x:t.x,y:t.y}))},o.prototype._strokeEnd=function(e){this._strokeUpdate(e),"function"==typeof this.onEnd&&this.onEnd(e)},o.prototype._handlePointerEvents=function(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)},o.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},o.prototype._handleTouchEvents=function(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)},o.prototype._reset=function(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},o.prototype._createPoint=function(e,t){var n=this.canvas.getBoundingClientRect(),e=new c.Point(e-n.left,t-n.top,(new Date).getTime());return e.x<0&&(e.x=0),e.x>n.width&&(e.x=n.width),e.y<0&&(e.y=0),e.y>n.height&&(e.y=n.height),e},o.prototype._addPoint=function(e){var t=this._lastPoints;return t.push(e),2<t.length?(3===t.length&&t.unshift(t[0]),e=this._calculateCurveWidths(t[1],t[2]),e=i.Bezier.fromPoints(t,e),t.shift(),e):null},o.prototype._calculateCurveWidths=function(e,t){var t=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,e=this._strokeWidth(t),n={end:e,start:this._lastWidth};return this._lastVelocity=t,this._lastWidth=e,n},o.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},o.prototype._drawCurveSegment=function(e,t,n){var i=this._ctx;i.moveTo(e,t),i.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},o.prototype._drawCurve=function(e){var t=e.color,n=e.curve,e=this._ctx,i=n.endWidth-n.startWidth,r=2*Math.floor(n.length());e.beginPath(),e.fillStyle=t;for(var o=0;o<r;o+=1){var a=o/r,s=a*a,u=s*a,l=1-a,c=l*l,d=c*l,p=d*n.startPoint.x,d=(p=(p=(p+=3*c*a*n.control1.x)+3*l*s*n.control2.x)+u*n.endPoint.x,d*n.startPoint.y),c=(d=(d=(d+=3*c*a*n.control1.y)+3*l*s*n.control2.y)+u*n.endPoint.y,n.startWidth+u*i);this._drawCurveSegment(p,d,c)}e.closePath(),e.fill()},o.prototype._drawDot=function(e){var t=e.color,e=e.point,n=this._ctx,i="function"==typeof this.dotSize?this.dotSize():this.dotSize;n.beginPath(),this._drawCurveSegment(e.x,e.y,i),n.closePath(),n.fillStyle=t,n.fill()},o.prototype._fromData=function(e,t,n){for(var i=0,r=e;i<r.length;i++){var o=r[i],a=o.color,s=o.points;if(1<s.length)for(var u=0;u<s.length;u+=1){var l=s[u],l=new c.Point(l.x,l.y,l.time),l=(this.penColor=a,0===u&&this._reset(),this._addPoint(l));l&&t({color:a,curve:l})}else this._reset(),n({color:a,point:s[0]})}},o.prototype._toSVG=function(){var r=this,e=this._data,t=Math.max(window.devicePixelRatio||1,1),n=this.canvas.width/t,t=this.canvas.height/t,o=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=(o.setAttribute("width",this.canvas.width.toString()),o.setAttribute("height",this.canvas.height.toString()),this._fromData(e,function(e){var t,n=e.color,e=e.curve,i=document.createElement("path");isNaN(e.control1.x)||isNaN(e.control1.y)||isNaN(e.control2.x)||isNaN(e.control2.y)||(t="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3),i.setAttribute("d",t),i.setAttribute("stroke-width",(2.25*e.endWidth).toFixed(3)),i.setAttribute("stroke",n),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),o.appendChild(i))},function(e){var t=e.color,e=e.point,n=document.createElement("circle"),i="function"==typeof r.dotSize?r.dotSize():r.dotSize;n.setAttribute("r",i.toString()),n.setAttribute("cx",e.x.toString()),n.setAttribute("cy",e.y.toString()),n.setAttribute("fill",t),o.appendChild(n)}),'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+n+" "+t+'" width="'+n+'" height="'+t+'">'),n=o.innerHTML;if(void 0===n){var i=document.createElement("dummy"),a=o.childNodes;i.innerHTML="";for(var s=0;s<a.length;s+=1)i.appendChild(a[s].cloneNode(!0));n=i.innerHTML}return"data:image/svg+xml;base64,"+btoa(e+n+"</svg>")},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Bezier=void 0;var l=n(193);function r(e,t,n,i,r,o){this.startPoint=e,this.control2=t,this.control1=n,this.endPoint=i,this.startWidth=r,this.endWidth=o}r.fromPoints=function(e,t){var n=this.calculateControlPoints(e[0],e[1],e[2]).c2,i=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new r(e[1],n,i,e[2],t.start,t.end)},r.calculateControlPoints=function(e,t,n){var i=e.x-t.x,r=e.y-t.y,o=t.x-n.x,a=t.y-n.y,s=(e.x+t.x)/2,e=(e.y+t.y)/2,u=(t.x+n.x)/2,n=(t.y+n.y)/2,i=Math.sqrt(i*i+r*r),r=Math.sqrt(o*o+a*a),o=r/(i+r),a=u+(s-u)*o,i=n+(e-n)*o,r=t.x-a,o=t.y-i;return{c1:new l.Point(s+r,e+o),c2:new l.Point(u+r,n+o)}},r.prototype.length=function(){for(var e,t,n=0,i=0;i<=10;i+=1){var r,o,a=i/10,s=this.point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this.point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);0<i&&(r=s-e,o=a-t,n+=Math.sqrt(r*r+o*o)),e=s,t=a}return n},r.prototype.point=function(e,t,n,i,r){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*i*(1-e)*e*e+r*e*e*e},t.Bezier=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=void 0,t.throttle=function(r,o){function a(){c=Date.now(),d=null,s=r.apply(u,l),d||(u=null,l=[])}void 0===o&&(o=250);var s,u,l,c=0,d=null;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Date.now(),i=o-(n-c);return u=this,l=e,i<=0||o<i?(d&&(clearTimeout(d),d=null),c=n,s=r.apply(u,l),d||(u=null,l=[])):d=d||window.setTimeout(a,i),s}}},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},l=(Object.defineProperty(t,"__esModule",{value:!0}),t.ServicePlupload=void 0,n(115)),c=n(16),d=n(17),p=n(77),f=n(45),h=u(n(15)),m=n(13),u=(r=l.PluploadUpload,o(g,r),g.prototype.getUrl=function(){return"api"==this.target?r.prototype.getUrl.call(this):this.getServiceUrl()},g.prototype.getServiceUrl=function(){return f.Settings.get("service")+"/signature-images/upload"},g.prototype.getUploadParams=function(){return"api"==this.target?{task:this.taskId,v:this.appVersion}:{}},g.prototype.setApiMode=function(){this.target="api",this.token=this.tokenApi,this.uploader&&(this.uploader.stop(),this.uploader.setOption("url",this.getUrl()),this.uploader.setOption("headers",this.getHeaders()),this.uploader.setOption("multipart_params",this.getUploadParams()),this.uploader.start())},g.prototype.configPlupload=function(){r.prototype.configPlupload.call(this),this.uploader&&this.uploader.setOption("max_file_size","6MB")},g.prototype.setServiceMode=function(){var e=c.UserModel.get();if(!e||!e.token)return!1;this.tokenService=e.token,this.target="service",this.token=this.tokenService,this.uploader||this.configPlupload(),this.uploader&&(this.uploader.stop(),this.uploader.setOption("url",this.getUrl()),this.uploader.setOption("headers",this.getHeaders()),this.uploader.setOption("multipart_params",this.getUploadParams()),this.uploader.start())},g.prototype.setServiceOnlyMode=function(){var e=c.UserModel.get();if(!e||!e.token)return!1;this.target="serviceOnly",this.token=e.token,this.uploader&&(this.uploader.stop(),this.uploader.setOption("url",this.getUrl()),this.uploader.setOption("headers",this.getHeaders()),this.uploader.setOption("multipart_params",this.getUploadParams()),this.uploader.start())},g.prototype.fileUploaded=function(e,t){"api"==this.target||"serviceOnly"==this.target?this.optionsManager.fileUploaded(e,t):t.service_filename?this.uploadToApi(t.service_filename,e):(h.configureScope(function(e){e.setExtra("error",t)}),h.captureMessage("[sign] no server_filename on response",m.Severity.Error),this.fatalError("no server_filename present"))},g.prototype.uploadToApi=function(t,n){var i=this;null==(n=void 0===n?null:n)&&(n=d.Tools.randomId(),this.files.addFile(new p.File({id:n,name:t,filename:t}))),this.optionsManager.api.uploadCloudFile(this.taskId,t).then(function(e){e.service_filename=t,i.optionsManager.fileUploaded(n,e)},function(){})},g.prototype.error=function(e){"api"==this.target||"serviceOnly"==this.target?this.optionsManager.invalidUpload(e):(this.setApiMode(),this.reUploadAllFiles()),r.prototype.error.call(this,e)},g.prototype.fatalError=function(e){"api"==this.target||"serviceOnly"==this.target?this.optionsManager.fatalError(e):(this.setApiMode(),this.reUploadAllFiles())},g);function g(e){e=r.call(this,e)||this;return e.target=e.target||"api",e.chunkSize=!1,e}t.ServicePlupload=u},function(e,t,n){"use strict";function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.FileTools=void 0,o.getMimetype=function(e){switch(e){case"3C3F786D":case"3C737667":return"image/svg+xml";case"89504E47":return"image/png";case"47494638":return"image/gif";case"25504446":return"application/pdf";case"FFD8FFDB":case"FFD8FFE0":case"FFD8FFE1":return"image/jpeg";case"504B0304":return"application/zip";case"38425053":return"application/psd";default:return"Unknown filetype"}},o.getMimeTypeFromBlob=function(r){return new Promise(function(n,t){var e=new FileReader,i=(e.onloadend=function(e){var t;e.target.readyState===FileReader.DONE&&(e=new Uint8Array(e.target.result),t=[],e.forEach(function(e){t.push(e.toString(16))}),e=t.join("").toUpperCase(),n(o.getMimetype(e)))},e.onerror=function(e){t(e)},r.slice(0,4));e.readAsArrayBuffer(i)})},o.getMimeTypeFromSource=function(e){return new Promise(function(n,i){var r=new FileReader;r.onload=function(e){var t=new Uint8Array(r.result),t=new Blob([t]);o.getMimeTypeFromBlob(t).then(function(e){n(e)},function(e){i(e)})},r.onerror=function(e){i(e)},r.readAsArrayBuffer(e)})},o.dataURLtoFile=function(e,t){try{for(var n=e.split(","),i=n[0].match(/:(.*?);/)[1],r=atob(n[1]),o=r.length,a=new Uint8Array(o);o--;)a[o]=r.charCodeAt(o);return new File([a],t,{type:i})}catch(e){return null}},t.FileTools=o},,,,,,,,,,,,,,,,,function(e,t,n){e.exports=function(s,u){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function t(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}function r(e,t,n){if(t in e)Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true});else e[t]=n;return e}function a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var i=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function")i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}));i.forEach(function(e){r(t,e,n[e])})}return t}s=s&&s.hasOwnProperty("default")?s["default"]:s,u=u&&u.hasOwnProperty("default")?u["default"]:u;var n="modal",o="4.2.1",l="bs.modal",c="."+l,e,d=s.fn[n],p=27,f={backdrop:true,keyboard:true,focus:true,show:true},h={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},m={HIDE:"hide"+c,HIDDEN:"hidden"+c,SHOW:"show"+c,SHOWN:"shown"+c,FOCUSIN:"focusin"+c,RESIZE:"resize"+c,CLICK_DISMISS:"click.dismiss"+c,KEYDOWN_DISMISS:"keydown.dismiss"+c,MOUSEUP_DISMISS:"mouseup.dismiss"+c,MOUSEDOWN_DISMISS:"mousedown.dismiss"+c,CLICK_DATA_API:"click"+c+".data-api"},g={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},v={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},y=function(){function r(e,t){this._config=this._getConfig(t);this._element=e;this._dialog=e.querySelector(v.DIALOG);this._backdrop=null;this._isShown=false;this._isBodyOverflowing=false;this._ignoreBackdropClick=false;this._isTransitioning=false;this._scrollbarWidth=0}var e=r.prototype;e.toggle=function e(t){return this._isShown?this.hide():this.show(t)};e.show=function e(t){var n=this;if(this._isShown||this._isTransitioning)return;if(s(this._element).hasClass(g.FADE))this._isTransitioning=true;var i=s.Event(m.SHOW,{relatedTarget:t});s(this._element).trigger(i);if(this._isShown||i.isDefaultPrevented())return;this._isShown=true;this._checkScrollbar();this._setScrollbar();this._adjustDialog();this._setEscapeEvent();this._setResizeEvent();s(this._element).on(m.CLICK_DISMISS,v.DATA_DISMISS,function(e){return n.hide(e)});s(this._dialog).on(m.MOUSEDOWN_DISMISS,function(){s(n._element).one(m.MOUSEUP_DISMISS,function(e){if(s(e.target).is(n._element))n._ignoreBackdropClick=true})});this._showBackdrop(function(){return n._showElement(t)})};e.hide=function e(t){var n=this;if(t)t.preventDefault();if(!this._isShown||this._isTransitioning)return;var i=s.Event(m.HIDE);s(this._element).trigger(i);if(!this._isShown||i.isDefaultPrevented())return;this._isShown=false;var r=s(this._element).hasClass(g.FADE);if(r)this._isTransitioning=true;this._setEscapeEvent();this._setResizeEvent();s(document).off(m.FOCUSIN);s(this._element).removeClass(g.SHOW);s(this._element).off(m.CLICK_DISMISS);s(this._dialog).off(m.MOUSEDOWN_DISMISS);if(r){var o=u.getTransitionDurationFromElement(this._element);s(this._element).one(u.TRANSITION_END,function(e){return n._hideModal(e)}).emulateTransitionEnd(o)}else this._hideModal()};e.dispose=function e(){[window,this._element,this._dialog].forEach(function(e){return s(e).off(c)});s(document).off(m.FOCUSIN);s.removeData(this._element,l);this._config=null;this._element=null;this._dialog=null;this._backdrop=null;this._isShown=null;this._isBodyOverflowing=null;this._ignoreBackdropClick=null;this._isTransitioning=null;this._scrollbarWidth=null};e.handleUpdate=function e(){this._adjustDialog()};e._getConfig=function e(t){t=a({},f,t);u.typeCheckConfig(n,t,h);return t};e._showElement=function e(t){var n=this;var i=s(this._element).hasClass(g.FADE);if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)document.body.appendChild(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.setAttribute("aria-modal",true);this._element.scrollTop=0;if(i)u.reflow(this._element);s(this._element).addClass(g.SHOW);if(this._config.focus)this._enforceFocus();var r=s.Event(m.SHOWN,{relatedTarget:t});var o=function e(){if(n._config.focus)n._element.focus();n._isTransitioning=false;s(n._element).trigger(r)};if(i){var a=u.getTransitionDurationFromElement(this._dialog);s(this._dialog).one(u.TRANSITION_END,o).emulateTransitionEnd(a)}else o()};e._enforceFocus=function e(){var t=this;s(document).off(m.FOCUSIN).on(m.FOCUSIN,function(e){if(document!==e.target&&t._element!==e.target&&s(t._element).has(e.target).length===0)t._element.focus()})};e._setEscapeEvent=function e(){var t=this;if(this._isShown&&this._config.keyboard)s(this._element).on(m.KEYDOWN_DISMISS,function(e){if(e.which===p){e.preventDefault();t.hide()}});else if(!this._isShown)s(this._element).off(m.KEYDOWN_DISMISS)};e._setResizeEvent=function e(){var t=this;if(this._isShown)s(window).on(m.RESIZE,function(e){return t.handleUpdate(e)});else s(window).off(m.RESIZE)};e._hideModal=function e(){var t=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",true);this._element.removeAttribute("aria-modal");this._isTransitioning=false;this._showBackdrop(function(){s(document.body).removeClass(g.OPEN);t._resetAdjustments();t._resetScrollbar();s(t._element).trigger(m.HIDDEN)})};e._removeBackdrop=function e(){if(this._backdrop){s(this._backdrop).remove();this._backdrop=null}};e._showBackdrop=function e(t){var n=this;var i=s(this._element).hasClass(g.FADE)?g.FADE:"";if(this._isShown&&this._config.backdrop){this._backdrop=document.createElement("div");this._backdrop.className=g.BACKDROP;if(i)this._backdrop.classList.add(i);s(this._backdrop).appendTo(document.body);s(this._element).on(m.CLICK_DISMISS,function(e){if(n._ignoreBackdropClick){n._ignoreBackdropClick=false;return}if(e.target!==e.currentTarget)return;if(n._config.backdrop==="static")n._element.focus();else n.hide()});if(i)u.reflow(this._backdrop);s(this._backdrop).addClass(g.SHOW);if(!t)return;if(!i){t();return}var r=u.getTransitionDurationFromElement(this._backdrop);s(this._backdrop).one(u.TRANSITION_END,t).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){s(this._backdrop).removeClass(g.SHOW);var o=function e(){n._removeBackdrop();if(t)t()};if(s(this._element).hasClass(g.FADE)){var a=u.getTransitionDurationFromElement(this._backdrop);s(this._backdrop).one(u.TRANSITION_END,o).emulateTransitionEnd(a)}else o()}else if(t)t()};e._adjustDialog=function e(){var t=this._element.scrollHeight>document.documentElement.clientHeight;if(!this._isBodyOverflowing&&t)this._element.style.paddingLeft=this._scrollbarWidth+"px";if(this._isBodyOverflowing&&!t)this._element.style.paddingRight=this._scrollbarWidth+"px"};e._resetAdjustments=function e(){this._element.style.paddingLeft="";this._element.style.paddingRight=""};e._checkScrollbar=function e(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()};e._setScrollbar=function e(){var r=this;if(this._isBodyOverflowing){var t=[].slice.call(document.querySelectorAll(v.FIXED_CONTENT));var n=[].slice.call(document.querySelectorAll(v.STICKY_CONTENT));s(t).each(function(e,t){var n=t.style.paddingRight;var i=s(t).css("padding-right");s(t).data("padding-right",n).css("padding-right",parseFloat(i)+r._scrollbarWidth+"px")});s(n).each(function(e,t){var n=t.style.marginRight;var i=s(t).css("margin-right");s(t).data("margin-right",n).css("margin-right",parseFloat(i)-r._scrollbarWidth+"px")});var i=document.body.style.paddingRight;var o=s(document.body).css("padding-right");s(document.body).data("padding-right",i).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}s(document.body).addClass(g.OPEN)};e._resetScrollbar=function e(){var t=[].slice.call(document.querySelectorAll(v.FIXED_CONTENT));s(t).each(function(e,t){var n=s(t).data("padding-right");s(t).removeData("padding-right");t.style.paddingRight=n?n:""});var n=[].slice.call(document.querySelectorAll(""+v.STICKY_CONTENT));s(n).each(function(e,t){var n=s(t).data("margin-right");if(typeof n!=="undefined")s(t).css("margin-right",n).removeData("margin-right")});var i=s(document.body).data("padding-right");s(document.body).removeData("padding-right");document.body.style.paddingRight=i?i:""};e._getScrollbarWidth=function e(){var t=document.createElement("div");t.className=g.SCROLLBAR_MEASURER;document.body.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;document.body.removeChild(t);return n};r._jQueryInterface=function e(n,i){return this.each(function(){var e=s(this).data(l);var t=a({},f,s(this).data(),typeof n==="object"&&n?n:{});if(!e){e=new r(this,t);s(this).data(l,e)}if(typeof n==="string"){if(typeof e[n]==="undefined")throw new TypeError('No method named "'+n+'"');e[n](i)}else if(t.show)e.show(i)})};t(r,null,[{key:"VERSION",get:function e(){return o}},{key:"Default",get:function e(){return f}}]);return r}();return s(document).on(m.CLICK_DATA_API,v.DATA_TOGGLE,function(e){var t=this;var n;var i=u.getSelectorFromElement(this);if(i)n=document.querySelector(i);var r=s(n).data(l)?"toggle":a({},s(n).data(),s(this).data());if(this.tagName==="A"||this.tagName==="AREA")e.preventDefault();var o=s(n).one(m.SHOW,function(e){if(e.isDefaultPrevented())return;o.one(m.HIDDEN,function(){if(s(t).is(":visible"))t.focus()})});y._jQueryInterface.call(s(n),r,this)}),s.fn[n]=y._jQueryInterface,s.fn[n].Constructor=y,s.fn[n].noConflict=function(){s.fn[n]=d;return y._jQueryInterface},y}(n(1),n(181))},function(e,t,n){"use strict";!function(o){function e(e){this.name=e,this._dom=this.buildModal(),this.reset()}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmModal=void 0,e.prototype.setHeaderTitle=function(e){this.dom.find(".modal-header .title").html(e)},e.prototype.setBodyTitle=function(e){this.dom.find(".modal-body .modalConfirm__title").html(e)},e.prototype.setBodySubtitle=function(e){this.dom.find(".modal-body .modalConfirm__subtitle").html(e)},e.prototype.show=function(){this.reset(),this.dom.modal("show")},e.prototype.hide=function(){this.dom.modal("hide")},e.prototype.reset=function(){this.setState("default")},e.prototype.setState=function(e,t){void 0===t&&(t={}),this.dom.attr("data-state",e),"error"===e&&t.message&&this.setErrorMessage(t.message)},e.prototype.setErrorMessage=function(e){this.dom.find(".modal-body .confirmModal__error").html(e)},e.prototype.defaultNoCallback=function(){this.hide()},Object.defineProperty(e.prototype,"onYes",{get:function(){return this._onYes},set:function(e){this._onYes=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onNo",{get:function(){return this._onNo||this.defaultNoCallback},set:function(e){this._onNo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dom",{get:function(){return this._dom},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yesBtn",{get:function(){return this.dom.find(".btn__yes")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noBtn",{get:function(){return this.dom.find(".btn__no")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cancelBtn",{get:function(){return this.dom.find(".btn__cancel")},enumerable:!1,configurable:!0}),e.prototype.buildModal=function(){var e=this,t="confirmModal-template[data-template-name='"+this.name+"']",t=o(o("."+t).html()),n=(t.length,this._dom=t,this.yesBtn),i=this.noBtn,r=this.cancelBtn;return n.click(function(){if(!e.onYes)throw"You need to specify a onYes callback action";e.onYes.call(e,e)}),i.click(function(){return e.onNo.call(e,e)}),r.click(function(){e.hide()}),t},t.ConfirmModal=e}.call(this,n(1))},function(e,t,n){!function(e){function O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);u=!0);}catch(e){l=!0,r=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){P(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function P(e,t,n){(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}function r(e){e=function(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==k(e)?e:e+""}function $(e,t){var n;if(e)return"string"==typeof e?o(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var t;t=function(){return function(){function e(t,n,i,r){if(n&&"object"===k(n)||"function"==typeof n){var o,a=function(e,t){var n,i,r,o,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return i=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){i=!0,r=e},f:function(){try{n||null==a.return||a.return()}finally{if(i)throw r}}};if(Array.isArray(e)||(a=$(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(l(n));try{for(a.s();!(o=a.n()).done;)!function(){var e=o.value;c.call(t,e)||e===i||s(t,e,{get:function(){return n[e]},enumerable:!(r=u(n,e))||r.enumerable})}()}catch(e){a.e(e)}finally{a.f()}}return t}var t,s=Object.defineProperty,u=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,n={},i=n,r={Iti:function(){return A},default:function(){return x}};for(t in r)s(i,t,{get:r[t],enumerable:!0});for(var o=[["af","93"],["al","355"],["dz","213"],["as","1",5,["684"]],["ad","376"],["ao","244"],["ai","1",6,["264"]],["ag","1",7,["268"]],["ar","54"],["am","374"],["aw","297"],["ac","247"],["au","61",0],["at","43"],["az","994"],["bs","1",8,["242"]],["bh","973"],["bd","880"],["bb","1",9,["246"]],["by","375"],["be","32"],["bz","501"],["bj","229"],["bm","1",10,["441"]],["bt","975"],["bo","591"],["ba","387"],["bw","267"],["br","55"],["io","246"],["vg","1",11,["284"]],["bn","673"],["bg","359"],["bf","226"],["bi","257"],["kh","855"],["cm","237"],["ca","1",1,["204","226","236","249","250","263","289","306","343","354","365","367","368","382","387","403","416","418","428","431","437","438","450","584","468","474","506","514","519","548","579","581","584","587","604","613","639","647","672","683","705","709","742","753","778","780","782","807","819","825","867","873","879","902","905"]],["cv","238"],["bq","599",1,["3","4","7"]],["ky","1",12,["345"]],["cf","236"],["td","235"],["cl","56"],["cn","86"],["cx","61",2,["89164"]],["cc","61",1,["89162"]],["co","57"],["km","269"],["cg","242"],["cd","243"],["ck","682"],["cr","506"],["ci","225"],["hr","385"],["cu","53"],["cw","599",0],["cy","357"],["cz","420"],["dk","45"],["dj","253"],["dm","1",13,["767"]],["do","1",2,["809","829","849"]],["ec","593"],["eg","20"],["sv","503"],["gq","240"],["er","291"],["ee","372"],["sz","268"],["et","251"],["fk","500"],["fo","298"],["fj","679"],["fi","358",0],["fr","33"],["gf","594"],["pf","689"],["ga","241"],["gm","220"],["ge","995"],["de","49"],["gh","233"],["gi","350"],["gr","30"],["gl","299"],["gd","1",14,["473"]],["gp","590",0],["gu","1",15,["671"]],["gt","502"],["gg","44",1,["1481","7781","7839","7911"]],["gn","224"],["gw","245"],["gy","592"],["ht","509"],["hn","504"],["hk","852"],["hu","36"],["is","354"],["in","91"],["id","62"],["ir","98"],["iq","964"],["ie","353"],["im","44",2,["1624","74576","7524","7924","7624"]],["il","972"],["it","39",0],["jm","1",4,["876","658"]],["jp","81"],["je","44",3,["1534","7509","7700","7797","7829","7937"]],["jo","962"],["kz","7",1,["33","7"]],["ke","254"],["ki","686"],["xk","383"],["kw","965"],["kg","996"],["la","856"],["lv","371"],["lb","961"],["ls","266"],["lr","231"],["ly","218"],["li","423"],["lt","370"],["lu","352"],["mo","853"],["mg","261"],["mw","265"],["my","60"],["mv","960"],["ml","223"],["mt","356"],["mh","692"],["mq","596"],["mr","222"],["mu","230"],["yt","262",1,["269","639"]],["mx","52"],["fm","691"],["md","373"],["mc","377"],["mn","976"],["me","382"],["ms","1",16,["664"]],["ma","212",0],["mz","258"],["mm","95"],["na","264"],["nr","674"],["np","977"],["nl","31"],["nc","687"],["nz","64"],["ni","505"],["ne","227"],["ng","234"],["nu","683"],["nf","672"],["kp","850"],["mk","389"],["mp","1",17,["670"]],["no","47",0],["om","968"],["pk","92"],["pw","680"],["ps","970"],["pa","507"],["pg","675"],["py","595"],["pe","51"],["ph","63"],["pl","48"],["pt","351"],["pr","1",3,["787","939"]],["qa","974"],["re","262",0],["ro","40"],["ru","7",0],["rw","250"],["ws","685"],["sm","378"],["st","239"],["sa","966"],["sn","221"],["rs","381"],["sc","248"],["sl","232"],["sg","65"],["sx","1",21,["721"]],["sk","421"],["si","386"],["sb","677"],["so","252"],["za","27"],["kr","82"],["ss","211"],["es","34"],["lk","94"],["bl","590",1],["sh","290"],["kn","1",18,["869"]],["lc","1",19,["758"]],["mf","590",2],["pm","508"],["vc","1",20,["784"]],["sd","249"],["sr","597"],["sj","47",1,["79"]],["se","46"],["ch","41"],["sy","963"],["tw","886"],["tj","992"],["tz","255"],["th","66"],["tl","670"],["tg","228"],["tk","690"],["to","676"],["tt","1",22,["868"]],["tn","216"],["tr","90"],["tm","993"],["tc","1",23,["649"]],["tv","688"],["ug","256"],["ua","380"],["ae","971"],["gb","44",0],["us","1",0],["uy","598"],["vi","1",24,["340"]],["uz","998"],["vu","678"],["va","39",1,["06698"]],["ve","58"],["vn","84"],["wf","681"],["eh","212",1,["5288","5289"]],["ye","967"],["zm","260"],["zw","263"],["ax","358",1,["18"]]],a=[],d=0;d<o.length;d++){var p=o[d];a[d]={name:"",iso2:p[0],dialCode:p[1],priority:p[2]||0,areaCodes:p[3]||null,nodeById:{}}}function f(e){return e.replace(/\D/g,"")}function h(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}function m(e){return"1"===(e=f(e)).charAt(0)&&(e=e.substr(1,3),-1!==C.indexOf(e))}function g(e,t){return e.name<t.name?-1:e.name>t.name?1:0}function v(e,t,n){var i=document.createElement(e);return t&&Object.entries(t).forEach(function(e){var e=T(e,2),t=e[0],e=e[1];return i.setAttribute(t,e)}),n&&n.appendChild(i),i}function y(o){return window.intlTelInputUtils||window.intlTelInputGlobals.startedLoadingUtilsScript?null:(window.intlTelInputGlobals.startedLoadingUtilsScript=!0,new Promise(function(e,t){return n=o,i=e,r=t,(e=document.createElement("script")).onload=function(){D("handleUtils"),i&&i()},e.onerror=function(){D("rejectUtilsScriptPromise"),r&&r()},e.className="iti-load-utils",e.async=!0,e.src=n,void document.body.appendChild(e);var n,i,r}))}var b,_=a,w=I(I({},{af:"Afghanistan",ax:"Åland Islands",al:"Albania",dz:"Algeria",as:"American Samoa",ad:"Andorra",ao:"Angola",ai:"Anguilla",aq:"Antarctica",ag:"Antigua & Barbuda",ar:"Argentina",am:"Armenia",aw:"Aruba",au:"Australia",at:"Austria",az:"Azerbaijan",bs:"Bahamas",bh:"Bahrain",bd:"Bangladesh",bb:"Barbados",by:"Belarus",be:"Belgium",bz:"Belize",bj:"Benin",bm:"Bermuda",bt:"Bhutan",bo:"Bolivia",ba:"Bosnia & Herzegovina",bw:"Botswana",bv:"Bouvet Island",br:"Brazil",io:"British Indian Ocean Territory",vg:"British Virgin Islands",bn:"Brunei",bg:"Bulgaria",bf:"Burkina Faso",bi:"Burundi",kh:"Cambodia",cm:"Cameroon",ca:"Canada",cv:"Cape Verde",bq:"Caribbean Netherlands",ky:"Cayman Islands",cf:"Central African Republic",td:"Chad",cl:"Chile",cn:"China",cx:"Christmas Island",cc:"Cocos (Keeling) Islands",co:"Colombia",km:"Comoros",cg:"Congo - Brazzaville",cd:"Congo - Kinshasa",ck:"Cook Islands",cr:"Costa Rica",ci:"Côte d’Ivoire",hr:"Croatia",cu:"Cuba",cw:"Curaçao",cy:"Cyprus",cz:"Czechia",dk:"Denmark",dj:"Djibouti",dm:"Dominica",do:"Dominican Republic",ec:"Ecuador",eg:"Egypt",sv:"El Salvador",gq:"Equatorial Guinea",er:"Eritrea",ee:"Estonia",sz:"Eswatini",et:"Ethiopia",fk:"Falkland Islands",fo:"Faroe Islands",fj:"Fiji",fi:"Finland",fr:"France",gf:"French Guiana",pf:"French Polynesia",tf:"French Southern Territories",ga:"Gabon",gm:"Gambia",ge:"Georgia",de:"Germany",gh:"Ghana",gi:"Gibraltar",gr:"Greece",gl:"Greenland",gd:"Grenada",gp:"Guadeloupe",gu:"Guam",gt:"Guatemala",gg:"Guernsey",gn:"Guinea",gw:"Guinea-Bissau",gy:"Guyana",ht:"Haiti",hm:"Heard & McDonald Islands",hn:"Honduras",hk:"Hong Kong SAR China",hu:"Hungary",is:"Iceland",in:"India",id:"Indonesia",ir:"Iran",iq:"Iraq",ie:"Ireland",im:"Isle of Man",il:"Israel",it:"Italy",jm:"Jamaica",jp:"Japan",je:"Jersey",jo:"Jordan",kz:"Kazakhstan",ke:"Kenya",ki:"Kiribati",kw:"Kuwait",kg:"Kyrgyzstan",la:"Laos",lv:"Latvia",lb:"Lebanon",ls:"Lesotho",lr:"Liberia",ly:"Libya",li:"Liechtenstein",lt:"Lithuania",lu:"Luxembourg",mo:"Macao SAR China",mg:"Madagascar",mw:"Malawi",my:"Malaysia",mv:"Maldives",ml:"Mali",mt:"Malta",mh:"Marshall Islands",mq:"Martinique",mr:"Mauritania",mu:"Mauritius",yt:"Mayotte",mx:"Mexico",fm:"Micronesia",md:"Moldova",mc:"Monaco",mn:"Mongolia",me:"Montenegro",ms:"Montserrat",ma:"Morocco",mz:"Mozambique",mm:"Myanmar (Burma)",na:"Namibia",nr:"Nauru",np:"Nepal",nl:"Netherlands",nc:"New Caledonia",nz:"New Zealand",ni:"Nicaragua",ne:"Niger",ng:"Nigeria",nu:"Niue",nf:"Norfolk Island",kp:"North Korea",mk:"North Macedonia",mp:"Northern Mariana Islands",no:"Norway",om:"Oman",pk:"Pakistan",pw:"Palau",ps:"Palestinian Territories",pa:"Panama",pg:"Papua New Guinea",py:"Paraguay",pe:"Peru",ph:"Philippines",pn:"Pitcairn Islands",pl:"Poland",pt:"Portugal",pr:"Puerto Rico",qa:"Qatar",re:"Réunion",ro:"Romania",ru:"Russia",rw:"Rwanda",ws:"Samoa",sm:"San Marino",st:"São Tomé & Príncipe",sa:"Saudi Arabia",sn:"Senegal",rs:"Serbia",sc:"Seychelles",sl:"Sierra Leone",sg:"Singapore",sx:"Sint Maarten",sk:"Slovakia",si:"Slovenia",sb:"Solomon Islands",so:"Somalia",za:"South Africa",gs:"South Georgia & South Sandwich Islands",kr:"South Korea",ss:"South Sudan",es:"Spain",lk:"Sri Lanka",bl:"St. Barthélemy",sh:"St. Helena",kn:"St. Kitts & Nevis",lc:"St. Lucia",mf:"St. Martin",pm:"St. Pierre & Miquelon",vc:"St. Vincent & Grenadines",sd:"Sudan",sr:"Suriname",sj:"Svalbard & Jan Mayen",se:"Sweden",ch:"Switzerland",sy:"Syria",tw:"Taiwan",tj:"Tajikistan",tz:"Tanzania",th:"Thailand",tl:"Timor-Leste",tg:"Togo",tk:"Tokelau",to:"Tonga",tt:"Trinidad & Tobago",tn:"Tunisia",tr:"Turkey",tm:"Turkmenistan",tc:"Turks & Caicos Islands",tv:"Tuvalu",um:"U.S. Outlying Islands",vi:"U.S. Virgin Islands",ug:"Uganda",ua:"Ukraine",ae:"United Arab Emirates",gb:"United Kingdom",us:"United States",uy:"Uruguay",uz:"Uzbekistan",vu:"Vanuatu",va:"Vatican City",ve:"Venezuela",vn:"Vietnam",wf:"Wallis & Futuna",eh:"Western Sahara",ye:"Yemen",zm:"Zambia",zw:"Zimbabwe"}),{selectedCountryAriaLabel:"Selected country",noCountrySelected:"No country selected",countryListAriaLabel:"List of countries",searchPlaceholder:"Search",zeroSearchResults:"No results found",oneSearchResult:"1 result found",multipleSearchResults:"${count} results found",ac:"Ascension Island",xk:"Kosovo"}),E=0,S={allowDropdown:!0,autoPlaceholder:"polite",countrySearch:!0,containerClass:"",customPlaceholder:null,dropdownContainer:null,excludeCountries:[],fixDropdownWidth:!0,formatAsYouType:!0,formatOnDisplay:!0,geoIpLookup:null,hiddenInput:null,i18n:{},initialCountry:"",nationalMode:!0,onlyCountries:[],placeholderNumberType:"MOBILE",preferredCountries:[],showFlags:!0,showSelectedDialCode:!1,strictMode:!1,useFullscreenPopup:"undefined"!=typeof navigator&&"undefined"!=typeof window&&(/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=500),utilsScript:""},C=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"],D=function(t){var e=window.intlTelInputGlobals.instances;Object.values(e).forEach(function(e){return e[t]()})},A=function(){return e=function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this,r=e;if(!(i instanceof r))throw new TypeError("Cannot call a class as a function");P(this,"id",void 0),P(this,"promise",void 0),P(this,"telInput",void 0),P(this,"activeItem",void 0),P(this,"highlightedItem",void 0),P(this,"options",void 0),P(this,"hadInitialPlaceholder",void 0),P(this,"isRTL",void 0),P(this,"selectedCountryData",void 0),P(this,"countries",void 0),P(this,"dialCodeMaxLen",void 0),P(this,"dialCodeToIso2Map",void 0),P(this,"dialCodes",void 0),P(this,"preferredCountries",void 0),P(this,"countryContainer",void 0),P(this,"selectedCountry",void 0),P(this,"selectedCountryInner",void 0),P(this,"selectedCountryA11yText",void 0),P(this,"selectedDialCode",void 0),P(this,"dropdownArrow",void 0),P(this,"dropdownContent",void 0),P(this,"searchInput",void 0),P(this,"searchResultsA11yText",void 0),P(this,"countryList",void 0),P(this,"dropdown",void 0),P(this,"hiddenInput",void 0),P(this,"hiddenInputCountry",void 0),P(this,"maxCoreNumberLength",void 0),P(this,"defaultCountry",void 0),P(this,"_handleHiddenInputSubmit",void 0),P(this,"_handleLabelClick",void 0),P(this,"_handleClickSelectedCountry",void 0),P(this,"_handleCountryContainerKeydown",void 0),P(this,"_handleInputEvent",void 0),P(this,"_handleKeydownEvent",void 0),P(this,"_handleWindowScroll",void 0),P(this,"_handleMouseoverCountryList",void 0),P(this,"_handleClickCountryList",void 0),P(this,"_handleClickOffToClose",void 0),P(this,"_handleKeydownOnDropdown",void 0),P(this,"_handleSearchChange",void 0),P(this,"resolveAutoCountryPromise",void 0),P(this,"rejectAutoCountryPromise",void 0),P(this,"resolveUtilsScriptPromise",void 0),P(this,"rejectUtilsScriptPromise",void 0),this.id=E++,this.telInput=t,this.activeItem=null,this.highlightedItem=null,this.options=Object.assign({},S,n),this.hadInitialPlaceholder=Boolean(t.getAttribute("placeholder"))},(t=[{key:"_init",value:function(){var n=this,e=(this.options.useFullscreenPopup&&(this.options.fixDropdownWidth=!1),this.options.countrySearch&&!this.options.useFullscreenPopup&&(this.options.fixDropdownWidth=!0),this.options.allowDropdown&&!this.options.showSelectedDialCode),e=(!this.options.showFlags&&e&&(this.options.showFlags=!0),this.options.useFullscreenPopup&&!this.options.dropdownContainer&&(this.options.dropdownContainer=document.body),this.isRTL=!!this.telInput.closest("[dir=rtl]"),this.options.i18n=I(I({},w),this.options.i18n),new Promise(function(e,t){n.resolveAutoCountryPromise=e,n.rejectAutoCountryPromise=t})),t=new Promise(function(e,t){n.resolveUtilsScriptPromise=e,n.rejectUtilsScriptPromise=t});this.promise=Promise.all([e,t]),this.selectedCountryData={},this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners(),this._initRequests()}},{key:"_processCountryData",value:function(){this._processAllCountries(),this._processDialCodes(),this._processPreferredCountries(),this._translateCountryNames(),(this.options.onlyCountries.length||this.options.i18n)&&this.countries.sort(g)}},{key:"_addToDialCodeMap",value:function(e,t,n){t.length>this.dialCodeMaxLen&&(this.dialCodeMaxLen=t.length),this.dialCodeToIso2Map.hasOwnProperty(t)||(this.dialCodeToIso2Map[t]=[]);for(var i=0;i<this.dialCodeToIso2Map[t].length;i++)if(this.dialCodeToIso2Map[t][i]===e)return;n=void 0!==n?n:this.dialCodeToIso2Map[t].length;this.dialCodeToIso2Map[t][n]=e}},{key:"_processAllCountries",value:function(){var t,n,e=this.options,i=e.onlyCountries,e=e.excludeCountries;i.length?(t=i.map(function(e){return e.toLowerCase()}),this.countries=_.filter(function(e){return-1<t.indexOf(e.iso2)})):e.length?(n=e.map(function(e){return e.toLowerCase()}),this.countries=_.filter(function(e){return-1===n.indexOf(e.iso2)})):this.countries=_}},{key:"_translateCountryNames",value:function(){for(var e=0;e<this.countries.length;e++){var t=this.countries[e].iso2.toLowerCase();this.options.i18n.hasOwnProperty(t)&&(this.countries[e].name=this.options.i18n[t])}}},{key:"_processDialCodes",value:function(){this.dialCodes={},this.dialCodeMaxLen=0,this.dialCodeToIso2Map={};for(var e=0;e<this.countries.length;e++){var t=this.countries[e];this.dialCodes[t.dialCode]||(this.dialCodes[t.dialCode]=!0),this._addToDialCodeMap(t.iso2,t.dialCode,t.priority)}for(var n=0;n<this.countries.length;n++){var i=this.countries[n];if(i.areaCodes)for(var r=this.dialCodeToIso2Map[i.dialCode][0],o=0;o<i.areaCodes.length;o++){for(var a=i.areaCodes[o],s=1;s<a.length;s++){var u=i.dialCode+a.substr(0,s);this._addToDialCodeMap(r,u),this._addToDialCodeMap(i.iso2,u)}this._addToDialCodeMap(i.iso2,i.dialCode+a)}}}},{key:"_processPreferredCountries",value:function(){this.preferredCountries=[];for(var e=0;e<this.options.preferredCountries.length;e++){var t=this.options.preferredCountries[e].toLowerCase(),t=this._getCountryData(t,!0);t&&this.preferredCountries.push(t)}}},{key:"_generateMarkup",value:function(){this.telInput.classList.add("iti__tel-input"),this.telInput.hasAttribute("autocomplete")||this.telInput.form&&this.telInput.form.hasAttribute("autocomplete")||this.telInput.setAttribute("autocomplete","off");var e=this.options,t=e.allowDropdown,n=e.showSelectedDialCode,i=e.showFlags,r=e.containerClass,o=e.hiddenInput,a=e.dropdownContainer,s=e.fixDropdownWidth,u=e.useFullscreenPopup,l=e.countrySearch,e=e.i18n,c="iti",r=(t&&(c+=" iti--allow-dropdown"),n&&(c+=" iti--show-selected-dial-code"),i&&(c+=" iti--show-flags"),r&&(c+=" ".concat(r)),u||(c+=" iti--inline-dropdown"),v("div",{class:c}));null!=(c=this.telInput.parentNode)&&c.insertBefore(r,this.telInput),(i||n)&&(this.countryContainer=v("div",{class:"iti__country-container"},r),this.selectedCountry=v("button",I({type:"button",class:"iti__selected-country"},t&&I({"aria-expanded":"false","aria-label":this.options.i18n.selectedCountryAriaLabel,"aria-haspopup":l?"true":"listbox","aria-controls":"iti-".concat(this.id,l?"__dropdown-content":"__country-listbox")},l?{role:"combobox"}:{})),this.countryContainer),this.selectedCountryInner=v("div",null,this.selectedCountry),this.selectedCountryA11yText=v("span",{class:"iti__a11y-text"},this.selectedCountryInner)),r.appendChild(this.telInput),this.selectedCountry&&this.telInput.disabled&&this.selectedCountry.setAttribute("aria-disabled","true"),n&&(this.selectedDialCode=v("div",{class:"iti__selected-dial-code"},this.selectedCountry)),t&&(this.telInput.disabled||this.selectedCountry.setAttribute("tabindex","0"),this.dropdownArrow=v("div",{class:"iti__arrow","aria-hidden":"true"},this.selectedCountry),c=s?"":"iti--flexible-dropdown-width",this.dropdownContent=v("div",{id:"iti-".concat(this.id,"__dropdown-content"),class:"iti__dropdown-content iti__hide ".concat(c)}),l&&(this.searchInput=v("input",{type:"text",class:"iti__search-input",placeholder:e.searchPlaceholder,role:"combobox","aria-expanded":"true","aria-label":e.searchPlaceholder,"aria-controls":"iti-".concat(this.id,"__country-listbox"),"aria-autocomplete":"list",autocomplete:"off"},this.dropdownContent),this.searchResultsA11yText=v("span",{class:"iti__a11y-text"},this.dropdownContent)),this.countryList=v("ul",{class:"iti__country-list",id:"iti-".concat(this.id,"__country-listbox"),role:"listbox","aria-label":e.countryListAriaLabel},this.dropdownContent),this.preferredCountries.length&&!l&&(this._appendListItems(this.preferredCountries,"iti__preferred",!0),v("li",{class:"iti__divider","aria-hidden":"true"},this.countryList)),this._appendListItems(this.countries,"iti__standard"),l&&this._updateSearchResultsText(),(a?(i="iti iti--container",i+=u?" iti--fullscreen-popup":" iti--inline-dropdown",l&&(i+=" iti--country-search"),this.dropdown=v("div",{class:i}),this.dropdown):this.countryContainer).appendChild(this.dropdownContent)),o&&((n=o(this.telInput.getAttribute("name")||"")).phone&&(this.hiddenInput=v("input",{type:"hidden",name:n.phone}),r.appendChild(this.hiddenInput)),n.country)&&(this.hiddenInputCountry=v("input",{type:"hidden",name:n.country}),r.appendChild(this.hiddenInputCountry))}},{key:"_appendListItems",value:function(e,t,n){for(var i=0;i<e.length;i++){var r=e[i],o=n?"-preferred":"",o=v("li",{id:"iti-".concat(this.id,"__item-").concat(r.iso2).concat(o),class:"iti__country ".concat(t),tabindex:"-1",role:"option","data-dial-code":r.dialCode,"data-country-code":r.iso2,"aria-selected":"false"},this.countryList),a=(r.nodeById[this.id]=o,"");this.options.showFlags&&(a+="<div class='iti__flag-box'><div class='iti__flag iti__".concat(r.iso2,"'></div></div>")),a=(a+="<span class='iti__country-name'>".concat(r.name,"</span>"))+"<span class='iti__dial-code'>+".concat(r.dialCode,"</span>"),o.insertAdjacentHTML("beforeend",a)}}},{key:"_setInitialState",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.telInput.getAttribute("value"),n=this.telInput.value,t=t&&"+"===t.charAt(0)&&(!n||"+"!==n.charAt(0))?t:n,n=this._getDialCode(t),i=m(t),r=this.options.initialCountry;n&&!i?this._updateCountryFromNumber(t):"auto"===r&&!e||((e=r?r.toLowerCase():"")&&this._getCountryData(e,!0)?this._setCountry(e):n&&i?this._setCountry("us"):this._setCountry()),t&&this._updateValFromNumber(t)}},{key:"_initListeners",value:function(){this._initTelInputListeners(),this.options.allowDropdown&&this._initDropdownListeners(),(this.hiddenInput||this.hiddenInputCountry)&&this.telInput.form&&this._initHiddenInputListener()}},{key:"_initHiddenInputListener",value:function(){var e,t=this;this._handleHiddenInputSubmit=function(){t.hiddenInput&&(t.hiddenInput.value=t.getNumber()),t.hiddenInputCountry&&(t.hiddenInputCountry.value=t.getSelectedCountryData().iso2||"")},null!=(e=this.telInput.form)&&e.addEventListener("submit",this._handleHiddenInputSubmit)}},{key:"_initDropdownListeners",value:function(){var t=this,e=(this._handleLabelClick=function(e){t.dropdownContent.classList.contains("iti__hide")?t.telInput.focus():e.preventDefault()},this.telInput.closest("label"));e&&e.addEventListener("click",this._handleLabelClick),this._handleClickSelectedCountry=function(){!t.dropdownContent.classList.contains("iti__hide")||t.telInput.disabled||t.telInput.readOnly||t._openDropdown()},this.selectedCountry.addEventListener("click",this._handleClickSelectedCountry),this._handleCountryContainerKeydown=function(e){t.dropdownContent.classList.contains("iti__hide")&&["ArrowUp","ArrowDown"," ","Enter"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),t._openDropdown()),"Tab"===e.key&&t._closeDropdown()},this.countryContainer.addEventListener("keydown",this._handleCountryContainerKeydown)}},{key:"_initRequests",value:function(){var e=this;this.options.utilsScript&&!window.intlTelInputUtils?window.intlTelInputGlobals.documentReady()?window.intlTelInputGlobals.loadUtils(this.options.utilsScript):window.addEventListener("load",function(){window.intlTelInputGlobals.loadUtils(e.options.utilsScript)}):this.resolveUtilsScriptPromise(),"auto"!==this.options.initialCountry||this.selectedCountryData.iso2?this.resolveAutoCountryPromise():this._loadAutoCountry()}},{key:"_loadAutoCountry",value:function(){var t=this;window.intlTelInputGlobals.autoCountry?this.handleAutoCountry():window.intlTelInputGlobals.startedLoadingAutoCountry||(window.intlTelInputGlobals.startedLoadingAutoCountry=!0,"function"==typeof this.options.geoIpLookup&&this.options.geoIpLookup(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toLowerCase();e&&t._getCountryData(e,!0)?(window.intlTelInputGlobals.autoCountry=e,setTimeout(function(){return D("handleAutoCountry")})):(t._setInitialState(!0),D("rejectAutoCountryPromise"))},function(){t._setInitialState(!0),D("rejectAutoCountryPromise")}))}},{key:"_initTelInputListeners",value:function(){var i=this,e=this.options,r=e.strictMode,o=e.formatAsYouType,a=!1;this._handleInputEvent=function(e){i._updateCountryFromNumber(i.telInput.value)&&i._triggerCountryChange();var t=e&&e.data&&/[^+0-9]/.test(e.data),n=e&&"insertFromPaste"===e.inputType&&i.telInput.value;t||n&&!r?a=!0:/[^+0-9]/.test(i.telInput.value)||(a=!1),o&&!a&&(t=i.telInput.selectionStart||0,n=i.telInput.value.substring(0,t).replace(/[^+0-9]/g,"").length,e=e&&"deleteContentForward"===e.inputType,t=function(e,t,n,i){if(0===n&&!i)return 0;for(var r=0,o=0;o<t.length;o++){if(/[+0-9]/.test(t[o])&&r++,r===e&&!i)return o+1;if(i&&r===e+1)return o}return t.length}(n,n=i._formatNumberAsYouType(),t,e),i.telInput.value=n,i.telInput.setSelectionRange(t,t))},this.telInput.addEventListener("input",this._handleInputEvent),r&&(this._handleKeydownEvent=function(e){var t,n;1!==e.key.length||e.altKey||e.ctrlKey||e.metaKey||(t=0===i.telInput.selectionStart&&"+"===e.key,n=/^[0-9]$/.test(e.key),t=t||n,n=i._getFullNumber(),n=window.intlTelInputUtils.getCoreNumber(n,i.selectedCountryData.iso2),n=i.maxCoreNumberLength&&n.length>=i.maxCoreNumberLength,t&&!n)||e.preventDefault()},this.telInput.addEventListener("keydown",this._handleKeydownEvent))}},{key:"_cap",value:function(e){var t=parseInt(this.telInput.getAttribute("maxlength")||"",10);return t&&e.length>t?e.substr(0,t):e}},{key:"_trigger",value:function(e){e=new Event(e,{bubbles:!0,cancelable:!0});this.telInput.dispatchEvent(e)}},{key:"_openDropdown",value:function(){var e=this.options,t=e.fixDropdownWidth,e=e.countrySearch;t&&(this.dropdownContent.style.width="".concat(this.telInput.offsetWidth,"px")),this.dropdownContent.classList.remove("iti__hide"),this.selectedCountry.setAttribute("aria-expanded","true"),this._setDropdownPosition(),this.activeItem&&!e?(this._highlightListItem(this.activeItem,!1),this._scrollTo(this.activeItem,!0)):((t=this.countryList.firstElementChild)&&(this._highlightListItem(t,!1),this.countryList.scrollTop=0),e&&this.searchInput.focus()),this._bindDropdownListeners(),this.dropdownArrow.classList.add("iti__arrow--up"),this._trigger("open:countrydropdown")}},{key:"_setDropdownPosition",value:function(){var e,t,n,i,r,o,a=this;this.options.dropdownContainer&&this.options.dropdownContainer.appendChild(this.dropdown),this.options.useFullscreenPopup||(e=this.telInput.getBoundingClientRect(),i=document.documentElement.scrollTop,n=(r=e.top+i)+(t=this.telInput.offsetHeight)+(o=this.dropdownContent.offsetHeight)<i+window.innerHeight,n=!this.options.countrySearch&&!n&&i<r-o,i=this.dropdownContent,r="iti__dropdown-content--dropup",(o=n)&&!i.classList.contains(r)?i.classList.add(r):!o&&i.classList.contains(r)&&i.classList.remove(r),this.options.dropdownContainer&&(this.dropdown.style.top="".concat(e.top+(n?0:t),"px"),this.dropdown.style.left="".concat(e.left,"px"),this._handleWindowScroll=function(){return a._closeDropdown()},window.addEventListener("scroll",this._handleWindowScroll)))}},{key:"_bindDropdownListeners",value:function(){var t,n=this,e=(this._handleMouseoverCountryList=function(e){e=null==(e=e.target)?void 0:e.closest(".iti__country");e&&n._highlightListItem(e,!1)},this.countryList.addEventListener("mouseover",this._handleMouseoverCountryList),this._handleClickCountryList=function(e){e=null==(e=e.target)?void 0:e.closest(".iti__country");e&&n._selectListItem(e)},this.countryList.addEventListener("click",this._handleClickCountryList),!0),i=(this._handleClickOffToClose=function(){e||n._closeDropdown(),e=!1},document.documentElement.addEventListener("click",this._handleClickOffToClose),""),r=null;this._handleKeydownOnDropdown=function(e){["ArrowUp","ArrowDown","Enter","Escape"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),"ArrowUp"===e.key||"ArrowDown"===e.key?n._handleUpDownKey(e.key):"Enter"===e.key?n._handleEnterKey():"Escape"===e.key&&n._closeDropdown()),!n.options.countrySearch&&/^[a-zA-ZÀ-ÿа-яА-Я ]$/.test(e.key)&&(e.stopPropagation(),r&&clearTimeout(r),i+=e.key.toLowerCase(),n._searchForCountry(i),r=setTimeout(function(){i=""},1e3))},document.addEventListener("keydown",this._handleKeydownOnDropdown),this.options.countrySearch&&(t=null,this._handleSearchChange=function(){t&&clearTimeout(t),t=setTimeout(function(){var e;(e=n.searchInput.value.trim())?n._filterCountries(e):n._filterCountries("",!0),t=null},100)},this.searchInput.addEventListener("input",this._handleSearchChange),this.searchInput.addEventListener("click",function(e){return e.stopPropagation()}))}},{key:"_filterCountries",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=!0,i=(this.countryList.innerHTML="",h(e)),r=0;r<this.countries.length;r++){var o=this.countries[r],a=h(o.name),s="+".concat(o.dialCode);(t||a.includes(i)||s.includes(i)||o.iso2.includes(i))&&((a=o.nodeById[this.id])&&this.countryList.appendChild(a),n)&&(this._highlightListItem(a,!1),n=!1)}this.countryList.scrollTop=0,this._updateSearchResultsText()}},{key:"_updateSearchResultsText",value:function(){var e=this.options.i18n,t=this.countryList.childElementCount,e=0===t?e.zeroSearchResults:1===t?e.oneSearchResult:e.multipleSearchResults.replace("${count}",t.toString());this.searchResultsA11yText.textContent=e}},{key:"_handleUpDownKey",value:function(e){var t="ArrowUp"===e?null==(t=this.highlightedItem)?void 0:t.previousElementSibling:null==(t=this.highlightedItem)?void 0:t.nextElementSibling;t?t.classList.contains("iti__divider")&&(t="ArrowUp"===e?t.previousElementSibling:t.nextElementSibling):1<this.countryList.childElementCount&&(t="ArrowUp"===e?this.countryList.lastElementChild:this.countryList.firstElementChild),t&&(this._scrollTo(t,!1),e=!this.options.countrySearch,this._highlightListItem(t,e))}},{key:"_handleEnterKey",value:function(){this.highlightedItem&&this._selectListItem(this.highlightedItem)}},{key:"_searchForCountry",value:function(e){for(var t=0;t<this.countries.length;t++){var n=this.countries[t];if(n.name.substr(0,e.length).toLowerCase()===e){n=n.nodeById[this.id];this._highlightListItem(n,!1),this._scrollTo(n,!0);break}}}},{key:"_updateValFromNumber",value:function(e){var t,n,i;this.options.formatOnDisplay&&window.intlTelInputUtils&&this.selectedCountryData&&(t=this.options.nationalMode||"+"!==e.charAt(0)&&!this.options.showSelectedDialCode,n=(i=window.intlTelInputUtils.numberFormat).NATIONAL,i=i.INTERNATIONAL,e=window.intlTelInputUtils.formatNumber(e,this.selectedCountryData.iso2,t?n:i)),e=this._beforeSetNumber(e),this.telInput.value=e}},{key:"_updateCountryFromNumber",value:function(e){var t=e.indexOf("+"),t=t?e.substring(t):e,e=this.selectedCountryData.dialCode,n=(t&&"1"===e&&"+"!==t.charAt(0)&&("1"!==t.charAt(0)&&(t="1".concat(t)),t="+".concat(t)),this.options.showSelectedDialCode&&e&&"+"!==t.charAt(0)&&(t="+".concat(e).concat(t)),this._getDialCode(t,!0)),i=f(t),r=null;if(n){var o=this.dialCodeToIso2Map[f(n)],n=-1!==o.indexOf(this.selectedCountryData.iso2)&&i.length<=n.length-1;if(!("1"===e&&m(i))&&!n)for(var a=0;a<o.length;a++)if(o[a]){r=o[a];break}}else"+"===t.charAt(0)&&i.length?r="":t&&"+"!==t||this.selectedCountryData.iso2||(r=this.defaultCountry);return null!==r&&this._setCountry(r)}},{key:"_highlightListItem",value:function(e,t){var n=this.highlightedItem;n&&(n.classList.remove("iti__highlight"),n.setAttribute("aria-selected","false")),this.highlightedItem=e,this.highlightedItem.classList.add("iti__highlight"),this.highlightedItem.setAttribute("aria-selected","true"),this.selectedCountry.setAttribute("aria-activedescendant",e.getAttribute("id")||""),this.options.countrySearch&&this.searchInput.setAttribute("aria-activedescendant",e.getAttribute("id")||""),t&&this.highlightedItem.focus()}},{key:"_getCountryData",value:function(e,t){for(var n=0;n<this.countries.length;n++)if(this.countries[n].iso2===e)return this.countries[n];if(t)return null;throw new Error("No country data for '".concat(e,"'"))}},{key:"_setCountry",value:function(e){var t,n,i=this.options,r=i.allowDropdown,o=i.showSelectedDialCode,a=i.showFlags,s=i.countrySearch,i=i.i18n,u=this.selectedCountryData.iso2?this.selectedCountryData:{};return this.selectedCountryData=e&&this._getCountryData(e,!1)||{},this.selectedCountryData.iso2&&(this.defaultCountry=this.selectedCountryData.iso2),this.selectedCountryInner&&(n=t="",e?a&&(t="iti__flag iti__".concat(e),n="".concat(this.selectedCountryData.name," +").concat(this.selectedCountryData.dialCode)):(t="iti__flag iti__globe",n=i.noCountrySelected),this.selectedCountryInner.className=t,this.selectedCountryA11yText.textContent=n),this._setSelectedCountryTitleAttribute(e,o),o&&(a=this.selectedCountryData.dialCode?"+".concat(this.selectedCountryData.dialCode):"",this.selectedDialCode.innerHTML=a,i=this.selectedCountry.offsetWidth||this._getHiddenSelectedCountryWidth(),this.isRTL?this.telInput.style.paddingRight="".concat(i+6,"px"):this.telInput.style.paddingLeft="".concat(i+6,"px")),this._updatePlaceholder(),this._updateMaxLength(),r&&!s&&((t=this.activeItem)&&(t.classList.remove("iti__active"),t.setAttribute("aria-selected","false")),e)&&(n=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(e,"-preferred"))||this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(e)))&&(n.setAttribute("aria-selected","true"),n.classList.add("iti__active"),this.activeItem=n),u.iso2!==e}},{key:"_updateMaxLength",value:function(){if(this.options.strictMode&&window.intlTelInputUtils)if(this.selectedCountryData.iso2){for(var e=window.intlTelInputUtils.numberType[this.options.placeholderNumberType],t=window.intlTelInputUtils.getExampleNumber(this.selectedCountryData.iso2,!1,e,!0),n=t;window.intlTelInputUtils.isPossibleNumber(t,this.selectedCountryData.iso2);)n=t,t+="0";e=window.intlTelInputUtils.getCoreNumber(n,this.selectedCountryData.iso2);this.maxCoreNumberLength=e.length}else this.maxCoreNumberLength=null}},{key:"_setSelectedCountryTitleAttribute",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.selectedCountry&&(e=e&&!(1<arguments.length?arguments[1]:void 0)?"".concat(this.selectedCountryData.name,": +").concat(this.selectedCountryData.dialCode):e?this.selectedCountryData.name:"Unknown",this.selectedCountry.setAttribute("title",e))}},{key:"_getHiddenSelectedCountryWidth",value:function(){var e,t,n;return this.telInput.parentNode?((e=this.telInput.parentNode.cloneNode(!1)).style.visibility="hidden",document.body.appendChild(e),n=this.countryContainer.cloneNode(),e.appendChild(n),t=this.selectedCountry.cloneNode(!0),n.appendChild(t),n=t.offsetWidth,document.body.removeChild(e),n):0}},{key:"_updatePlaceholder",value:function(){var e=this.options,t=e.autoPlaceholder,n=e.placeholderNumberType,i=e.nationalMode,e=e.customPlaceholder,t="aggressive"===t||!this.hadInitialPlaceholder&&"polite"===t;window.intlTelInputUtils&&t&&(t=window.intlTelInputUtils.numberType[n],n=this.selectedCountryData.iso2?window.intlTelInputUtils.getExampleNumber(this.selectedCountryData.iso2,i,t):"",n=this._beforeSetNumber(n),"function"==typeof e&&(n=e(n,this.selectedCountryData)),this.telInput.setAttribute("placeholder",n))}},{key:"_selectListItem",value:function(e){var t=this._setCountry(e.getAttribute("data-country-code"));this._closeDropdown(),this._updateDialCode(e.getAttribute("data-dial-code")),this.telInput.focus(),t&&this._triggerCountryChange()}},{key:"_closeDropdown",value:function(){this.dropdownContent.classList.add("iti__hide"),this.selectedCountry.setAttribute("aria-expanded","false"),this.selectedCountry.removeAttribute("aria-activedescendant"),this.highlightedItem&&this.highlightedItem.setAttribute("aria-selected","false"),this.options.countrySearch&&this.searchInput.removeAttribute("aria-activedescendant"),this.dropdownArrow.classList.remove("iti__arrow--up"),document.removeEventListener("keydown",this._handleKeydownOnDropdown),this.options.countrySearch&&this.searchInput.removeEventListener("input",this._handleSearchChange),document.documentElement.removeEventListener("click",this._handleClickOffToClose),this.countryList.removeEventListener("mouseover",this._handleMouseoverCountryList),this.countryList.removeEventListener("click",this._handleClickCountryList),this.options.dropdownContainer&&(this.options.useFullscreenPopup||window.removeEventListener("scroll",this._handleWindowScroll),this.dropdown.parentNode)&&this.dropdown.parentNode.removeChild(this.dropdown),this._trigger("close:countrydropdown")}},{key:"_scrollTo",value:function(e,t){var n=this.countryList,i=document.documentElement.scrollTop,r=n.offsetHeight,o=n.getBoundingClientRect().top+i,a=o+r,s=e.offsetHeight,e=e.getBoundingClientRect().top+i,i=e+s,u=e-o+n.scrollTop,l=r/2-s/2;e<o?(t&&(u-=l),n.scrollTop=u):a<i&&(t&&(u+=l),n.scrollTop=u-(r-s))}},{key:"_updateDialCode",value:function(e){var t,n=this.telInput.value,e="+".concat(e);"+"===n.charAt(0)&&(n=(t=this._getDialCode(n))?n.replace(t,e):e,this.telInput.value=n)}},{key:"_getDialCode",value:function(e,t){var n="";if("+"===e.charAt(0))for(var i="",r=0;r<e.length;r++){var o=e.charAt(r);if(!isNaN(parseInt(o,10))){if(i+=o,t)this.dialCodeToIso2Map[i]&&(n=e.substr(0,r+1));else if(this.dialCodes[i]){n=e.substr(0,r+1);break}if(i.length===this.dialCodeMaxLen)break}}return n}},{key:"_getFullNumber",value:function(){var e=this.telInput.value.trim(),t=this.selectedCountryData.dialCode,n=f(e),n=this.options.showSelectedDialCode&&!this.options.nationalMode&&"+"!==e.charAt(0)&&t&&n?"+".concat(t):"";return n+e}},{key:"_beforeSetNumber",value:function(e){var t;return this.options.showSelectedDialCode&&this._getDialCode(e)&&(t=" "===e[(t="+".concat(this.selectedCountryData.dialCode)).length]||"-"===e[t.length]?t.length+1:t.length,e=e.substr(t)),this._cap(e)}},{key:"_triggerCountryChange",value:function(){this._trigger("countrychange")}},{key:"_formatNumberAsYouType",value:function(){var e=this._getFullNumber(),e=window.intlTelInputUtils?window.intlTelInputUtils.formatNumberAsYouType(e,this.selectedCountryData.iso2):e,t=this.selectedCountryData.dialCode;return this.options.showSelectedDialCode&&!this.options.nationalMode&&"+"!==this.telInput.value.charAt(0)&&e.includes("+".concat(t))?(e.split("+".concat(t))[1]||"").trim():e}},{key:"handleAutoCountry",value:function(){"auto"===this.options.initialCountry&&window.intlTelInputGlobals.autoCountry&&(this.defaultCountry=window.intlTelInputGlobals.autoCountry,this.telInput.value||this.setCountry(this.defaultCountry),this.resolveAutoCountryPromise())}},{key:"handleUtils",value:function(){window.intlTelInputUtils&&(this.telInput.value&&this._updateValFromNumber(this.telInput.value),this.selectedCountryData.iso2)&&(this._updatePlaceholder(),this._updateMaxLength()),this.resolveUtilsScriptPromise()}},{key:"destroy",value:function(){this.options.allowDropdown&&(this._closeDropdown(),this.selectedCountry.removeEventListener("click",this._handleClickSelectedCountry),this.countryContainer.removeEventListener("keydown",this._handleCountryContainerKeydown),t=this.telInput.closest("label"))&&t.removeEventListener("click",this._handleLabelClick);var e,t=this.telInput.form,t=(this._handleHiddenInputSubmit&&t&&t.removeEventListener("submit",this._handleHiddenInputSubmit),this.telInput.removeEventListener("input",this._handleInputEvent),this._handleKeydownEvent&&this.telInput.removeEventListener("keydown",this._handleKeydownEvent),this.telInput.removeAttribute("data-intl-tel-input-id"),this.telInput.parentNode);null!=t&&null!=(e=t.parentNode)&&e.insertBefore(this.telInput,t),null!=t&&null!=(e=t.parentNode)&&e.removeChild(t),delete window.intlTelInputGlobals.instances[this.id]}},{key:"getExtension",value:function(){return window.intlTelInputUtils?window.intlTelInputUtils.getExtension(this._getFullNumber(),this.selectedCountryData.iso2):""}},{key:"getNumber",value:function(e){var t;return window.intlTelInputUtils?(t=this.selectedCountryData.iso2,window.intlTelInputUtils.formatNumber(this._getFullNumber(),t,e)):""}},{key:"getNumberType",value:function(){return window.intlTelInputUtils?window.intlTelInputUtils.getNumberType(this._getFullNumber(),this.selectedCountryData.iso2):-99}},{key:"getSelectedCountryData",value:function(){return this.selectedCountryData}},{key:"getValidationError",value:function(){var e;return window.intlTelInputUtils?(e=this.selectedCountryData.iso2,window.intlTelInputUtils.getValidationError(this._getFullNumber(),e)):-99}},{key:"isValidNumber",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this._getFullNumber();return!/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])/.test(t)&&(window.intlTelInputUtils?window.intlTelInputUtils.isPossibleNumber(t,this.selectedCountryData.iso2,e):null)}},{key:"isValidNumberPrecise",value:function(){var e=this._getFullNumber();return!/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])/.test(e)&&(window.intlTelInputUtils?window.intlTelInputUtils.isValidNumber(e,this.selectedCountryData.iso2):null)}},{key:"setCountry",value:function(e){e=e.toLowerCase();this.selectedCountryData.iso2!==e&&(this._setCountry(e),this._updateDialCode(this.selectedCountryData.dialCode),this._triggerCountryChange())}},{key:"setNumber",value:function(e){var t=this._updateCountryFromNumber(e);this._updateValFromNumber(e),t&&this._triggerCountryChange()}},{key:"setPlaceholderNumberType",value:function(e){this.options.placeholderNumberType=e,this._updatePlaceholder()}}])&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),x=("object"!==("undefined"==typeof window?"undefined":k(window))||window.intlTelInputGlobals||(b={defaults:S,documentReady:function(){return"complete"===document.readyState},getCountryData:function(){return _},getInstance:function(e){e=e.getAttribute("data-intl-tel-input-id");return e?b.instances[e]:null},instances:{},loadUtils:y,version:"21.2.5"},window.intlTelInputGlobals=b),function(e,t){t=new A(e,t);return t._init(),e.setAttribute("data-intl-tel-input-id",t.id.toString()),window.intlTelInputGlobals.instances[t.id]=t});return n=n,e(s({},"__esModule",{value:!0}),n)}().default},"object"===k(e)&&e.exports?e.exports=t():window.intlTelInput=t()}.call(this,n(128)(e))},function(e,w,E){"use strict";!function(i){var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},t=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},r=(Object.defineProperty(w,"__esModule",{value:!0}),w.SignerIdentityManager=void 0,E(177)),n=E(34),e=E(272),a=E(16),s=E(275),u=E(280),l=E(281),c=E(7),d=E(196),p=E(282),f=E(176),h=E(8),m=E(283),g=E(81),v=E(220),y="signatureIdentityModal",b="confirmSignature";function _(e){var t;this.availableElementTabs=["signature","initials","stamp"],this.serviceFail=!1,this.serviceOnly=!1,this.canModalBeOpened=!1,this.constainsInvalidSetting=!1,this.signer=e.signer,this.api=e.api,this.signatureModel=null!=(t=e.signatureModel)?t:null,this.currentElement=null!=(t=e.currentElement)?t:"signature",this.init()}_.prototype.init=function(){this.listenEventUuidChanged(),this.initUser(),this.initModalSignerIdentityConfig(),this.listenEventServiceError(),this.listenEventInvalidSetting()},_.prototype.initModalSignerIdentityConfig=function(){this.initModalOpener(),this.initConfirmActions(),this.initCancelActions(),this.initColorActions()},_.prototype.initColorActions=function(){var i=this;document.querySelectorAll(".signature__color__item").forEach(function(n){n.addEventListener("click",function(e){var t=n.getAttribute("data-color");i.setColor(t)})})},_.prototype.setColor=function(t){document.querySelectorAll(".signature__color__item").forEach(function(e){e.getAttribute("data-color")==t?e.classList.add("active"):e.classList.remove("active")}),this.signerElementSignature.setColor(t),this.signerElementInitials.setColor(t)},_.prototype.initUser=function(){var e,t=this;1==a.UserModel.isUser()?(e=a.UserModel.get(),this.api.pingService().then(function(){t.patchInitials(),t.preloadImages(e),t.initElements(),t.loadFromService(),t.sendEventPingFinished()},function(){t.sendEventServiceDown(!1),t.sendEventPingFinished()}),"all"!=this.signer.allowCostumize&&"text"!=this.signer.allowCostumize&&this.forceSettings()):this.initUserAuth()},_.prototype.initModalOpener=function(){var t=this,e=document.getElementById("openSignatureConfig");null!=e&&e.addEventListener("click",function(e){t.serviceOnly&&t.serviceFail||(t.applySignatureModelToElements(),t.showModal("signature"))})},_.prototype.toggleWaitEl=function(e){this.waitEl.style.display=e?"block":"none"},_.prototype.initConfirmActions=function(){var e=this,t=document.getElementById(b);t&&t.addEventListener("click",function(){t.setAttribute("disabled","disabled"),1==e.validate()?(e.cleanErrors(),e.toggleWaitEl(!0),e.uploadAllImages().then(function(){e.apply(!0),e.saveSignatureSettingsToService().then(function(){e.constainsInvalidSetting=!1,e.drawPreview(),i("#"+y+" .wait").hide(),e.hideModal(),i("#"+b).removeAttr("disabled"),e.sendEventSignatureConfirmed(),e.sendEventSignatureChanged()},function(){e.sendEventServiceDown(!1),e.constainsInvalidSetting=!1,e.toggleWaitEl(!1),e.hideModal(),i("#"+b).removeAttr("disabled"),e.drawPreview(),e.sendEventSignatureConfirmed(),e.sendEventSignatureChanged()})},function(){e.toggleWaitEl(!1),i("#"+b).removeAttr("disabled"),n.Tooltip.setContent("#"+b,c.Lang.t("Upload error")+" - "+c.Lang.t("Retry")),n.Tooltip.show("#"+b)})):i("#"+b).removeAttr("disabled")})},_.prototype.initCancelActions=function(){var e=this;document.getElementById("cancelSignature").addEventListener("click",function(){e.sendEventSignatureCancel(),e.resetElements(),e.hideModal()})},_.prototype.initUserAuth=function(){a.UserModel.isLoggedIn()||(this.authElement=new e.AuthElement({elementAuth:i(".signature-avatar"),elementAvatar:i(".signature-avatar img")}),this.listenEventUserAuth())},_.prototype.forceSettings=function(){this.showModal(),this.forceApply()},_.prototype.forceApply=function(){i("#cancelSignature").hide()},_.prototype.hideModal=function(){this.toggleWaitEl(!1),i(this.domRootEl).modal("hide")},_.prototype.setElementStatus=function(e,t){this.getElement(e).setStatus(t)},_.prototype.setAllowedMode=function(e,t){void 0===e&&(e=null),(t=void 0===t?null:t)&&"signature"!=t||this.signerElementSignature.setOnlyMode(e),t&&"initials"!=t||this.signerElementSignature.setOnlyMode(e),this.apply(!0)},_.prototype.isCurrentRequired=function(e){e=this.getElement(e);return!!e&&1==e.required},_.prototype.setRequired=function(e,t){this.getElement(e).setRequired(t)},_.prototype.showModal=function(e){if(void 0===e&&(e="signature"),v.SignatureUserEventSend.sendEvent("signatureIdentityModalShow",{}),!this.isModalOpened&&this.canModalBeOpened)return i(this.domRootEl).modal("show"),this.eventModel=new m.EventModel,i(".tippy-box").hide(),i("#signatureIdentityModal .error").removeClass("error"),i("#signatureIdentityModal .shake").removeClass("shake"),i("#cancelSignature").show(),this.initElements(),this.applyAllowCostumize(),this.initElementTabs(),this.currentElement=e,this.getTab(this.currentElement).click(),this.preSelectTabMode(this.currentElement),this.showElementTab(this.currentElement),window.setTimeout(function(){i("#signName").focus()},500),this.eventModel},_.prototype.preSelectTabMode=function(e){this.getElement(e).activateElementModeSubtab()},_.prototype.getUsedElementsFromSignature=function(e){var t=[];return e.files.forEach(function(e){e.server_filename.replace(".pdf","");e.elements.forEach(function(e){t.push(e.type)})}),t.filter(function(e,t,n){return n.indexOf(e)===t})},_.prototype.disableNotNeededElements=function(e){e=this.getUsedElementsFromSignature(e);e.includes("stamp")?(this.signerElementStamp.enable(),this.signerElementStamp.setRequired(!0)):this.signerElementStamp.disable(),e.includes("initials")?(this.signerElementInitials.enable(),this.signerElementInitials.setRequired(!0)):this.signerElementInitials.disable()},_.prototype.initElements=function(){var e,t={signatureModel:this.signatureModel,api:this.api},n=a.UserModel.isLoggedIn(),i=a.UserModel.get(),r=null==(r=null==i?void 0:i.signature)?void 0:r.signatureMode,i=null==(i=null==i?void 0:i.signature)?void 0:i.initialsMode;this.signerElementBasicData||(this.signerElementBasicData=new p.SignerElementBasicData({signatureModel:this.signatureModel})),this.signerElementSignature||(n&&r?(e=o(o({},t),{elementMode:r}),this.signerElementSignature=new s.SignerElementSignature(e)):this.signerElementSignature=new s.SignerElementSignature(t)),this.signerElementInitials||(n&&i?(e=o(o({},t),{elementMode:i}),this.signerElementInitials=new u.SignerElementInitials(e)):this.signerElementInitials=new u.SignerElementInitials(t)),this.signerElementStamp||(this.signerElementStamp=new l.SignerElementStamp(t)),this.serviceFail&&(this.signerElementStamp.serviceError(),this.signerElementInitials.serviceError(),this.signerElementSignature.serviceError())},_.prototype.initElementTabs=function(){var t=this;1!=this.elementTabsStarted&&(this.elementTabsStarted=!0,this.availableElementTabs.forEach(function(e){t.getTab(e).addEventListener("click",function(){t.showElementTab(e)})}))},_.prototype.showElementTab=function(e){e=this.getElement(e);e.showElement()},_.prototype.listenEventUuidChanged=function(){var t=this;window.addEventListener("uuidChanged",function(e){t.signatureModel&&(t.signatureModel.uuidVisble="enabled"==e.detail.uuid)})},_.prototype.listenEventInvalidSetting=function(){var t=this;g.SignatureEventManager.addEventListener("signature:settings:invalid_info",function(e){t.constainsInvalidSetting=!0,t.cleanPreviewImages(e.detail.signatureType,e.detail.signatureMode),t.serviceOnly||t.showModal()})},_.prototype.listenEventServiceError=function(){var t=this;g.SignatureEventManager.addEventListener("signature:service_down",function(e){t.serviceError(),t.applySignatureModelToElements(),t.cleanPreviewImages(),e.detail.triggerIdentityModal&&!t.serviceOnly&&(t.clearUploaders(),t.forceSettings())},!0)},_.prototype.clearUploaders=function(){var e;null!=(e=null==(e=this.signerElementSignature)?void 0:e.drawElement)&&e.clearAllFiles(),null!=(e=null==(e=this.signerElementInitials)?void 0:e.drawElement)&&e.clearAllFiles(),null!=(e=null==(e=this.signerElementSignature)?void 0:e.fileElement)&&e.clearAllFiles(),null!=(e=null==(e=this.signerElementInitials)?void 0:e.fileElement)&&e.clearAllFiles(),null!=(e=null==(e=this.signerElementStamp)?void 0:e.fileElement)&&e.clearAllFiles()},_.prototype.cleanPreviewImages=function(e,t){var n={signature:this.signerElementSignature,initials:this.signerElementInitials,stamp:this.signerElementStamp},i={draw:function(e){return null==(e=null==e?void 0:e.drawElement)?void 0:e.cleanUploadPreviewImage()},image:function(e){return null==(e=null==e?void 0:e.fileElement)?void 0:e.cleanUploadPreviewImage()}},e=e?[n[e]]:Object.values(n),r=t?[i[t]]:Object.values(i);e.forEach(function(t){return r.forEach(function(e){return e(t)})})},_.prototype.sendEventServiceDown=function(e){g.SignatureEventManager.dispatchEvent("signature:service_down",{triggerIdentityModal:e=void 0===e?!1:e})},_.prototype.sendEventPingFinished=function(){g.SignatureEventManager.dispatchEvent("signature:signer_identity_modal:ping_finished",{signatureModel:this.signatureModel})},_.prototype.disablePreview=function(){this.previewDisabled=!0,document.querySelectorAll(".preview__active").forEach(function(e){e.classList.remove("preview__active")})},_.prototype.enablePreview=function(){this.previewDisabled=!1,""!=this.signatureModel.signature&&""!=this.signatureModel.initials&&this.drawPreview()},_.prototype.listenEventUserAuth=function(){var i=this;window.addEventListener("userAuth",function(e){i.patchInitials();var t,n=a.UserModel.get();null!=(t=n.signature)&&t.signature&&(i.initElements(),n.signature.initialsMode=i.signerElementInitials.elementMode,n.signature.signatureMode=i.signerElementSignature.elementMode,i.signerElementBasicData.modelChanged(),0==i.serviceFail&&(i.loadFromService(),null!=(t=null==(t=null==(t=i.signerElementInitials)?void 0:t.fileElement)?void 0:t.uploader)&&t.setServiceMode(),null!=(t=null==(t=null==(t=i.signerElementInitials)?void 0:t.drawElement)?void 0:t.uploader)&&t.setServiceMode(),null!=(t=null==(t=null==(t=i.signerElementSignature)?void 0:t.fileElement)?void 0:t.uploader)&&t.setServiceMode(),null!=(t=null==(t=null==(t=i.signerElementSignature)?void 0:t.drawElement)?void 0:t.uploader)&&t.setServiceMode(),null!=(t=null==(t=null==(t=i.signerElementStamp)?void 0:t.fileElement)?void 0:t.uploader))&&t.setServiceMode(),null!=(t=null==(t=i.signerElementInitials)?void 0:t.drawElement)&&t.paintDrawElement(),null!=(t=null==(t=i.signerElementSignature)?void 0:t.drawElement)&&t.paintDrawElement(),i.getTab(i.currentElement).click(),window.setTimeout(function(){window.dispatchEvent(new Event("resize"))}),0==i.serviceFail)&&i.preloadImages(n)})},_.prototype.preloadImages=function(e){var t=this,n=null==(n=null==(n=e.signature)?void 0:n.draw)?void 0:n.signature,i=null==(i=null==(i=e.signature)?void 0:i.image)?void 0:i.signature,r=null==(r=null==(r=e.signature)?void 0:r.draw)?void 0:r.initials,o=null==(o=null==(o=e.signature)?void 0:o.image)?void 0:o.initials,e=null==(e=null==(e=e.signature)?void 0:e.image)?void 0:e.stamp;n&&""!=n&&f.ImageHelper.urlToBase64(n).then(function(e){t.signatureModel.signatureDrawBase64=e,f.ImageHelper.preload(e)},function(){t.signatureModel.signatureDrawData?(a.UserModel.get().signature.draw.signature=null,t.signatureModel.signatureMode="font",t.signatureModel.signatureImageService=null):t.serviceError()}),r&&""!=r&&f.ImageHelper.urlToBase64(r).then(function(e){t.signatureModel.initialsDrawBase64=e,f.ImageHelper.preload(e)},function(){t.signatureModel.initialsDrawData?(a.UserModel.get().signature.draw.initials=null,t.signatureModel.initialsMode="font",t.signatureModel.initialsImageService=null):t.serviceError()}),i&&""!=i&&f.ImageHelper.urlToBase64(i).then(function(e){t.signatureModel.signatureImageBase64=e,f.ImageHelper.preload(e)},function(){t.serviceError()}),o&&""!=o&&f.ImageHelper.urlToBase64(o).then(function(e){t.signatureModel.initialsImageBase64=e,f.ImageHelper.preload(e)},function(){t.serviceError()}),e&&""!=e&&f.ImageHelper.urlToBase64(e).then(function(e){t.signatureModel.stampImageBase64=e,f.ImageHelper.preload(e)},function(){t.serviceError()})},_.prototype.serviceError=function(){var e;this.serviceFail=!0,null!=(e=this.signerElementSignature)&&e.serviceError(),null!=(e=this.signerElementInitials)&&e.serviceError(),null!=(e=this.signerElementStamp)&&e.serviceError()},_.prototype.loadFromStorage=function(){this.signatureModel?this.signatureModel.setData(d.Storage.get("sign.signature")):this.signatureModel=new r.SignatureModel(d.Storage.get("sign.signature")),this.drawPreview(),this.sendEventSignatureChanged()},_.prototype.loadFromService=function(e){void 0===e&&(e=!1);var t=a.UserModel.get(),n={signatureMode:r.DEFAULT_SIGNATURE_MODE,initialsMode:r.DEFAULT_SIGNATURE_MODE,font:{fontFamily:r.DEFAULT_FONT,color:r.DEFAULT_COLOR},signature:t.name,initials:t.name.charAt(0)};(n=t.signature?t.signature:n).mode&&(n.signatureMode=n.mode,n.initialsMode=n.mode,delete n.mode),this.signatureModel?this.signatureModel.setData(n):(this.signatureModel=new r.SignatureModel(n),this.signatureModel.setApi(this.api)),this.signer.name=t.name,this.signer.email=t.email,1==e&&(n.signatureMode=this.signerElementSignature.elementMode,n.initialsMode=this.signerElementInitials.elementMode),this.signatureMode=n.signatureMode,this.initialsMode=n.initialsMode,1==(e=e||this.applyAllowCostumize())&&(n.mode=this.signerElementSignature.elementMode,n.signatureMode=this.signerElementSignature.elementMode,n.initialsMode=this.signerElementInitials.elementMode),this.signatureModel.setData(n),this.setColor(this.signatureModel.color),this.applySignatureModelToElements(),this.drawPreview(),this.sendEventSignatureChanged(),0!=i(".tool").length&&((this.signatureModel.signatureImageService||this.signatureModel.signatureDrawService)&&this.uploadSignatureFromService(),(this.signatureModel.initialsImageService||this.signatureModel.initialsDrawService)&&this.uploadInitialsFromService(),this.signatureModel.stampImageService)&&this.uploadStampFromService()},_.prototype.uploadSignatureFromService=function(){var e;null!=(e=this.signerElementSignature)&&e.uploadImageFromService()},_.prototype.uploadInitialsFromService=function(){var e;null!=(e=this.signerElementInitials)&&e.uploadImageFromService()},_.prototype.uploadStampFromService=function(){var e;null!=(e=this.signerElementStamp)&&e.uploadImageFromService()},_.prototype.apply=function(e){var t,n;void 0===e&&(e=!1),this.signatureModel||(n={},(t=a.UserModel.get())&&t.signature&&(n=t.signature),this.signatureModel=new r.SignatureModel(n),this.signatureModel.setApi(this.api)),1==e&&this.signatureModel.setData(this.getData()),this.signer.name=this.signatureModel.signature,this.signer.initials=this.signatureModel.initials,i("#"+y+" .error").removeClass("error"),i("#"+y+" .shake").removeClass("shake"),this.saveToStorage(),this.sendEventSignatureChanged()},_.prototype.getSignature=function(){return this.signatureModel},_.prototype.getAllUploaders=function(){var e;return t(null==(e=this.signerElementSignature)?void 0:e.getAllUploaders(),null==(e=this.signerElementInitials)?void 0:e.getAllUploaders(),null==(e=this.signerElementStamp)?void 0:e.getAllUploaders())},_.prototype.getTab=function(e){return document.getElementById(e+"-tab")},_.prototype.applySignatureModelToElements=function(){this.initElements(),this.signerElementBasicData.applyModel(),this.signerElementBasicData.applyTextPreview(),this.signerElementInitials.applyModel(),this.signerElementSignature.applyModel(),this.signerElementStamp.applyModel(),this.applyPreviewColor()},_.prototype.applyAllowCostumize=function(){if(this.signatureModel&&this.signer&&this.signer.allowCostumize){switch(this.signer.allowCostumize){case"all":break;case"text":this.signatureModel.signatureMode=this.signatureMode="font",this.signatureModel.initialsMode=this.initialsMode="font",this.signerElementSignature.setOnlyMode("font"),this.signerElementInitials.setOnlyMode("font");break;case"image":this.signatureModel.signatureMode=this.signatureMode="image",this.signatureModel.initialsMode=this.initialsMode="image",this.signerElementSignature.setOnlyMode("image"),this.signerElementInitials.setOnlyMode("image");break;case"sign":this.signatureModel.signatureMode=this.signatureMode="draw",this.signatureModel.initialsMode=this.initialsMode="draw",this.signerElementSignature.setOnlyMode("draw"),this.signerElementInitials.setOnlyMode("draw")}if("all"!=this.signer.allowCostumize)return this.apply(!1),!0}return!1},_.prototype.getData=function(){var e=this.getNameAndInitials();return this.signerElementSignature&&(e=this.deepMerge(e,this.signerElementSignature.getData())),this.signerElementInitials&&(e=this.deepMerge(e,this.signerElementInitials.getData())),e=this.signerElementStamp?this.deepMerge(e,this.signerElementStamp.getData()):e},_.prototype.deepMerge=function(e,i){function r(e){return e&&"object"==typeof e}var o,a=this;return r(e)&&r(i)?(o=Object.assign({},e),Object.keys(i).forEach(function(e){var t=o[e],n=i[e];Array.isArray(t)&&Array.isArray(n)?o[e]=t.concat(n):r(t)&&r(n)?o[e]=a.deepMerge(t,n):o[e]=n}),o):i},_.prototype.saveToStorage=function(){d.Storage.set("sign.signature",this.getSignature())},_.prototype.sendEventSignatureChanged=function(){g.SignatureEventManager.dispatchEvent("signature:signer_identity_modal:signature_changed",{signatureModel:this.signatureModel})},_.prototype.applyPreviewColor=function(){this.signerElementSignature&&(this.signerElementSignature.setColor(this.signatureModel.color),this.signerElementInitials)&&this.signerElementInitials.setColor(this.signatureModel.color)},_.prototype.saveSignatureSettingsToService=function(){var n=this;return new Promise(function(e,t){!a.UserModel.isUser()||n.serviceFail?e():n.signatureModel.saveConfig().then(function(){e()},function(e){t(e)})})},_.prototype.getElement=function(e){switch(this.initElements(),e){case"signature":return this.signerElementSignature;case"initials":return this.signerElementInitials;case"stamp":return this.signerElementStamp}return null},_.prototype.validate=function(e){return e?!(e=this.getElement(e))||e.validate():!(!this.signerElementBasicData.validate()||(this.signerElementSignature.validate()?this.signerElementInitials.validate()?this.signerElementStamp.validate()?(this.signerElementSignature.saveCurrentMode(),this.signerElementInitials.saveCurrentMode(),0):(this.getTab("stamp").click(),1):(this.getTab("initials").click(),1):(this.getTab("signature").click(),1)))},_.prototype.uploadAllImages=function(){return this.signerElementSignature.uploadSvgIfNeeded(),this.signerElementInitials.uploadSvgIfNeeded(),this.signerElementStamp.uploadImageIfNeeded(),this.signerElementSignature.uploadImageIfNeeded(),this.signerElementInitials.uploadImageIfNeeded(),this.waitForAllUploadsCompleted()},_.prototype._removeErrorTooltips=function(){n.Tooltip.disable("#"+b),n.Tooltip.disable("#uploadSignature"),n.Tooltip.disable("#uploadInitials")},_.prototype.waitForAllUploadsCompleted=function(){var n=this,i=null;return new Promise(function(e,t){i=window.setInterval(function(){1==n.checkUploadIsCompleted()?(window.clearInterval(i),e()):1==n.checkApiFailed()&&t()},500)})},_.prototype.checkApiFailed=function(){return this.signerElementSignature.apiFailed()&&this.signerElementInitials.apiFailed()&&this.signerElementStamp.apiFailed()},_.prototype.checkUploadIsCompleted=function(){return this.signerElementSignature.checkUploadIsCompleted()&&this.signerElementInitials.checkUploadIsCompleted()&&this.signerElementStamp.checkUploadIsCompleted()},_.prototype.getNameAndInitials=function(){var e=i("#signName").val().toString(),t=i("#signInitials").val().toString();return""==e&&(e=this.signer.name,i("#signName").val(e)),""==t&&(t=this.signer.name.split(" ").map(function(e){return Array.from(e)[0]}).join(""),i("#signInitials").val(t)),{signature:e,initials:t}},Object.defineProperty(_.prototype,"previewSignatureAddEl",{get:function(){return document.getElementById("addElementSignature")},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"previewInitialsAddEl",{get:function(){return document.getElementById("addElementInitials")},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"previewStampAddEl",{get:function(){return document.getElementById("addElementStamp")},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"isModalOpened",{get:function(){return this.domRootEl.classList.contains("show")},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"domRootEl",{get:function(){return document.getElementById(y)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"waitEl",{get:function(){return this.domRootEl.querySelector(".wait")},enumerable:!1,configurable:!0}),_.prototype.drawPreview=function(){var e,t,n;this.signatureModel&&!this.previewDisabled&&(e=this.previewSignatureAddEl,t=this.previewInitialsAddEl,n=this.previewStampAddEl,this.apply(!1),e&&(e.classList.add("preview__active"),this.drawSignaturePreview()),t&&(t.classList.add("preview__active"),this.drawInitialsPreview()),n)&&(n.classList.add("preview__active"),this.drawStampPreview())},_.prototype.drawSignaturePreview=function(){for(var e=this.signatureModel.getSignaturePreview(),t=this.previewSignatureAddEl.querySelector(".signature__preview--signature");t.firstChild;)t.removeChild(t.firstChild);t.append(e.cloneNode(!0))},_.prototype.drawInitialsPreview=function(){for(var e=this.signatureModel.getInitialsPreview(),t=this.previewInitialsAddEl.querySelector(".signature__preview--initials");t.firstChild;)t.removeChild(t.firstChild);t.append(e)},_.prototype.drawStampPreview=function(){var e=this.signatureModel.getStampPreview();if(e.src&&""!=e.src){for(var t=this.previewStampAddEl.querySelector(".signature__preview--stamp");t.firstChild;)t.removeChild(t.firstChild);t.append(e)}else this.previewStampAddEl.classList.remove("preview__active")},_.prototype.sendEventSignatureCancel=function(){var e=new CustomEvent("signatureCancel",{detail:{signatureModel:this.signatureModel}});window.dispatchEvent(e),this.eventModel.dispatchEvent(new h.IloveEvent("cancel")),this.eventModel.dispatchEvent(new h.IloveEvent("close")),this.eventModel=null},_.prototype.sendEventSignatureConfirmed=function(){v.SignatureUserEventSend.sendEvent("signatureIdentityModalConfirm",{}),g.SignatureEventManager.dispatchEvent("signature:signer_identity_modal:confirm",{signatureModel:this.signatureModel}),this.eventModel.dispatchEvent(new h.IloveEvent("confirm")),this.eventModel.dispatchEvent(new h.IloveEvent("close")),this.eventModel=null},_.prototype.setServiceOnly=function(){this.serviceOnly=!0,this.initElements(),this.signerElementSignature.setServiceOnly(),this.signerElementInitials.setServiceOnly(),this.signerElementStamp.setServiceOnly()},_.prototype.cleanErrors=function(){this.signerElementInitials.cleanErrors(),this.signerElementSignature.cleanErrors()},_.prototype.resetElements=function(){this.signerElementBasicData.reset(),this.signerElementSignature.reset(),this.signerElementInitials.reset(),this.signerElementStamp.reset()},_.prototype.patchInitials=function(){var e=a.UserModel.get(),t=null==(t=null==(t=e.signature)?void 0:t.draw)?void 0:t.initials,n=null==(n=null==(n=e.signature)?void 0:n.image)?void 0:n.initials;t&&""!=t&&(e.signature.draw.initials=e.signature.draw.initials.replace("signature.svg","initials.svg"),e.signature.draw.initials=e.signature.draw.initials.replace("/initials/","/signature/")),n&&""!=n&&(e.signature.image.initials=e.signature.image.initials.replace("signature.svg","initials.svg"),e.signature.image.initials=e.signature.image.initials.replace("/initials/","/signature/"))},w.SignerIdentityManager=_}.call(this,E(1))},function(e,r,o){"use strict";!function(e){Object.defineProperty(r,"__esModule",{value:!0}),r.AuthElement=void 0;var t=o(16),n=o(192);function i(e){Object.assign(this,e),this.init()}i.prototype.init=function(){this.listenEventUserAuth(),this.initLoginElements(),this.setUserElement()},i.prototype.initLoginElements=function(){this.elementAuth&&null===t.UserModel.get()&&(e(".loginAuth").on("click",function(){e(".modal:visible").removeAttr("tabindex"),n.SignatureDialogs.auth("signature").show()}),this.elementAuth.on("click",function(){!1===t.UserModel.isUser()&&(e(".modal:visible").removeAttr("tabindex"),n.SignatureDialogs.auth("signature").show())}))},i.prototype.listenEventUserAuth=function(){var t=this;window.addEventListener("userAuth",function(e){t.setUserElement()})},i.prototype.setUserElement=function(){null!=t.UserModel.get()&&(e("#loginText").hide(),e(".loginAuth").remove(),this.elementAvatar)&&this.elementAvatar.attr("src",t.UserModel.get().avatar)},r.AuthElement=i}.call(this,o(1))},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(t,"__esModule",{value:!0}),n(47)),u=a(n(274)),a=(r=s.ContextBase,o(l,r),l.prototype.getInitialState=function(){if("CannotSave"!==this.requestedAction)throw"Requested Action '"+this.requestedAction+"' is not handled";return new u.default},l);function l(e){var t=r.call(this,e)||this;return t.contentName="SignatureTemplates",t.requestedAction=e.requestedAction,t}t.default=a},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),n=(Object.defineProperty(t,"__esModule",{value:!0}),n(21)),n=(r=n.StateBase,o(a,r),a.prototype.onDomReady=function(){this.changeScreen(this.INITIAL_SCREEN),this.clearLoadingScreen()},a);function a(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="CannotSaveState",e.LAYOUT_TEMPLATE_NAME="signature-templates/cannot-save",e.INITIAL_SCREEN="default",e}t.default=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.SignerElementSignature=void 0,n(217)),s=n(219),u=n(194),n=n(195),n=(r=n.SignerElementBase,o(l,r),l.prototype.init=function(){r.prototype.init.call(this),this.drawElement=new a.SignerElementDraw({signatureModel:this.signatureModel,elementType:this.elementType,api:this.api}),this.textElement=new s.SignerElementText({signatureModel:this.signatureModel,elementType:this.elementType}),this.fileElement=new u.SignerElementFile({signatureModel:this.signatureModel,elementType:this.elementType,api:this.api})},l.prototype.initActiveSubtab=function(e){e=(e=void 0===e?null:e)||this.currentActiveMode;"draw"==e&&this.drawElement.showCanvas(),"font"==e&&this.textElement.init(),"image"==e&&this.fileElement.init()},l.prototype.setColor=function(e){this.drawElement.setColor(e),this.textElement.setColor(e)},l.prototype.getAllUploaders=function(){return[this.drawElement.uploader,this.fileElement.uploader].filter(function(e){return void 0!==e})},l.prototype.uploadSvgIfNeeded=function(){return this.drawElement&&this.drawElement.uploadSvgIfNeeded()},l.prototype.uploadImageIfNeeded=function(){return!!this.fileElement.haveFilesToUpload&&(this.fileElement.uploader.reUploadAllFiles(),!0)},l.prototype.getDrawData=function(){},l.prototype.getData=function(){var e={signatureMode:this.elementModeCurrent,draw:{signatureBase64:null!=(e=null==(e=this.drawElement)?void 0:e.getEncodedBase64())?e:null,signatureData:null!=(e=null==(e=this.drawElement)?void 0:e.getPadData())?e:null,signature:null!=(e=null==(e=this.drawElement)?void 0:e.getServiceFile())?e:null,signatureApi:null!=(e=null==(e=this.drawElement)?void 0:e.getApiFile())?e:null,color:null!=(e=null==(e=this.drawElement)?void 0:e.getColor())?e:null},font:void 0,image:{signature:null!=(e=null==(e=this.fileElement)?void 0:e.getServiceFile())?e:null,signatureApi:null!=(e=null==(e=this.fileElement)?void 0:e.getApiFile())?e:null,signatureBase64:null!=(e=null==(e=this.fileElement)?void 0:e.fileBase64)?e:null}};return this.textElement&&(e.font={color:this.textElement.getColor(),fontFamily:this.textElement.getFont()}),e},l.prototype.validate=function(){if(this.disabled)return!0;var e=this.isTabModeEnabled("font");switch(this.elementModeCurrent){case"draw":return!this.drawElement.isValid()&&e?(this.activateSubtab("font"),this.elementModeCurrent="font",this.validate()):!this.isTabModeEnabled(this.elementModeCurrent)||this.drawElement.validate();case"image":return!this.fileElement.isValid()&&e?(this.activateSubtab("font"),this.elementModeCurrent="font",this.validate()):!this.isTabModeEnabled(this.elementModeCurrent)||this.fileElement.validate();case"font":return this.textElement.validate()}},l.prototype.uploadImageFromService=function(){this.drawElement.uploadFromService(),this.fileElement.uploadFromService()},l.prototype.checkUploadIsCompleted=function(){return this.drawElement.checkUploadIsCompleted()&&this.fileElement.checkUploadIsCompleted()},l.prototype.apiFailed=function(){return 1==this.drawElement.apiFail&&1==this.fileElement.apiFail},l.prototype.serviceError=function(){this.drawElement.serviceFail=!0,this.fileElement.serviceFail=!0,this.getAllUploaders().forEach(function(e){null!=e&&e.setApiMode()})},l.prototype.setServiceOnly=function(){this.fileElement.serviceOnly=!0,this.drawElement.serviceOnly=!0},l.prototype.cleanErrors=function(){this.drawElement.cleanErrors(),this.fileElement.cleanErrors(),this.textElement.cleanErrors()},l.prototype.applyModel=function(){this.elementMode=this.signatureModel[this.elementType+"Mode"]||"font",this.textElement.applyModel(),this.drawElement.applyModel(),this.fileElement.applyModel()},l.prototype.reset=function(){this.elementModeCurrent=this.elementMode,this.drawElement.reset(),this.textElement.reset(),this.fileElement.reset()},l.prototype.saveCurrentMode=function(){this.elementMode=this.elementModeCurrent},l);function l(e){var t,e=r.call(this,e)||this;return e.elementType="signature",e.elementMode=null!=(t=e.elementMode)?t:"font",e.elementModeCurrent=null!=(t=e.elementModeCurrent)?t:"font",e.init(),e}t.SignerElementSignature=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},l=(Object.defineProperty(t,"__esModule",{value:!0}),t.SignaturePlupload=void 0,n(250)),c=n(45),d=n(16),p=u(n(15)),f=n(13),h=n(17),m=n(77),u=(r=l.ServicePlupload,o(g,r),g.prototype.getUrl=function(){return"api"==this.target?r.prototype.getUrl.call(this):this.getServiceUrl()},g.prototype.getServiceUrl=function(){return c.Settings.get("service")+"/signature-images/upload"},g.prototype.getUploadParams=function(){return"api"==this.target?{task:this.taskId,v:this.appVersion}:{mode:this.signatureMode,type:this.signatureType}},g.prototype.setApiMode=function(){this.target="api",this.token=this.tokenApi,this.uploader&&(this.uploader.stop(),this.uploader.setOption("url",this.getUrl()),this.uploader.setOption("headers",this.getHeaders()),this.uploader.setOption("multipart_params",this.getUploadParams()),this.uploader.start())},g.prototype.setServiceMode=function(){var e=d.UserModel.get();if(!e||!e.token)return!1;this.tokenService=e.token,this.target="service",this.token=this.tokenService,this.uploader&&(this.uploader.stop(),this.uploader.setOption("url",this.getUrl()),this.uploader.setOption("headers",this.getHeaders()),this.uploader.setOption("multipart_params",this.getUploadParams()),this.uploader.start())},g.prototype.setServiceOnlyMode=function(){var e=d.UserModel.get();if(!e||!e.token)return!1;this.target="serviceOnly",this.token=e.token,this.uploader&&(this.uploader.stop(),this.uploader.setOption("url",this.getUrl()),this.uploader.setOption("headers",this.getHeaders()),this.uploader.setOption("multipart_params",this.getUploadParams()),this.uploader.start())},g.prototype.fileUploaded=function(e,t){"api"==this.target||"serviceOnly"==this.target?this.optionsManager.fileUploaded(e,t):t.service_filename?this.uploadToApi(t.service_filename,e):(p.configureScope(function(e){e.setExtra("error",t)}),p.captureMessage("[sign] no service_filename on response",f.Severity.Error),this.fatalError("no server_filename present"))},g.prototype.checkLimits=function(e,t){if(1<e.length)for(var n=0;n<e.length;n++){var i=e[n];0<n&&this.files.removeFile(i.id,!0)}return[e[0]]},g.prototype.changeDNSServer=function(e){return"service"==this.target?(this.setApiMode(),!0):r.prototype.changeDNSServer.call(this,e)},g.prototype.uploadToApi=function(i,r){var o=this;return void 0===r&&(r=null),new Promise(function(t,n){null==r&&(r=h.Tools.randomId(),o.files.addFile(new m.File({id:r,name:i,filename:i,url:i}))),o.optionsManager.api.uploadCloudFile(o.taskId,i).then(function(e){e.service_filename=i,o.optionsManager.fileUploaded(r,e),t(e)},function(e){n()})})},g.prototype.error=function(e){e.id=this.id,e.retry=this.retryCount,e.dnsFallback=this.dnsFallback,e.target=this.target,"api"==this.target||"serviceOnly"==this.target?this.optionsManager.invalidUpload(e):(this.setApiMode(),this.reUploadAllFiles()),r.prototype.error.call(this,e)},g);function g(e){e=r.call(this,e)||this;return e.target=e.target||"api",e.chunkSize=!1,e.RETRY_NUM=0,e.retryCount=0,e}t.SignaturePlupload=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SvgHelper=void 0;var i="data:image/svg+xml;base64,";function r(){}r.toBase64=function(e){return"string"!=typeof e&&(e=(new XMLSerializer).serializeToString(e)),i+btoa(e)},r.toBlob=function(e){for(var t=e.length,n=new Uint8Array(t);t--;)n[t]=e.charCodeAt(t);return new Blob([n])},r.fromBase64=function(e){return atob(e.replace(i,""))},r.trim=function(e){var t=!1,n=("string"==typeof e&&(e=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement,t=!0),document.body.appendChild(e)),i=e.getBBox();return e.setAttribute("viewBox",i.x-10+" "+(i.y-10)+" "+(i.width+20)+" "+(i.height+20)),e.setAttribute("width",i.width+20+"px"),e.setAttribute("height",i.height+20+"px"),document.body.removeChild(n),e=1==t?(new XMLSerializer).serializeToString(e):e},t.SvgHelper=r},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(t,"__esModule",{value:!0}),n(47)),u=a(n(279)),a=(r=s.ContextBase,o(l,r),l.prototype.getInitialState=function(){return new u.default(this.params)},l);function l(e){var t=r.call(this,e)||this;return t.contentName="QrPad",t.params=e,t}t.default=a},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),n(8)),n=n(21),n=(r=n.StateBase,o(s,r),s.prototype.onDomReady=function(){this.displayQr(),this.clearLoadingScreen()},s.prototype.displayQr=function(){var e=this,t=document.createElement("script");t.type="text/javascript",t.src="/js/qrcode.min.js",t.addEventListener("load",function(){e.createQr(),e.beginPolling()}),document.head.append(t)},s);function s(e){var t=r.call(this)||this;return t.createQr=function(){var e=document.getElementById("qrcode");new window.QRCode(e,{text:t.params.text,width:250,height:250,colorDark:"#383E45",colorLight:"#ffffff",correctLevel:window.QRCode.CorrectLevel.M}),e.dataset.title=e.title,e.setAttribute("data-title",e.title),e.removeAttribute("title")},t.beginPolling=function(){var e=t.params.polling||function(){return Promise.resolve(!0)};setTimeout(function(){e().then(function(e){e?t.dispatchEvent(new a.IloveEvent("end")):t.beginPolling()})},2e3)},t.name="QrState",t.LAYOUT_TEMPLATE_NAME="qr-pad",t.params=e,t}t.default=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.SignerElementInitials=void 0,n(217)),s=n(219),u=n(194),n=n(195),n=(r=n.SignerElementBase,o(l,r),l.prototype.init=function(){r.prototype.init.call(this),this.drawElement=new a.SignerElementDraw({signatureModel:this.signatureModel,elementType:this.elementType,api:this.api}),this.textElement=new s.SignerElementText({signatureModel:this.signatureModel,elementType:this.elementType}),this.fileElement=new u.SignerElementFile({signatureModel:this.signatureModel,elementType:this.elementType,api:this.api})},l.prototype.initActiveSubtab=function(e){e=(e=void 0===e?null:e)||this.currentActiveMode;"draw"==e&&this.drawElement.showCanvas(),"font"==e&&this.textElement.init(),"image"==e&&this.fileElement.init()},l.prototype.setColor=function(e){this.drawElement.setColor(e),this.textElement.setColor(e)},l.prototype.getAllUploaders=function(){return[this.drawElement.uploader,this.fileElement.uploader].filter(function(e){return void 0!==e})},l.prototype.uploadSvgIfNeeded=function(){return this.drawElement&&this.drawElement.uploadSvgIfNeeded()},l.prototype.uploadImageIfNeeded=function(){return!!this.fileElement.haveFilesToUpload&&(this.fileElement.uploader.reUploadAllFiles(),!0)},l.prototype.getDrawData=function(){},l.prototype.getData=function(){var e={initialsMode:this.elementModeCurrent,draw:{initialsBase64:null!=(e=null==(e=this.drawElement)?void 0:e.getEncodedBase64())?e:null,initialsData:null!=(e=null==(e=this.drawElement)?void 0:e.getPadData())?e:null,initials:null!=(e=null==(e=this.drawElement)?void 0:e.getServiceFile())?e:null,initialsApi:null!=(e=null==(e=this.drawElement)?void 0:e.getApiFile())?e:null,color:null!=(e=null==(e=this.drawElement)?void 0:e.getColor())?e:null},font:void 0,image:{initials:null!=(e=this.fileElement.getServiceFile())?e:null,initialsApi:null!=(e=this.fileElement.getApiFile())?e:null,initialsBase64:null!=(e=this.fileElement.fileBase64)?e:null},disabled:!!this.disabled};return this.textElement&&(e.font={color:this.textElement.getColor(),fontFamily:this.textElement.getFont()}),e},l.prototype.validate=function(){if(this.disabled)return!0;var e=this.isTabModeEnabled("font");switch(this.elementModeCurrent){case"draw":return!this.drawElement.isValid()&&e?(this.activateSubtab("font"),this.elementModeCurrent="font",this.validate()):!this.isTabModeEnabled(this.elementModeCurrent)||this.drawElement.validate();case"image":return!this.fileElement.isValid()&&e?(this.activateSubtab("font"),this.elementModeCurrent="font",this.validate()):!this.isTabModeEnabled(this.elementModeCurrent)||this.fileElement.validate();case"font":return this.textElement.validate()}},l.prototype.uploadImageFromService=function(){this.drawElement.uploadFromService(),this.fileElement.uploadFromService()},l.prototype.checkUploadIsCompleted=function(){return this.drawElement.checkUploadIsCompleted()&&this.fileElement.checkUploadIsCompleted()},l.prototype.apiFailed=function(){return 1==this.drawElement.apiFail&&1==this.fileElement.apiFail},l.prototype.serviceError=function(){this.drawElement.serviceFail=!0,this.fileElement.serviceFail=!0,this.getAllUploaders().forEach(function(e){null!=e&&e.setApiMode()})},l.prototype.setServiceOnly=function(){this.fileElement.serviceOnly=!0,this.drawElement.serviceOnly=!0},l.prototype.cleanErrors=function(){this.drawElement.cleanErrors(),this.fileElement.cleanErrors(),this.textElement.cleanErrors()},l.prototype.applyModel=function(){this.elementMode=this.signatureModel[this.elementType+"Mode"]||"font",this.textElement.applyModel(),this.drawElement.applyModel(),this.fileElement.applyModel()},l.prototype.reset=function(){this.elementModeCurrent=this.elementMode,this.drawElement.reset(),this.textElement.reset(),this.fileElement.reset()},l.prototype.saveCurrentMode=function(){this.elementMode=this.elementModeCurrent},l);function l(e){var t,e=r.call(this,e)||this;return e.elementType="initials",e.elementMode=null!=(t=e.elementMode)?t:"font",e.elementModeCurrent=null!=(t=e.elementModeCurrent)?t:"font",e.init(),e}t.SignerElementInitials=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.SignerElementStamp=void 0,n(194)),n=n(195),n=(r=n.SignerElementBase,o(s,r),s.prototype.init=function(){r.prototype.init.call(this),this.fileElement=new a.SignerElementFile({signatureModel:this.signatureModel,elementType:this.elementType,api:this.api}),this.elementMode="image",this.elementModeCurrent="image"},s.prototype.initActiveSubtab=function(e){void 0===e&&(e=null),this.fileElement.init()},s.prototype.getAllUploaders=function(){return[this.fileElement.uploader].filter(function(e){return void 0!==e})},s.prototype.uploadSvgIfNeeded=function(){return!1},s.prototype.uploadImageIfNeeded=function(){return!!this.fileElement.haveFilesToUpload&&(this.fileElement.uploader.reUploadAllFiles(),!0)},s.prototype.getData=function(){var e={image:{stampApi:null!=(e=null==(e=this.fileElement)?void 0:e.getApiFile())?e:null,stamp:null!=(e=null==(e=this.fileElement)?void 0:e.getServiceFile())?e:null,stampBase64:null!=(e=null==(e=this.fileElement)?void 0:e.fileBase64)?e:null}};return e.image.stampApi||e.image.stamp||(e.image.stampBase64=null),e},s.prototype.validate=function(){return!this.checkIsRequired()&&!this.fileElement.haveFilesToUpload||!!this.fileElement.validate()&&(this.fileElement.cleanErrors(),!0)},s.prototype.uploadImageFromService=function(){this.fileElement.uploadFromService()},s.prototype.checkUploadIsCompleted=function(){return this.fileElement.checkUploadIsCompleted()},s.prototype.apiFailed=function(){return 1==this.fileElement.apiFail},s.prototype.serviceError=function(){this.fileElement.serviceFail=!0,this.getAllUploaders().forEach(function(e){null!=e&&e.setApiMode()})},s.prototype.setServiceOnly=function(){this.fileElement.serviceOnly=!0},s.prototype.applyModel=function(){this.fileElement.applyModel()},s.prototype.reset=function(){this.applyModel()},s);function s(e){e=r.call(this,e)||this;return e.elementType="stamp",e.elementMode="image",e.elementModeCurrent="image",e.init(),e}t.SignerElementStamp=n},function(e,t,n){"use strict";!function(n){function e(e){this.inputNameId="signName",this.inputInitialsId="signInitials",Object.assign(this,e),this.initActions()}Object.defineProperty(t,"__esModule",{value:!0}),t.SignerElementBasicData=void 0,Object.defineProperty(e.prototype,"nameEl",{get:function(){return document.getElementById(this.inputNameId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialsEl",{get:function(){return document.getElementById(this.inputInitialsId)},enumerable:!1,configurable:!0}),e.prototype.initActions=function(){var e=this;this.nameEl.addEventListener("keyup",function(){e.applyTextPreview()}),this.initialsEl.addEventListener("keyup",function(){e.initialsCustom=!0,e.applyTextPreview()}),this.applyTextPreview()},e.prototype.modelChanged=function(){this.nameEl.value=this.signatureModel.signature,this.initialsEl.value=this.signatureModel.initials,this.applyTextPreview()},e.prototype.applyTextPreview=function(){var t,e,n,i=this.nameEl.value;""!=i&&((""==(t=this.initialsEl.value)&&""!==i||""!==i&&!0!==this.initialsCustom)&&(t=this.getInitialsFromName(i),this.initialsEl.value=t),e=document.querySelectorAll("#signatureFont .signature__font__signature"),n=document.querySelectorAll("#initialsFont .signature__font__signature"),e.forEach(function(e){e.innerHTML=i}),n.forEach(function(e){e.innerHTML=t}))},e.prototype.getInitialsFromName=function(e){return e.split(" ").map(function(e){return Array.from(e)[0]}).join("").toUpperCase()},e.prototype.validate=function(){var e=this.nameEl,t=this.initialsEl;if(""==e.value.toString().trim())return e.classList.add("error"),e.classList.remove("shake"),n(".dialog__body").animate({scrollTop:e.getBoundingClientRect().top,duration:200},function(){e.classList.add("shake")}),!1;if(""==t.value.toString().trim()||!0!==this.initialsCustom){if(""==e.toString().trim())return t.classList.add("error"),t.classList.remove("shake"),n(".dialog__body").animate({scrollTop:t.getBoundingClientRect().top,duration:200},function(){t.classList.add("shake")}),!1;this.initialsCustom=!1,t.value=this.getInitialsFromName(e.value.toString())}return e.classList.remove("error","shake"),t.classList.remove("error","shake"),!0},e.prototype.applyModel=function(){var e=this.nameEl,t=this.initialsEl;e.value=this.signatureModel.signature,t.value=this.signatureModel.initials,e.dispatchEvent(new Event("change")),t.dispatchEvent(new Event("change"))},e.prototype.reset=function(){this.applyModel(),this.applyTextPreview()},t.SignerElementBasicData=e}.call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventModel=void 0;var i=n(25);function r(){this.eventEmitter=new i.ILoveEventEmitter}r.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},r.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},t.EventModel=r},function(e,t){var n,i,r,o,a,s;function u(){document.querySelectorAll("a.anchor").forEach(function(e){var t,n;(t=(e=e).getAttribute("name"))&&(e=e.getBoundingClientRect().y,r(e))&&(n=!1,document.querySelectorAll('.sidebar .sidebar__menu__item a[href$="#'+t+'"]').forEach(function(e){e.parentElement.classList.add("sidebar__menu__item--active"),o(e),n=!0}),n)&&i(t)})}0!=document.querySelectorAll(".sidebar").length&&(0!==(s=document.querySelectorAll(".sidebar")).length&&(a=function(){s.forEach(function(e){var t=e,n=t.getBoundingClientRect(),i=t.parentElement,r=i.getBoundingClientRect(),o=getComputedStyle(t),i=getComputedStyle(i),i=(t.style.width=r.width-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)+"px",o.getPropertyValue("--max-height-offset")),o=(t.style.maxHeight="calc(100vh - "+n.top+"px "+(i?"-"+i:"")+")",Math.abs(n.bottom-r.bottom));n.bottom>r.bottom?t.style.height=n.height-o+"px":t.style.height=n.height+o+"px";i=e.querySelector(".sidebar__menu__item--active");i&&(void 0===(r=i).scrollIntoViewIfNeeded?r.scrollIntoView():r.scrollIntoViewIfNeeded())})},window.addEventListener("scroll",a),window.addEventListener("resize",a),void 0!==window.ResizeObserver&&new window.ResizeObserver(a).observe(document.body),a()),i=function(e){document.querySelectorAll('.sidebar .sidebar__menu__item a[href]:not([href$="#'+e+'"])').forEach(function(e){e.parentElement.classList.remove("sidebar__menu__item--active")})},r=function(e){return e<=.1*window.innerHeight},o=function(e){var t=e.parentElement.parentElement.scrollTop,t=e.parentElement.parentElement.parentElement.clientHeight+t,n=e.getBoundingClientRect(),i=n.y;(i<=n.height||t<i)&&e.scrollIntoView()},window.addEventListener("scroll",u),u(),(n=document.querySelectorAll(".main-sidebar__sidebar")).forEach(function(e){e.addEventListener("click",function(e){e.target===this&&this.classList.toggle("main-sidebar__sidebar--display")})}),document.querySelectorAll(".main-sidebar__backdrop").forEach(function(e){e.addEventListener("click",function(){n.forEach(function(e){e.classList.remove("main-sidebar__sidebar--display")})})}))},,,,,,,,,,,,,,,,,,,,,,,function(F,e,t){"use strict";t.r(e),t.d(e,"parsePhoneNumberWithError",function(){return Dt}),t.d(e,"parsePhoneNumber",function(){return Dt}),t.d(e,"parsePhoneNumberFromString",function(){return Tt}),t.d(e,"default",function(){return Tt}),t.d(e,"isValidPhoneNumber",function(){return kt}),t.d(e,"isPossiblePhoneNumber",function(){return Bt}),t.d(e,"validatePhoneNumberLength",function(){return Ut}),t.d(e,"findNumbers",function(){return An}),t.d(e,"searchNumbers",function(){return On}),t.d(e,"findPhoneNumbersInText",function(){return $n}),t.d(e,"searchPhoneNumbersInText",function(){return Bn}),t.d(e,"PhoneNumberMatcher",function(){return Nn}),t.d(e,"AsYouType",function(){return Si}),t.d(e,"isSupportedCountry",function(){return Ci}),t.d(e,"getCountries",function(){return Ai}),t.d(e,"getCountryCallingCode",function(){return xi}),t.d(e,"getExtPrefix",function(){return Oi}),t.d(e,"Metadata",function(){return Ti}),t.d(e,"getExampleNumber",function(){return Pi}),t.d(e,"formatIncompletePhoneNumber",function(){return ki}),t.d(e,"ParseError",function(){return c}),t.d(e,"parseIncompletePhoneNumber",function(){return b}),t.d(e,"parsePhoneNumberCharacter",function(){return ve}),t.d(e,"parseDigits",function(){return y}),t.d(e,"parseRFC3966",function(){return ke}),t.d(e,"formatRFC3966",function(){return Le}),t.d(e,"DIGIT_PLACEHOLDER",function(){return L});var n={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6],0,0,0,0,0,0,0,[0,["4\\d{4}",[5]]]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["690\\d{6}|[356]\\d{5}",[6,9]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0",0,0,0,0,0,[0,["5[024-68]\\d{7}",[9]]]],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0",0,0,0,0,0,[0,["7\\d{8}"]]],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268",[0,["268(?:464|7(?:1[3-9]|[28]\\d|3[0246]|64|7[0-689]))\\d{4}"]]],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264",[0,["264(?:235|4(?:69|76)|5(?:3[6-9]|8[1-4])|7(?:29|72))\\d{4}"]]],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0",0,0,0,0,0,[0,["6(?:[78][2-9]|9\\d)\\d{6}",[9]]]],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:33|4[1349]|55|77|88|9[13-9])\\d{6}"]]],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]],0,0,0,0,0,0,[0,["9[1-59]\\d{7}"]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1",0,0,[0,["93(?:7(?:1[15]|81)[46]|8(?:(?:21|4[16]|69|9[12])[46]|88[013-9]))\\d{5}|9(?:2(?:657|9(?:54|66))|3(?:7(?:55|77)|865))[2-8]\\d{5}|9(?:2(?:2(?:2[59]|44|52)|3(?:26|44)|473|9(?:[07]2|2[26]|34|46))|3327)[45]\\d{5}|9(?:2(?:284|3(?:02|23)|920)|3(?:4(?:46|8[27]|92)|541|878))[2-7]\\d{5}|9(?:2(?:(?:26|62)2|320|477|9(?:42|83))|3(?:329|4(?:62|76|89)|564))[2-6]\\d{5}|(?:675\\d|9(?:11[1-8]\\d|2(?:2(?:0[45]|1[2-6]|3[3-6])|3(?:[06]4|7[45])|494|6(?:04|1[2-8]|[36][45]|4[3-6])|80[45]|9(?:[17][4-6]|[48][45]|9[3-6]))|3(?:364|4(?:1[2-8]|[235][4-6]|84)|5(?:1[2-9]|[38][4-6])|6(?:2[45]|44)|7[069][45]|8(?:0[45]|[17][2-6]|3[4-6]|[58][3-6]))))\\d{6}|92(?:2(?:21|4[23]|6[145]|7[1-4]|8[356]|9[267])|3(?:16|3[13-8]|43|5[346-8]|9[3-5])|475|6(?:2[46]|4[78]|5[1568])|9(?:03|2[1457-9]|3[1356]|4[08]|[56][23]|82))4\\d{5}|9(?:2(?:2(?:57|81)|3(?:24|46|92)|9(?:01|23|64))|3(?:4(?:42|71)|5(?:25|37|4[347]|71)|7(?:18|5[17])))[3-6]\\d{5}|9(?:2(?:2(?:02|2[3467]|4[156]|5[45]|6[6-8]|91)|3(?:1[47]|25|[45][25]|96)|47[48]|625|932)|3(?:38[2578]|4(?:0[0-24-9]|3[78]|4[457]|58|6[03-9]|72|83|9[136-8])|5(?:2[124]|[368][23]|4[2689]|7[2-6])|7(?:16|2[15]|3[145]|4[13]|5[468]|7[2-5]|8[26])|8(?:2[5-7]|3[278]|4[3-5]|5[78]|6[1-378]|[78]7|94)))[4-6]\\d{5}"]]],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684",[0,["684(?:2(?:48|5[2468]|7[26])|7(?:3[13]|70|82))\\d{4}"]]],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0",0,0,0,0,0,[0,["6(?:5[0-3579]|6[013-9]|[7-9]\\d)\\d{4,10}",[7,8,9,10,11,12,13]]]],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[0,["4(?:(?:79|94)[01]|83[0-389])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[0-36-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]],0,0,0,0,0,0,[0,["(?:290|5[69]\\d|6(?:[03]0|22|4[0-2]|[69]\\d)|7(?:[34]\\d|7[07])|9(?:6[45]|9[4-8]))\\d{4}"]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",[0,["4946\\d{2,6}|(?:4[0-8]|50)\\d{4,8}",[6,7,8,9,10]]],"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0",0,0,0,0,0,[0,["36554\\d{4}|(?:[16]0|4[04]|5[015]|7[07]|99)\\d{7}"]]],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0",0,0,0,0,0,[0,["6040\\d{5}|6(?:03|[1-356]|44|7\\d)\\d{6}"]]],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246",[0,["246(?:(?:2(?:[3568]\\d|4[0-57-9])|3(?:5[2-9]|6[0-6])|4(?:46|5\\d)|69[5-7]|8(?:[2-5]\\d|83))\\d|52(?:1[147]|20))\\d{3}"]]],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|22"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0",0,0,0,0,0,[0,["(?:1[13-9]\\d|644)\\d{7}|(?:3[78]|44|66)[02-9]\\d{7}",[10]]]],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0",0,0,0,0,0,[0,["4[5-9]\\d{7}",[9]]]],BF:["226","00","[025-7]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]],0,0,0,0,0,0,[0,["(?:0[1-35-7]|5[0-8]|[67]\\d)\\d{6}"]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0",0,0,0,0,0,[0,["(?:43[07-9]|99[69]\\d)\\d{5}|(?:8[7-9]|98)\\d{7}",[8,9]]]],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]],0,0,0,0,0,0,[0,["(?:3(?:[0-79]\\d|8[0-57-9])\\d|6(?:3(?:00|33|6[16])|441|6(?:3[03-9]|[69]\\d|7[0-689])))\\d{4}"]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]],0,0,0,0,0,0,[0,["(?:29|[67][125-9])\\d{6}"]]],BJ:["229","00","[24-689]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]]],0,0,0,0,0,0,[0,["(?:4[0-7]|[56]\\d|9[013-9])\\d{6}"]]],BL:["590","00","590\\d{6}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[0,["69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441",[0,["441(?:[2378]\\d|5[0-39]|9[02])\\d{5}"]]],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]],0,0,0,0,0,0,[0,["(?:22[89]|[78]\\d\\d)\\d{4}"]]],BO:["591","00(?:1\\d)?","(?:[2-467]\\d\\d|8001)\\d{5}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[23]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?",0,0,0,[0,["[67]\\d{7}",[8]]]],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]",[0,["(?:31(?:8[14-8]|9[14578])|416[14-9]|7(?:0[01]|7[07]|8\\d|9[056])\\d)\\d{3}"]]],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-46-9]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2",0,0,[0,["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])(?:7|9\\d)\\d{7}",[10,11]]]],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242",[0,["242(?:3(?:5[79]|7[56]|95)|4(?:[23][1-9]|4[1-35-9]|5[1-8]|6[2-8]|7\\d|81)|5(?:2[45]|3[35]|44|5[1-46-9]|65|77)|6[34]6|7(?:27|38)|8(?:0[1-9]|1[02-9]|2\\d|3[0-4]|[89]9))\\d{4}"]]],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]],0,0,0,0,0,0,[0,["(?:1[67]|77)\\d{6}",[8]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[0,["(?:321|7[1-8]\\d)\\d{5}",[8]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,[0,["(?:2(?:5[5-79]|9[1-9])|(?:33|44)\\d)\\d{6}",[9]]],"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]],0,0,0,0,0,0,[0,["6[0-35-7]\\d{5}",[7]]]],CA:["1","011","(?:[2-8]\\d|90)\\d{8}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[0,["(?:2(?:04|[23]6|[48]9|50|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|90[25])[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[0,["4(?:(?:79|94)[01]|83[0-389])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[0-36-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]]],"0011"],CD:["243","00","[189]\\d{8}|[1-68]\\d{6}",[7,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,[0,["88\\d{5}|(?:8[0-69]|9[017-9])\\d{7}"]]],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]],0,0,0,0,0,0,[0,["7[024-7]\\d{6}"]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]],0,0,0,0,0,0,[0,["026(?:1[0-5]|6[6-9])\\d{4}|0(?:[14-6]\\d\\d|2(?:40|5[5-8]|6[07-9]))\\d{5}"]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0",0,0,0,0,0,[0,["7[35-9]\\d{7}"]]],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]],0,0,0,0,0,0,[0,["0[157]\\d{8}"]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]],0,0,0,0,0,0,[0,["[578]\\d{4}"]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]],0,0,0,0,0,0,[0,["2(?:1982[0-6]|3314[05-9])\\d{3}|(?:2(?:1(?:160|962)|3(?:2\\d\\d|3(?:[03467]\\d|1[0-35-9]|2[1-9]|5[0-24-9]|8[0-3])|600)|646[59])|80[1-9]\\d\\d|9(?:3(?:[0-57-9]\\d\\d|6(?:0[02-9]|[1-9]\\d))|6(?:[0-8]\\d\\d|9(?:[02-79]\\d|1[05-9]))|7[1-9]\\d\\d|9(?:[03-9]\\d\\d|1(?:[0235-9]\\d|4[0-24-9])|2(?:[0-79]\\d|8[0-46-9]))))\\d{4}|(?:22|3[2-5]|[47][1-35]|5[1-3578]|6[13-57]|8[1-9]|9[2458])\\d{7}",[9]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]],0,0,0,0,0,0,[0,["(?:24[23]|6[25-9]\\d)\\d{6}",[9]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","1[127]\\d{8,9}|2\\d{9}(?:\\d{2})?|[12]\\d{6,7}|86\\d{6}|(?:1[03-689]\\d|6)\\d{7,9}|(?:[3-579]\\d|8[0-57-9])\\d{6,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]","(?:10|2[0-57-9])(?:10|9[56])","10(?:10|9[56])|2[0-57-9](?:100|9[56])"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,[0,["1740[0-5]\\d{6}|1(?:[38]\\d|4[57]|[59][0-35-9]|6[25-7]|7[0-35-8])\\d{8}",[11]]],"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:60\\d\\d|9101)\\d{6}|(?:1\\d|3)\\d{9}",[10,11],[["(\\d{3})(\\d{7})","$1 $2",["6"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|91"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?",0,0,0,[0,["333301[0-5]\\d{3}|3333(?:00|2[5-9]|[3-9]\\d)\\d{4}|(?:3(?:24[1-9]|3(?:00|3[0-24-9]))|9101)\\d{6}|3(?:0[0-5]|1\\d|2[0-3]|5[01]|70)\\d{7}",[10]]]],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))",0,0,0,[0,["(?:3005\\d|6500[01])\\d{3}|(?:5[07]|6[0-4]|7[0-3]|8[3-9])\\d{6}",[8]]]],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0",0,0,0,0,0,[0,["(?:5\\d|6[2-4])\\d{6}",[8]]]],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]],0,0,0,0,0,0,[0,["(?:36|5[1-389]|9\\d)\\d{5}"]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]",[0,["953[01]\\d{4}|9(?:5[12467]|6[5-9])\\d{5}"]]],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[0,["4(?:(?:79|94)[01]|83[0-389])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[0-36-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]],0,0,0,0,0,0,[0,["9(?:10|[4-79]\\d)\\d{5}"]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,[0,["(?:60[1-8]\\d|7(?:0(?:[2-5]\\d|60)|190|[2379]\\d\\d))\\d{5}"]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|31)"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0",0,0,0,0,0,[0,["15(?:[0-25-9]\\d\\d|310)\\d{6}|1(?:6[023]|7\\d)\\d{7,8}",[10,11]]]],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]],0,0,0,0,0,0,[0,["77\\d{6}"]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]],0,0,0,0,0,0,[0,["(?:[2-7]\\d|8[126-9]|9[1-46-9])\\d{6}"]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767",[0,["767(?:2(?:[2-4689]5|7[5-7])|31[5-7]|61[1-8]|70[1-6])\\d{4}"]]],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9",[0,["8[024]9[2-9]\\d{6}"]]],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:5(?:4[0-29]|5\\d|6[0-2])|6(?:[569]\\d|7[0-6])|7[7-9]\\d)\\d{6}",[9]]]],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0",0,0,0,0,0,[0,["964[0-2]\\d{5}|9(?:39|[57][89]|6[0-36-9]|[89]\\d)\\d{6}",[9]]]],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[0,["(?:5\\d{5}|8(?:1(?:0(?:0(?:00|[178]\\d)|[3-9]\\d\\d)|(?:1(?:0[236]|1\\d)|(?:2[0-59]|[3-79]\\d)\\d)\\d)|2(?:0(?:0(?:00|4\\d)|(?:19|[2-7]\\d)\\d)|(?:(?:[124-6]\\d|3[5-9])\\d|7(?:[0-79]\\d|8[13-9])|8(?:[2-6]\\d|7[01]))\\d)|[349]\\d{4}))\\d\\d|5(?:(?:[02]\\d|5[0-478])\\d|1(?:[0-8]\\d|95)|6(?:4[0-4]|5[1-589]))\\d{3}",[7,8]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0",0,0,0,0,0,[0,["1[0-25]\\d{8}",[10]]]],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]",[0,["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-4]|5[01]|8[0-3]))\\d{6}"]]],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:17[1-3]|7\\d\\d)\\d{4}"]]],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]],0,0,0,0,0,0,[0,["(?:590[16]00\\d|9(?:6906(?:09|10)|7390\\d\\d))\\d\\d|(?:6\\d|7[1-48])\\d{7}"]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0",0,0,0,0,0,[0,["700[1-9]\\d{5}|(?:7(?:0[1-9]|1[0-8]|22|77|86|99)|9\\d\\d)\\d{6}"]]],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:1[3-79]|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",[0,["4946\\d{2,6}|(?:4[0-8]|50)\\d{4,8}",[6,7,8,9,10]]],"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,[0,["(?:[279]\\d|45|5[01568]|8[034679])\\d{5}",[7]]],"00"],FK:["500","00","[2-7]\\d{4}",[5],0,0,0,0,0,0,0,[0,["[56]\\d{4}"]]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]],0,0,0,0,0,0,[0,["31(?:00[67]|208|309)\\d\\d|(?:3(?:[2357]0[1-9]|602|804|905)|(?:820|9[2-7]\\d)\\d)\\d{3}"]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))",0,0,0,[0,["(?:[27][1-9]|5\\d|9[16])\\d{4}"]]],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:6(?:[0-24-8]\\d|3[0-8]|9[589])|7[3-9]\\d)\\d{6}"]]],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1",0,0,[0,["(?:(?:0[2-7]|7[467])\\d|6(?:0[0-4]|10|[256]\\d))\\d{5}|[2-7]\\d{6}"]]],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[0,["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473",[0,["473(?:4(?:0[2-79]|1[04-9]|2[0-5]|49|5[68])|5(?:2[01]|3[3-8])|901)\\d{4}"]]],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0",0,0,0,0,0,[0,["5(?:(?:(?:0555|1(?:[17]77|555))[5-9]|757(?:7[7-9]|8[01]))\\d|22252[0-4])\\d\\d|(?:5(?:0(?:0(?:0\\d|11|22|33|44|5[05]|77|88|9[09])|111)|1(?:1(?:[03][01]|[124]\\d)|4\\d\\d)|(?:44|6[89])\\d\\d|5(?:[0157-9]\\d\\d|200)|7(?:[0147-9]\\d\\d|5(?:00|[57]5))|8(?:0(?:[018]\\d|2[0-4])|58[89]|8(?:55|88))|9(?:090|[1-35-9]\\d\\d))|790\\d\\d)\\d{4}|5(?:0(?:0[17]0|505)|1(?:0[01]0|1(?:07|33|51))|2(?:0[02]0|2[25]2)|3(?:0[03]0|3[35]3)|(?:40[04]|900)0|5222)[0-4]\\d{3}"]]],GF:["594","00","[56]94\\d{6}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[56]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0",0,0,0,0,0,[0,["694(?:[0-249]\\d|3[0-8])\\d{4}"]]],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0","1481$1",0,0,[0,["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:2(?:[0346-9]\\d|5[67])|5(?:[03-7]\\d|9[1-9]))\\d{6}",[9]]]],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]],0,0,0,0,0,0,[0,["5251[0-4]\\d{3}|(?:5(?:[146-8]\\d\\d|250)|60(?:1[01]|6\\d))\\d{4}"]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]],0,0,0,0,0,0,[0,["[245]\\d{5}"]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]],0,0,0,0,0,0,[0,["(?:[23679]\\d|5[0-489])\\d{5}"]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]],0,0,0,0,0,0,[0,["6[0-356]\\d{7}",[9]]]],GP:["590","00","590\\d{6}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[0,["69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]],0,0,0,0,0,0,[0,["(?:222|55\\d)\\d{6}"]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[0,["68[57-9]\\d{7}|(?:69|94)\\d{8}",[10]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,["(?:[3-5]\\d\\d|80[0-4])\\d{5}",[8]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671",[0,["671(?:2\\d\\d|3(?:00|3[39]|4[349]|55|6[26])|4(?:00|56|7[1-9]|8[02-46-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[235-9])|7(?:[0479]7|2[0167]|3[45]|8[7-9])|8(?:[2-57-9]8|6[48])|9(?:2[29]|6[79]|7[1279]|8[7-9]|9[78]))\\d{4}"]]],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]],0,0,0,0,0,0,[0,["9(?:5\\d|6[569]|77)\\d{6}",[9]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]],0,0,0,0,0,0,[0,["(?:510|6\\d\\d|7(?:[01]\\d|2[1256]|3[12]|49))\\d{4}"]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,[0,["(?:4(?:44[0-25-9]|6(?:1[0-7]|4[0-57-9]|6[0-4]))|5(?:73[0-6]|95[0-8])|6(?:26[013-8]|66[0-3])|70(?:7[1-8]|8[0-4])|848[0-35-9]|9(?:29[013-9]|39[01]|59[0-4]|899))\\d{4}|(?:4(?:4[0-35-8]|6[02357-9])|5(?:[1-59][0-46-9]|6[0-4689]|7[0-246-9])|6(?:0[1-9]|[13-59]\\d|[268][0-57-9]|7[0-79])|70[129]|84[0-29]|9(?:0[1-9]|1[02-9]|[2358][0-8]|[467]\\d))\\d{5}",[8]]],"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]],0,0,0,0,0,0,[0,["[37-9]\\d{7}",[8]]]],HR:["385","00","(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",[6,7,8,9],[["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0",0,0,0,0,0,[0,["9(?:(?:0[1-9]|[12589]\\d)\\d\\d|7(?:[0679]\\d\\d|5(?:[01]\\d|44|55|77|9[5-7])))\\d{4}|98\\d{6}",[8,9]]]],HT:["509","00","(?:[2-489]\\d|55)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]],0,0,0,0,0,0,[0,["(?:[34]\\d|55)\\d{6}"]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06",0,0,0,0,0,[0,["(?:[257]0|3[01])\\d{7}",[9]]]],ID:["62","00[89]","(?:(?:00[1-9]|8\\d)\\d{4}|[1-36])\\d{6}|00\\d{10}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0",0,0,0,0,0,[0,["8[1-35-9]\\d{7,10}",[9,10,11,12]]]],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[0,["8(?:22|[35-9]\\d)\\d{6}",[9]]]],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0",0,0,0,0,0,[0,["55410\\d{4}|5(?:(?:[02][02-9]|[149][2-9]|[36]\\d|8[3-7])\\d|5(?:01|2\\d|3[0-3]|4[34]|5[0-25689]|6[6-8]|7[0-267]|8[7-9]|9[1-9]))\\d{5}",[9]]]],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0","1624$1",0,"74576|(?:16|7[56])24",[0,["76245[06]\\d{4}|7(?:4576|[59]24\\d|624[0-4689])\\d{5}"]]],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0",0,0,0,0,0,[0,["(?:61279|7(?:887[02-9]|9(?:313|79[07-9]))|8(?:079[04-9]|(?:84|91)7[02-8]))\\d{5}|(?:6(?:12|[2-47]1|5[17]|6[13]|80)[0189]|7(?:1(?:2[0189]|9[0-5])|2(?:[14][017-9]|8[0-59])|3(?:2[5-8]|[34][017-9]|9[016-9])|4(?:1[015-9]|[29][89]|39|8[389])|5(?:[15][017-9]|2[04-9]|9[7-9])|6(?:0[0-47]|1[0-257-9]|2[0-4]|3[19]|5[4589])|70[0289]|88[089]|97[02-8])|8(?:0(?:6[67]|7[02-8])|70[017-9]|84[01489]|91[0-289]))\\d{6}|(?:7(?:31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[0189]\\d|7[02-8])\\d{5}|(?:6(?:[09]\\d|1[04679]|2[03689]|3[05-9]|4[0489]|50|6[069]|7[07]|8[7-9])|7(?:0\\d|2[0235-79]|3[05-8]|40|5[0346-8]|6[6-9]|7[1-9]|8[0-79]|9[089])|8(?:0[01589]|1[0-57-9]|2[235-9]|3[03-57-9]|[45]\\d|6[02457-9]|7[1-69]|8[0-25-9]|9[02-9])|9\\d\\d)\\d{7}|(?:6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|8[124-6])\\d|7(?:[235689]\\d|4[0189]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-5])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]|881))[0189]\\d{5}",[10]]]],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]],0,0,0,0,0,0,[0,["38\\d{5}"]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,[0,["7[3-9]\\d{8}",[10]]]],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0",0,0,0,0,0,[0,["9(?:(?:0(?:[0-35]\\d|4[4-6])|(?:[13]\\d|2[0-3])\\d)\\d|9(?:[0-46]\\d\\d|5[15]0|8(?:[12]\\d|88)|9(?:0[0-3]|[19]\\d|21|69|77|8[7-9])))\\d{5}",[10]]]],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[0,["(?:38[589]\\d\\d|6(?:1[1-8]|2[0-6]|3[026-9]|4[014679]|5[0159]|6[0-69]|70|8[06-8]|9\\d)|7(?:5[057]|[6-9]\\d)|8(?:2[0-59]|[3-69]\\d|8[238]))\\d{4}"]],"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[0,["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0","1534$1",0,0,[0,["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876",[0,["(?:658295|876(?:2(?:0[1-9]|[13-9]\\d|2[013-9])|[348]\\d\\d|5(?:0[1-9]|[1-9]\\d)|6(?:4[89]|6[67])|7(?:0[07]|7\\d|8[1-47-9]|9[0-36-9])|9(?:[01]9|9[0579])))\\d{4}"]]],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,[0,["7(?:[78][0-25-9]|9\\d)\\d{6}",[9]]]],JP:["81","010","00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[257-9]"],"0$1"]],"0",0,"(000[259]\\d{6})$|(?:(?:003768)0?)|0","$1",0,0,[0,["[7-9]0[1-9]\\d{7}",[10]]]],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:1(?:0[0-8]|1[0-5]|2[014]|30)|7\\d\\d)\\d{6}",[9]]]],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[0,["312(?:58\\d|973)\\d{3}|(?:2(?:0[0-35]|2\\d)|5[0-24-7]\\d|600|7(?:[07]\\d|55)|88[08]|9(?:12|9[05-9]))\\d{6}",[9]]]],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0",0,0,0,0,0,[0,["(?:(?:1[28]|3[18]|9[67])\\d|6[016-9]|7(?:[07-9]|[16]\\d)|8(?:[013-79]|8\\d))\\d{6}|(?:1\\d|9[0-57-9])\\d{6}|(?:2[3-6]|3[2-6]|4[2-4]|[5-7][2-5])48\\d{5}",[8,9]]]],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0",0,0,0,0,0,[0,["(?:6200[01]|7(?:310[1-9]|5(?:02[03-9]|12[0-47-9]|22[0-7]|[34](?:0[1-9]|8[02-9])|50[1-9])))\\d{3}|(?:63\\d\\d|7(?:(?:[0146-9]\\d|2[0-689])\\d|3(?:[02-9]\\d|1[1-9])|5(?:[0-2][013-9]|[34][1-79]|5[1-9]|[6-9]\\d)))\\d{4}",[8]]]],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]],0,0,0,0,0,0,[0,["[34]\\d{6}"]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869",[0,["869(?:48[89]|55[6-8]|66\\d|76[02-7])\\d{4}"]]],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0",0,0,0,0,0,[0,["19[1-3]\\d{7}",[10]]]],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?",0,0,0,[0,["1(?:05(?:[0-8]\\d|9[0-6])|22[13]\\d)\\d{4,5}|1(?:0[0-46-9]|[16-9]\\d|2[013-9])\\d{6,7}",[9,10]]]],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]],0,0,0,0,0,0,[0,["(?:41\\d\\d|5(?:(?:[05]\\d|1[0-7]|6[56])\\d|2(?:22|5[25])|7(?:55|77)|88[58])|6(?:(?:0[034679]|5[015-9]|6\\d)\\d|1(?:00|11|6[16])|2[26]2|3[36]3|4[46]4|7(?:0[013-9]|[67]\\d)|8[68]8|9(?:[069]\\d|3[039]))|9(?:(?:[04679]\\d|8[057-9])\\d|1(?:1[01]|99)|2(?:00|2\\d)|3(?:00|3[03])|5(?:00|5\\d)))\\d{4}",[8]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345",[0,["345(?:32[1-9]|42[0-4]|5(?:1[67]|2[5-79]|4[6-9]|50|76)|649|82[56]|9(?:1[679]|2[2-9]|3[06-9]|90))\\d{4}"]]],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33|7",[0,["7(?:0[0-25-8]|47|6[0-4]|7[15-8]|85)\\d{7}",[10]]],"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30[013-9]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:20(?:[23579]\\d|88)|30(?:2\\d|4))\\d{6}",[9,10]]]],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0",0,0,0,0,0,[0,["793(?:[01]\\d|2[0-4])\\d{3}|(?:(?:3|81)\\d|7(?:[01]\\d|6[013-9]|8[89]|9[12]))\\d{5}"]]],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758",[0,["758(?:28[4-7]|384|4(?:6[01]|8[4-9])|5(?:1[89]|20|84)|7(?:1[2-9]|2\\d|3[0-3])|812)\\d{4}"]]],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0",0,0,0,[0,["(?:6(?:(?:4[5-9]|5[0-469])\\d|6(?:[024-6]\\d|[17]0|3[7-9]))\\d|7(?:[37-9]\\d|42|56))\\d{4}"]]],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0",0,0,0,0,0,[0,["7(?:[0-25-8]\\d|4[0-4])\\d{6}"]]],LR:["231","00","(?:[245]\\d|33|77|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:(?:(?:22|33)0|555|(?:77|88)\\d)\\d|4(?:240|[67]))\\d{5}|[56]\\d{6}",[7,9]]]],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]],0,0,0,0,0,0,[0,["[56]\\d{7}"]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]",0,0,0,[0,["6\\d{7}"]]],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)",0,0,0,[0,["6(?:[269][18]|5[1568]|7[189]|81)\\d{6}",[9]]]],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]],0,0,0,0,0,0,[0,["23(?:23[0-57-9]|33[0238])\\d{3}|2(?:[0-24-9]\\d\\d|3(?:0[07]|[14-9]\\d|2[024-9]|3[0-24-9]))\\d{4}"]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0",0,0,0,0,0,[0,["9[1-6]\\d{7}"]]],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-4]|5[01]|8[0-3]))\\d{6}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0",0,0,0,0,0,[0,["4(?:[469]\\d|5[1-9])\\d{5}|(?:3|6\\d)\\d{7}"]]],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0",0,0,0,0,0,[0,["562\\d{5}|(?:6\\d|7[16-9])\\d{6}"]]],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0",0,0,0,0,0,[0,["6(?:[07-9]\\d|3[024]|6[0-25])\\d{5}",[8]]]],MF:["590","00","590\\d{6}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[0,["69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1",0,0,[0,["3[2-47-9]\\d{7}"]]],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1",0,0,0,0,0,[0,["(?:(?:23|54)5|329|45[35-8])\\d{4}"]]],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0",0,0,0,0,0,[0,["7(?:3555|(?:474|9[019]7)7)\\d{3}|7(?:[0-25-8]\\d\\d|3(?:[1-48]\\d|6[01]|7[01578])|4(?:2\\d|60|7[01578])|9(?:[2-4]\\d|5[01]|7[015]))\\d{4}"]]],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]],0,0,0,0,0,0,[0,["2(?:0(?:01|79)|17\\d)\\d{4}|(?:5[01]|[679]\\d|8[2-49])\\d{6}"]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0",0,0,0,0,0,[0,["(?:17[01]|9(?:2(?:[0-4]|[56]\\d\\d)|(?:3(?:[0-36]|4\\d)|(?:6\\d|8[89]|9[4-8])\\d|7(?:3|40|[5-9]\\d))\\d|4(?:(?:[0245]\\d|[1379])\\d|88)|5[0-6])\\d)\\d{4}|9[69]1\\d{6}|9(?:[68]\\d|9[089])\\d{5}",[7,8,9,10]]]],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:83[01]|92[039])\\d{5}|(?:5[05]|6[069]|8[015689]|9[013-9])\\d{6}",[8]]]],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]],0,0,0,0,0,0,[0,["6800[0-79]\\d{3}|6(?:[235]\\d\\d|6(?:0[0-5]|[1-9]\\d)|8(?:0[1-9]|[14-8]\\d|2[5-9]|[39][0-4]))\\d{4}",[8]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670",[0,["670(?:2(?:3[3-7]|56|8[4-8])|32[1-38]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[3589]|8[3-9]8|989)\\d{4}"]]],MQ:["596","00","596\\d{6}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[0,["69(?:6(?:[0-46-9]\\d|5[0-6])|727)\\d{4}"]]],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]],0,0,0,0,0,0,[0,["[2-4][0-46-9]\\d{6}"]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664",[0,["664(?:3(?:49|9[1-6])|49[2-6])\\d{4}"]]],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]],0,0,0,0,0,0,[0,["(?:7(?:210|[79]\\d\\d)|9(?:[29]\\d\\d|69[67]|8(?:1[1-3]|89|97)))\\d{4}"]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,[0,["5(?:4(?:2[1-389]|7[1-9])|87[15-8])\\d{4}|(?:5(?:2[5-9]|4[3-689]|[57]\\d|8[0-689]|9[0-8])|7(?:0[0-3]|3[013]))\\d{5}",[8]]],"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,[0,["(?:46[46]|[79]\\d\\d)\\d{4}",[7]]],"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0",0,0,0,0,0,[0,["111\\d{6}|(?:31|77|[89][89])\\d{7}",[9]]]],MX:["52","0[09]","1(?:(?:22|44|7[27]|87|9[69])[1-9]|65[0-689])\\d{7}|(?:1(?:[01]\\d|2[13-9]|[35][1-9]|4[0-35-9]|6[0-46-9]|7[013-689]|8[1-69]|9[1-578])|[2-9]\\d)\\d{8}",[10,11],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"],0,1],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 $3 $4",["1(?:33|5[56]|81)"],0,1],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 $3 $4",["1"],0,1]],"01",0,"0(?:[12]|4[45])|1",0,0,0,[0,["657[12]\\d{6}|(?:1(?:2(?:2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|3\\d|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-7][1-9]|3[1-8]|8[1-35-9]|9[2-689])|5(?:[56]\\d|88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[1-57-9]|7[1-7]|8[67]|9[4-8])|7(?:[1-467][1-9]|5[13-9]|8[1-69]|9[17])|8(?:1\\d|2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))|2(?:2\\d|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|3\\d|7[1-8]|9[1-5])|4(?:1[1-57-9]|[25-7][1-9]|3[1-8]|4\\d|8[1-35-9]|9[2-689])|5(?:[56]\\d|88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[1-57-9]|7[1-7]|8[67]|9[4-8])|7(?:[1346][1-9]|[27]\\d|5[13-9]|8[1-69]|9[17])|8(?:1\\d|2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[0-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69]\\d|7[12]|8[1-8]))\\d{7}"]],"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0",0,0,0,0,0,[0,["1(?:1888[689]|4400|8(?:47|8[27])[0-4])\\d{4}|1(?:0(?:[23568]\\d|4[0-6]|7[016-9]|9[0-8])|1(?:[1-5]\\d\\d|6(?:0[5-9]|[1-9]\\d)|7(?:[0-4]\\d|5[0-7]))|(?:[269]\\d|[37][1-9]|4[235-9])\\d|5(?:31|9\\d\\d)|8(?:1[23]|[236]\\d|4[06]|5(?:46|[7-9])|7[016-9]|8[01]|9[0-8]))\\d{5}",[9,10]]]],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[0,["8[2-79]\\d{7}",[9]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0",0,0,0,0,0,[0,["(?:60|8[1245])\\d{7}",[9]]]],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]],0,0,0,0,0,0,[0,["(?:5[0-4]|[79]\\d|8[0-79])\\d{4}"]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[047]"]]],0,0,0,0,0,0,[0,["(?:23|7[047]|[89]\\d)\\d{6}"]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1",0,0,[0,["(?:14|3[58])\\d{4}"]]],NG:["234","009","2[0-24-9]\\d{8}|[78]\\d{10,13}|[7-9]\\d{9}|[1-9]\\d{7}|[124-7]\\d{6}",[7,8,10,11,12,13,14],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-6]|7(?:0[0-689]|[1-79])|8[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:702[0-24-9]|819[01])\\d{6}|(?:7(?:0[13-9]|[12]\\d)|8(?:0[1-9]|1[0-8])|9(?:0[1-9]|1[1-6]))\\d{7}",[10]]]],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]],0,0,0,0,0,0,[0,["(?:5(?:5[0-7]|[78]\\d)|6(?:20|3[035]|4[045]|5[05]|77|8[1-9]|9[059])|(?:7[5-8]|8\\d)\\d)\\d{5}"]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0",0,0,0,0,0,[0,["(?:6[1-58]|970\\d)\\d{7}",[9,11]]]],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]",[0,["(?:4[015-8]|9\\d)\\d{6}",[8]]]],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0",0,0,0,0,0,[0,["9(?:00|6[0-3]|7[024-6]|8[0-24-68])\\d{7}",[10]]]],NR:["674","00","(?:444|(?:55|8\\d)\\d|666)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[4-68]"]]],0,0,0,0,0,0,[0,["(?:55[3-9]|666|8\\d\\d)\\d{4}"]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]],0,0,0,0,0,0,[0,["(?:[56]|888[1-9])\\d{3}"]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,[0,["2(?:[0-27-9]\\d|6)\\d{6,7}|2(?:1\\d|75)\\d{5}",[8,9,10]]],"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]],0,0,0,0,0,0,[0,["(?:1505|90[1-9]\\d)\\d{4}|(?:7[126-9]|9[1-9])\\d{6}",[8]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[0,["(?:1[16]1|21[89]|6\\d{3}|8(?:1[01]|7[23]))\\d{4}",[7,8]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,[0,["9\\d{8}",[9]]],"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]],0,0,0,0,0,0,[0,["8[7-9]\\d{6}",[8]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,[0,["(?:7\\d|8[1-38])\\d{6}",[8]]],"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0",0,0,0,0,0,[0,["(?:8(?:1[37]|9[5-8])|9(?:0[5-9]|1[0-24-9]|[235-7]\\d|4[2-9]|8[135-9]|9[1-9]))\\d{7}",[10]]]],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0",0,0,0,0,0,[0,["3(?:[0-247]\\d|3[0-79]|55|64)\\d{7}",[10]]]],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[0,["21(?:1[013-5]|2\\d)\\d{5}|(?:45|5[0137]|6[069]|7[2389]|88)\\d{7}",[9]]]],PM:["508","00","[45]\\d{5}|(?:708|80\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[0,["(?:4[02-4]|5[056]|708[45][0-5])\\d{4}"]]],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939",[0,["(?:787|939)[2-9]\\d{6}"]]],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0",0,0,0,0,0,[0,["5[69]\\d{7}",[9]]]],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]],0,0,0,0,0,0,[0,["6(?:[06]92(?:30|9\\d)|[35]92(?:[049]\\d|3[034]))\\d{3}|(?:(?:16|6[0356])93|9(?:[1-36]\\d\\d|480))\\d{5}"]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]],0,0,0,0,0,0,[0,["(?:(?:46|83)[0-5]|6[2-4689]0)\\d{4}|(?:45|77|88)\\d{5}"]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,[0,["9(?:51|6[129]|7[1-6]|8[1-7]|9[1-5])\\d{6}",[9]]]],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[16]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]],0,0,0,0,0,0,[0,["[35-7]\\d{7}",[8]]]],RE:["262","00","(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"],"0$1"]],"0",0,0,0,0,0,[0,["69(?:2\\d\\d|3(?:[06][0-6]|1[013]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))\\d{4}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,[0,["7020\\d{5}|(?:6(?:[04]0|2\\d)|7(?:0[013-9]|1[0-3]|[2-7]\\d|8[03-8]|9[0-39]))\\d{6}",[9]]],0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0",0,0,0,0,0,[0,["6(?:[0-689]|7\\d)\\d{6,7}",[8,9,10]]]],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,"3[04-689]|[489]",[0,["9\\d{9}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0",0,0,0,0,0,[0,["7[237-9]\\d{7}",[9]]]],SA:["966","00","92\\d{7}|(?:[15]|8\\d)\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0",0,0,0,0,0,[0,["579[01]\\d{5}|5(?:[013-689]\\d|7[0-8])\\d{6}",[9]]]],SB:["677","0[01]","(?:[1-6]|[7-9]\\d\\d)\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["7|8[4-9]|9(?:[1-8]|9[0-8])"]]],0,0,0,0,0,0,[0,["48\\d{3}|(?:(?:7[1-9]|8[4-9])\\d|9(?:1[2-9]|2[013-9]|3[0-2]|[46]\\d|5[0-46-9]|7[0-689]|8[0-79]|9[0-8]))\\d{4}"]]],SC:["248","010|0[0-2]","800\\d{4}|(?:[249]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,[0,["2[125-8]\\d{5}"]],"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:1[0-2]|9[0-3569])\\d{7}"]]],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0",0,0,0,0,0,[0,["7[02369]\\d{7}",[9]]]],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,["8(?:09[0-24]|95[0-2])\\d{4}|(?:8(?:0[1-8]|[1-8]\\d|9[0-4])|9[0-8]\\d)\\d{5}",[8]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]",[0,["[56]\\d{4}",[5]]]],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,[0,["65(?:[178]\\d|5[56]|6[01])\\d{4}|(?:[37][01]|4[0139]|51|6[489])\\d{6}",[8]]],"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79",[0,["(?:4[015-8]|9\\d)\\d{6}",[8]]]],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0",0,0,0,0,0,[0,["909[1-9]\\d{5}|9(?:0[1-8]|1[0-24-9]|4[03-57-9]|5\\d)\\d{6}",[9]]]],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0",0,0,0,0,0,[0,["(?:25|3[0-5]|66|7[2-9]|8[08]|9[09])\\d{6}"]]],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1",0,0,[0,["6[16]\\d{6}",[8]]]],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]],0,0,0,0,0,0,[0,["7(?:(?:[06-8]\\d|21|90)\\d|5(?:01|[19]0|25|[38]3|[4-7]\\d))\\d{5}"]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|77|9[2-9]"]]],"0",0,0,0,0,0,[0,["(?:(?:15|(?:3[59]|4[89]|6\\d|7[79]|8[08])\\d|9(?:0\\d|[2-9]))\\d|2(?:4\\d|8))\\d{5}|(?:[67]\\d\\d|904)\\d{5}",[7,8,9]]]],SR:["597","00","(?:[2-5]|68|[78]\\d)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]],0,0,0,0,0,0,[0,["(?:7[124-7]|8[124-9])\\d{5}",[7]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:12|9[1257-9])\\d{7}"]]],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]],0,0,0,0,0,0,[0,["900[5-9]\\d{3}|9(?:0[1-9]|[89]\\d)\\d{4}"]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,[0,["[67]\\d{7}",[8]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721",[0,["7215(?:1[02]|2\\d|5[034679]|8[014-8])\\d{4}"]]],SY:["963","00","[1-39]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",1]],"0",0,0,0,0,0,[0,["9[1-689]\\d{7}",[9]]]],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]],0,0,0,0,0,0,[0,["7[6-9]\\d{6}",[8]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649",[0,["649(?:2(?:3[129]|4[1-79])|3\\d\\d|4[34][1-3])\\d{4}"]]],TD:["235","00|16","(?:22|[69]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2679]"]]],0,0,0,0,0,0,[0,["(?:6[0-689]|77|9\\d)\\d{6}"]],"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]],0,0,0,0,0,0,[0,["(?:7[019]|9[0-36-9])\\d{6}"]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0",0,0,0,0,0,[0,["67(?:1[0-8]|2[4-7])\\d{5}|(?:14|6[1-6]|[89]\\d)\\d{7}",[9]]]],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3[1-5]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,[0,["(?:4(?:1[18]|4[02-479])|81[1-9])\\d{6}|(?:0[0-57-9]|1[017]|2[02]|[34]0|5[05]|7[0178]|8[078]|9\\d)\\d{7}"]],"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7],0,0,0,0,0,0,0,[0,["7[2-4]\\d{2,5}"]]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]],0,0,0,0,0,0,[0,["7[2-8]\\d{6}",[8]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,[0,["(?:6\\d|71)\\d{6}"]],"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]],0,0,0,0,0,0,[0,["3(?:001|[12]40)\\d{4}|(?:(?:[259]\\d|4[0-8])\\d|3(?:1[1-35]|6[0-4]|91))\\d{5}"]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]],0,0,0,0,0,0,[0,["(?:5(?:4[0-5]|5[4-6])|6(?:[09]\\d|3[02]|8[15-9])|(?:7\\d|8[46-9])\\d|999)\\d{4}",[7]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0",0,0,0,0,0,[0,["561(?:011|61\\d)\\d{4}|5(?:0[15-7]|1[06]|24|[34]\\d|5[1-59]|9[46])\\d{7}",[10]]]],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868",[0,["868(?:(?:2[5-9]|3\\d)\\d|4(?:3[0-6]|[6-9]\\d)|6(?:20|78|8\\d)|7(?:0[1-9]|1[02-9]|[2-9]\\d))\\d{4}"]]],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]],0,0,0,0,0,0,[0,["(?:7[01]\\d|90)\\d{4}",[6,7]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,[0,["(?:40001[0-2]|9[0-8]\\d{4})\\d{3}",[9]]],0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:6[125-9]|7[13-9])\\d{7}"]]],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:39|50|6[36-8]|7[1-357]|9[1-9])\\d{7}",[9]]],"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0",0,0,0,0,0,[0,["72(?:[48]0|6[01])\\d{5}|7(?:[015-8]\\d|20|36|4[0-5]|9[89])\\d{6}"]]],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[0,["(?:5056(?:[0-35-9]\\d|4[468])|7302[0-4]\\d)\\d{4}|(?:472[24]|505[2-57-9]|7306|983[2-47-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[013569]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[1247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[068]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[6,7,8,9,10,11,12,13],[["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,[0,["9[1-9]\\d{6}",[8]]],"00"," int. "],UZ:["998","810","(?:20|33|[5-79]\\d|88)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"],"8 $1"]],"8",0,0,0,0,0,[0,["(?:(?:[25]0|33|88|9[0-57-9])\\d{3}|6(?:1(?:2(?:2[01]|98)|35[0-4]|50\\d|61[23]|7(?:[01][017]|4\\d|55|9[5-9]))|2(?:(?:11|7\\d)\\d|2(?:[12]1|9[01379])|5(?:[126]\\d|3[0-4]))|5(?:19[01]|2(?:27|9[26])|(?:30|59|7\\d)\\d)|6(?:2(?:1[5-9]|2[0367]|38|41|52|60)|(?:3[79]|9[0-3])\\d|4(?:56|83)|7(?:[07]\\d|1[017]|3[07]|4[047]|5[057]|67|8[0178]|9[79]))|7(?:2(?:24|3[237]|4[5-9]|7[15-8])|5(?:7[12]|8[0589])|7(?:0\\d|[39][07])|9(?:0\\d|7[079]))|9(?:2(?:1[1267]|3[01]|5\\d|7[0-4])|(?:5[67]|7\\d)\\d|6(?:2[0-26]|8\\d)))|7(?:[07]\\d{3}|1(?:13[01]|6(?:0[47]|1[67]|66)|71[3-69]|98\\d)|2(?:2(?:2[79]|95)|3(?:2[5-9]|6[0-6])|57\\d|7(?:0\\d|1[17]|2[27]|3[37]|44|5[057]|66|88))|3(?:2(?:1[0-6]|21|3[469]|7[159])|(?:33|9[4-6])\\d|5(?:0[0-4]|5[579]|9\\d)|7(?:[0-3579]\\d|4[0467]|6[67]|8[078]))|4(?:2(?:29|5[0257]|6[0-7]|7[1-57])|5(?:1[0-4]|8\\d|9[5-9])|7(?:0\\d|1[024589]|2[0-27]|3[0137]|[46][07]|5[01]|7[5-9]|9[079])|9(?:7[015-9]|[89]\\d))|5(?:112|2(?:0\\d|2[29]|[49]4)|3[1568]\\d|52[6-9]|7(?:0[01578]|1[017]|[23]7|4[047]|[5-7]\\d|8[78]|9[079]))|9(?:22[128]|3(?:2[0-4]|7\\d)|57[02569]|7(?:2[05-9]|3[37]|4\\d|60|7[2579]|87|9[07]))))\\d{4}"]],"8~10"],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11],0,0,0,0,0,0,"06698",[0,["3[1-9]\\d{8}|3[2-9]\\d{7}",[9,10]]]],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784",[0,["784(?:4(?:3[0-5]|5[45]|89|9[0-8])|5(?:2[6-9]|3[0-4])|720)\\d{4}"]]],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0",0,0,0,0,0,[0,["4(?:1[24-8]|2[46])\\d{7}"]]],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284",[0,["284(?:245|3(?:0[0-3]|4[0-7]|68|9[34])|4(?:4[0-6]|68|9[69])|5(?:4[0-7]|68|9[69]))\\d{4}"]]],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340",[0,["340(?:2(?:0[0-368]|2[06-8]|4[49]|77)|3(?:32|44)|4(?:2[23]|44|7[34]|89)|5(?:1[34]|55)|6(?:2[56]|4[23]|77|9[023])|7(?:1[2-57-9]|2[57]|7\\d)|884|998)\\d{4}"]]],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0",0,0,0,0,0,[0,["(?:5(?:2[238]|59)|89[6-9]|99[013-9])\\d{6}|(?:3\\d|5[1689]|7[06-9]|8[1-8]|9[0-8])\\d{7}",[9]]]],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]],0,0,0,0,0,0,[0,["(?:[58]\\d|7[013-7])\\d{5}",[7]]]],WF:["681","00","(?:40|72)\\d{4}|8\\d{5}(?:\\d{3})?",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[478]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]],0,0,0,0,0,0,[0,["(?:72|8[23])\\d{4}",[6]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]],0,0,0,0,0,0,[0,["(?:7[1-35-7]|8(?:[3-7]|9\\d{3}))\\d{5}",[7,10]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0",0,0,0,0,0,[0,["4[3-9]\\d{6}",[8]]]],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,[0,["7[01378]\\d{7}",[9]]]],YT:["262","00","(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[0,["639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0",0,0,0,0,0,[0,["(?:1(?:3492[0-25]|4495[0235]|549(?:20|5[01]))|4[34]492[01])\\d{3}|8[1-4]\\d{3,7}|(?:2[27]|47|54)4950\\d{3}|(?:1(?:049[2-4]|9[12]\\d\\d)|(?:6\\d|7[0-46-9])\\d{3}|8(?:5\\d{3}|7(?:08[67]|158|28[5-9]|310)))\\d{4}|(?:1[6-8]|28|3[2-69]|4[025689]|5[36-8])4920\\d{3}|(?:12|[2-5]1)492\\d{4}",[5,6,7,8,9]]]],ZM:["260","00","800\\d{6}|(?:21|63|[79]\\d)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:7[5-79]|9[5-8])\\d{7}"]]],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0",0,0,0,0,0,[0,["7(?:[1278]\\d|3[1-9])\\d{6}",[9]]]]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[35-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[35-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,0,0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function i(e,t){t=Array.prototype.slice.call(t);return t.push(n),e.apply(this,t)}var l=2,B=3,r="0-9０-９٠-٩۰-۹",o="".concat("-‐-―−ー－").concat("／/").concat("．.").concat("  ­​⁠　").concat("()（）［］\\[\\]").concat("~⁓∼～");function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function R(n){var i=z();return function(){var e,t=s(n),t=(e=i?(e=s(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return U(t)}}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){var n="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return H(e,arguments,s(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)}(e)}function H(e,t,n){return(H=z()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);t=new(Function.bind.apply(e,i));return n&&a(t,n.prototype),t}).apply(null,arguments)}function z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e);var n,i,r=R(o);function o(e){if(this instanceof o)return e=r.call(this,e),Object.setPrototypeOf(U(e),o.prototype),e.name=e.constructor.name,e;throw new TypeError("Cannot call a class as a function")}return t=o,n&&j(t.prototype,n),i&&j(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(q(Error)),V=function(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),i=t[0].split("."),r=0;r<3;r++){var o=Number(n[r]),a=Number(i[r]);if(a<o)return 1;if(o<a)return-1;if(!isNaN(o)&&isNaN(a))return 1;if(isNaN(o)&&!isNaN(a))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0},W={}.constructor;function u(e){return null!=e&&e.constructor===W}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t,n){t&&Y(e.prototype,t),n&&Y(e,n),Object.defineProperty(e,"prototype",{writable:!1})}var Q="1.2.0",K="1.7.35",J=" ext. ",Z=/^\d+$/,f=function(){function n(e){d(this,n);var t=e;if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!u(t)||!u(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(u(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+re(t)+": "+t,"."));this.metadata=e,ae.call(this,e)}return p(n,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(e){return"001"!==e})}},{key:"getCountryMetadata",value:function(e){return this.metadata.countries[e]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(e){return void 0!==this.getCountryMetadata(e)}},{key:"hasCallingCode",value:function(e){if(this.getCountryCodesForCallingCode(e))return!0;if(this.nonGeographic()){if(this.nonGeographic()[e])return!0}else{e=this.countryCallingCodes()[e];if(e&&1===e.length&&"001"===e[0])return!0}}},{key:"isNonGeographicCallingCode",value:function(e){return this.nonGeographic()?!!this.nonGeographic()[e]:!this.getCountryCodesForCallingCode(e)}},{key:"country",value:function(e){return this.selectNumberingPlan(e)}},{key:"selectNumberingPlan",value:function(e,t){if(e&&Z.test(e)&&(t=e,e=null),e&&"001"!==e){if(!this.hasCountry(e))throw new Error("Unknown country: ".concat(e));this.numberingPlan=new X(this.getCountryMetadata(e),this)}else if(t){if(!this.hasCallingCode(t))throw new Error("Unknown calling code: ".concat(t));this.numberingPlan=new X(this.getNumberingPlanMetadata(t),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(e){e=this.countryCallingCodes()[e];if(e&&(1!==e.length||3!==e[0].length))return e}},{key:"getCountryCodeForCallingCode",value:function(e){e=this.getCountryCodesForCallingCode(e);if(e)return e[0]}},{key:"getNumberingPlanMetadata",value:function(e){var t=this.getCountryCodeForCallingCode(e);if(t)return this.getCountryMetadata(t);if(this.nonGeographic()){t=this.nonGeographic()[e];if(t)return t}else{t=this.countryCallingCodes()[e];if(t&&1===t.length&&"001"===t[0])return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(e){return this.numberingPlan.type(e)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(e){return this.selectNumberingPlan(e)}},{key:"hasSelectedNumberingPlan",value:function(){return void 0!==this.numberingPlan}}]),n}(),X=function(){function n(e,t){d(this,n),this.globalMetadataObject=t,this.metadata=e,ae.call(this,t.metadata)}return p(n,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(e){return e[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var t=this;return(this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[]).map(function(e){return new ee(e,t)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(e){return e[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return!(this.types()&&0===this.types().length||!this.types())}},{key:"type",value:function(e){if(this.hasTypes()&&ie(this.types(),e))return new ne(ie(this.types(),e),this)}},{key:"ext",value:function(){return!this.v1&&!this.v2&&this.metadata[13]||J}}]),n}(),ee=function(){function n(e,t){d(this,n),this._format=e,this.metadata=t}return p(n,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!(!this.nationalPrefixFormattingRule()||te.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),n}(),te=/^\(?\$1\)?$/,ne=function(){function n(e,t){d(this,n),this.type=e,this.metadata=t}return p(n,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),n}();function ie(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}var re=function(e){return G(e)};function oe(e,t){return(t=new f(t)).hasCountry(e)?t.country(e).ext():J}function h(e,t){if((t=new f(t)).hasCountry(e))return t.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function m(e,t){return t.countries.hasOwnProperty(e)}function ae(e){e=e.version;"number"==typeof e?(this.v1=1===e,this.v2=2===e,this.v3=3===e,this.v4=4===e):e?-1===V(e,Q)?this.v2=!0:-1===V(e,K)?this.v3=!0:this.v4=!0:this.v1=!0}function g(e){return"([".concat(r,"]{1,").concat(e,"})")}function v(){var e="[:\\.．]?[  \\t,-]*";return";ext="+g("20")+"|"+("[  \\t,]*(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|доб|anexo)"+e+g("20")+"#?")+"|"+("[  \\t,]*(?:[xｘ#＃~～]|int|ｉｎｔ)"+e+g("9")+"#?")+"|"+("[- ]+"+g("6")+"#")+"|"+("[  \\t]*(?:,{2}|;)"+e+g("15")+"#?")+"|"+("[  \\t]*(?:,)+"+e+g("9")+"#?")}var t="["+r+"]{"+l+"}",e="[+＋]{0,1}(?:["+o+"]*["+r+"]){3,}["+o+r+"]*",se=new RegExp("^[+＋]{0,1}(?:["+o+"]*["+r+"]){1,2}$","i"),e=e+"(?:"+v()+")?",ue=new RegExp("^"+t+"$|^"+e+"$","i");function le(e){return e.length>=l&&ue.test(e)}var ce=new RegExp("(?:"+v()+")$","i");function de(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){var n;if(e)return"string"==typeof e?pe(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var fe={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"};function he(e){return fe[e]}function y(e){for(var t="",n=de(e.split(""));!(i=n()).done;){var i=he(i.value);i&&(t+=i)}return t}function me(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){var n;if(e)return"string"==typeof e?ge(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function b(e){for(var t,n="",i=me(e.split(""));!(t=i()).done;)n+=ve(t.value,n)||"";return n}function ve(e,t,n){return"+"===e?t?void("function"==typeof n&&n("end")):"+":he(e)}function ye(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){var n;if(e)return"string"==typeof e?be(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _e(e,t){for(var n=e.slice(),i=ye(t);!(r=i()).done;){var r=r.value;e.indexOf(r)<0&&n.push(r)}return n.sort(function(e,t){return e-t})}function _(e,t){return function e(t,n,i){var r=i.type(n);var o=r&&r.possibleLengths()||i.possibleLengths();if(!o)return"IS_POSSIBLE";if("FIXED_LINE_OR_MOBILE"===n){if(!i.type("FIXED_LINE"))return e(t,"MOBILE",i);i=i.type("MOBILE");i&&(o=_e(o,i.possibleLengths()))}else if(n&&!r)return"INVALID_LENGTH";i=t.length;n=o[0];if(n===i)return"IS_POSSIBLE";if(i<n)return"TOO_SHORT";if(o[o.length-1]<i)return"TOO_LONG";return 0<=o.indexOf(i,1)?"IS_POSSIBLE":"INVALID_LENGTH"}(e,void 0,t)}function we(e,t){return"IS_POSSIBLE"===_(e,t)}function w(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function Ee(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){var n;if(e)return"string"==typeof e?Se(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ce=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function E(e,t,n){if(t=t||{},e.country||e.countryCallingCode){(n=new f(n)).selectNumberingPlan(e.country,e.countryCallingCode);var i=t.v2?e.nationalNumber:e.phone;if(w(i,n.nationalNumberPattern())){if(S(i,"FIXED_LINE",n))return n.type("MOBILE")&&""===n.type("MOBILE").pattern()||!n.type("MOBILE")||S(i,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var r=Ee(Ce);!(o=r()).done;){var o=o.value;if(S(i,o,n))return o}}}}function S(e,t,n){return(t=n.type(t))&&t.pattern()&&!(t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0)&&w(e,t.pattern())}function De(e,i,r){e=new f(r).getCountryCodesForCallingCode(e);return e?e.filter(function(e){var t=i,n=r;return(n=new f(n)).selectNumberingPlan(e),0<=n.numberingPlan.possibleLengths().indexOf(t.length)}):[]}function Ae(e){return e.replace(new RegExp("[".concat(o,"]+"),"g")," ").trim()}var xe=/(\$\d)/;function Oe(e,t,n){var i=n.useInternationalFormat,r=n.withNationalPrefix,n=(n.carrierCode,n.metadata,e.replace(new RegExp(t.pattern()),i?t.internationalFormat():r&&t.nationalPrefixFormattingRule()?t.format().replace(xe,t.nationalPrefixFormattingRule()):t.format()));return i?Ae(n):n}var Te=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||Pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){var n;if(e)return"string"==typeof e?$e(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(e,t):void 0}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ke(e){for(var t,n,i=function(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=Pe(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}((e=e.replace(/^tel:/,"tel=")).split(";"));!(r=i()).done;){var r=Ie(r.value.split("="),2),o=r[0],a=r[1];switch(o){case"tel":t=a;break;case"ext":n=a;break;case"phone-context":"+"===a[0]&&(t=a+t)}}return le(t)?(e={number:t},n&&(e.ext=n),e):{}}function Le(e){var t=e.number,e=e.ext;if(!t)return"";if("+"!==t[0])throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(e?";ext="+e:"")}function Me(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){var n;if(e)return"string"==typeof e?Fe(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Be(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function Ne(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Be(Object(r),!0).forEach(function(e){var t,n;t=i,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}var je={formatExtension:function(e,t,n){return"".concat(e).concat(n.ext()).concat(t)}};function Re(e,t,n,i){if(n=n?Ne(Ne({},je),n):je,i=new f(i),e.country&&"001"!==e.country){if(!i.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));i.country(e.country)}else{if(!e.countryCallingCode)return e.phone||"";i.selectNumberingPlan(e.countryCallingCode)}var r,o=i.countryCallingCode(),a=n.v2?e.nationalNumber:e.phone;switch(t){case"NATIONAL":return a?D(r=C(a,e.carrierCode,"NATIONAL",i,n),e.ext,i,n.formatExtension):"";case"INTERNATIONAL":return a?(r=C(a,null,"INTERNATIONAL",i,n),D(r="+".concat(o," ").concat(r),e.ext,i,n.formatExtension)):"+".concat(o);case"E.164":return"+".concat(o).concat(a);case"RFC3966":return Le({number:"+".concat(o).concat(a),ext:e.ext});case"IDD":return n.fromCountry?D(function(e,t,n,i,r){if(h(i,r.metadata)===n)return t=C(e,t,"NATIONAL",r),"1"===n?n+" "+t:t;t=function(e,t,n){return(n=new f(n)).selectNumberingPlan(e,t),n.defaultIDDPrefix()?n.defaultIDDPrefix():Te.test(n.IDDPrefix())?n.IDDPrefix():void 0}(i,void 0,r.metadata);if(t)return"".concat(t," ").concat(n," ").concat(C(e,null,"INTERNATIONAL",r))}(a,e.carrierCode,o,n.fromCountry,i),e.ext,i,n.formatExtension):void 0;default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function C(e,t,n,i,r){var o=Ue(i.formats(),e);return o?Oe(e,o,{useInternationalFormat:"INTERNATIONAL"===n,withNationalPrefix:!o.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!r||!1!==r.nationalPrefix,carrierCode:t,metadata:i}):e}function Ue(e,t){for(var n=Me(e);!(i=n()).done;){var i=i.value;if(0<i.leadingDigitsPatterns().length){var r=i.leadingDigitsPatterns()[i.leadingDigitsPatterns().length-1];if(0!==t.search(r))continue}if(w(t,i.pattern()))return i}}function D(e,t,n,i){return t?i(e,t,n):e}function qe(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function He(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(r),!0).forEach(function(e){var t,n;t=i,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function ze(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ve=!1,We=function(){function r(e,t,n){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");if(!e)throw new TypeError("`country` or `countryCallingCode` not passed");if(!t)throw new TypeError("`nationalNumber` not passed");if(!n)throw new TypeError("`metadata` not passed");var e=function(e,t){var n,i,t=new f(t);Ge(e)?(n=e,t.selectNumberingPlan(n),i=t.countryCallingCode()):(i=e,Ve&&t.isNonGeographicCallingCode(i)&&(n="001"));return{country:n,countryCallingCode:i}}(e,n),i=e.country,e=e.countryCallingCode;this.country=i,this.countryCallingCode=e,this.nationalNumber=t,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return n}}var e,t,n;return e=r,(t=[{key:"setExt",value:function(e){this.ext=e}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:De(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){var e=this,t={v2:!0},n=this.getMetadata();if(void 0===t&&(t={}),n=new f(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}}if(n.possibleLengths())return we(e.phone||e.nationalNumber,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}},{key:"isValid",value:function(){return t={v2:!0},n=(e=this).getMetadata(),t=t||{},(n=new f(n)).selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes()?void 0!==E(e,t,n.metadata):w(t.v2?e.nationalNumber:e.phone,n.nationalNumberPattern());var e,t,n}},{key:"isNonGeographic",value:function(){return new f(this.getMetadata()).isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(e){return this.number===e.number&&this.ext===e.ext}},{key:"getType",value:function(){return E(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(e,t){return Re(this,e,t?He(He({},t),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(e){return this.format("NATIONAL",e)}},{key:"formatInternational",value:function(e){return this.format("INTERNATIONAL",e)}},{key:"getURI",value:function(e){return this.format("RFC3966",e)}}])&&ze(e.prototype,t),n&&ze(e,n),Object.defineProperty(e,"prototype",{writable:!1}),r}(),Ge=function(e){return/^[A-Z]{2}$/.test(e)};var Ye=new RegExp("(["+r+"])");function Qe(e,t,n,i){if(t){i=new f(i),t=(i.selectNumberingPlan(t,n),new RegExp(i.IDDPrefix()));if(0===e.search(t)){n=(e=e.slice(e.match(t)[0].length)).match(Ye);if(!(n&&null!=n[1]&&0<n[1].length&&"0"===n[1]))return e}}}function Ke(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var n,i,r,o,a,s=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),u=s.exec(e);if(u)return i=0<(a=u.length-1)&&u[a],t.nationalPrefixTransformRule()&&i?(r=e.replace(s,t.nationalPrefixTransformRule()),1<a&&(n=u[1])):(s=u[0],r=e.slice(s.length),i&&(n=u[1])),i?(a=e.indexOf(u[1]),e.slice(0,a)===t.numberingPlan.nationalPrefix()&&(o=t.numberingPlan.nationalPrefix())):o=u[0],{nationalNumber:r,nationalPrefix:o,carrierCode:n}}return{nationalNumber:e}}function Je(e,t){var n,i,r=Ke(e,t),o=r.carrierCode,r=r.nationalNumber;if(r!==e){if(n=r,w(e,(i=t).nationalNumberPattern())&&!w(n,i.nationalNumberPattern()))return{nationalNumber:e};if(t.possibleLengths()&&!function(e,t){switch(_(e,t)){case"TOO_SHORT":case"INVALID_LENGTH":return;default:return 1}}(r,t))return{nationalNumber:e}}return{nationalNumber:r,carrierCode:o}}function Ze(e,t,n,i){var r=t?h(t,i):n;if(0===e.indexOf(r)){(i=new f(i)).selectNumberingPlan(t,n);var t=e.slice(r.length),n=Je(t,i).nationalNumber,o=Je(e,i).nationalNumber;if(!w(o,i.nationalNumberPattern())&&w(n,i.nationalNumberPattern())||"TOO_LONG"===_(o,i))return{countryCallingCode:r,number:t}}return{number:e}}function Xe(e,t,n,i){if(e){var r;if("+"!==e[0]){var o=Qe(e,t,n,i);if(!o||o===e){if(t||n){t=Ze(e,t,n,i),n=t.countryCallingCode,t=t.number;if(n)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:n,number:t}}return{number:e}}r=!0,e="+"+o}if("0"!==e[1]){i=new f(i);for(var a=2;a-1<=B&&a<=e.length;){var s=e.slice(1,a);if(i.hasCallingCode(s))return i.selectNumberingPlan(s),{countryCallingCodeSource:r?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:s,number:e.slice(a)};a++}}}return{}}function et(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){var n;if(e)return"string"==typeof e?tt(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function nt(e,t){for(var n=t.countries,i=t.defaultCountry,r=t.metadata,r=new f(r),o=[],a=et(n);!(s=a()).done;){var s=s.value;if(r.country(s),r.leadingDigits()){if(e&&0===e.search(r.leadingDigits()))return s}else if(E({phone:e,country:s},void 0,r.metadata)){if(!i)return s;if(s===i)return s;o.push(s)}}if(0<o.length)return o[0]}var it=!1;function rt(e,t){var n=t.nationalNumber,i=t.defaultCountry,t=t.metadata;return it&&t.isNonGeographicCallingCode(e)?"001":(e=t.getCountryCodesForCallingCode(e))?1===e.length?e[0]:nt(n,{countries:e,defaultCountry:i,metadata:t.metadata}):void 0}var ot="+",t="(["+r+"]|[\\-\\.\\(\\)]?)",at=new RegExp("^\\"+ot+t+"*["+r+"]"+t+"*$","g"),st=new RegExp("^("+("["+r+"]+((\\-)*["+r+"])*")+"\\.)*"+("[a-zA-Z]+((\\-)*["+r+"])*")+"\\.?$","g"),ut="tel:",lt=";phone-context=",ct=";isub=";function dt(e,t){var n,i,t=t.extractFormattedPhoneNumber,r=(o=(i=e).indexOf(lt))<0?null:(o=o+lt.length)>=i.length?"":0<=(r=i.indexOf(";",o))?i.substring(o,r):i.substring(o);if(null!==(i=r)&&(0===i.length||!at.test(i)&&!st.test(i)))throw new c("NOT_A_NUMBER");null===r?n=t(e)||"":(n="",r.charAt(0)===ot&&(n+=r),i=0<=(o=e.indexOf(ut))?o+ut.length:0,t=e.indexOf(lt),n+=e.substring(i,t));var o=n.indexOf(ct);if(""!==(n=0<o?n.substring(0,o):n))return n}var pt=250,ft=new RegExp("[+＋"+r+"]"),ht=new RegExp("[^"+r+"#]+$"),mt=!1;function gt(e,t,n){if(t=t||{},n=new f(n),t.defaultCountry&&!n.hasCountry(t.defaultCountry)){if(t.v2)throw new c("INVALID_COUNTRY");throw new Error("Unknown country: ".concat(t.defaultCountry))}var e=function(e,i,r){e=dt(e,{extractFormattedPhoneNumber:function(e){var t=r,n=i;if(e){if(!(e.length>pt))return!1===t?e:(t=e.search(ft))<0?void 0:e.slice(t).replace(ht,"");if(n)throw new c("TOO_LONG")}}});if(!e)return{};if(!le(e))return function(e){return se.test(e)}(e)?{error:"TOO_SHORT"}:{};var t=function(e){var t=e.search(ce);if(t<0)return{};for(var n=e.slice(0,t),i=e.match(ce),r=1;r<i.length;){if(i[r])return{number:n,ext:i[r]};r++}}(e);if(t.ext)return t;return{number:e}}(e,t.v2,t.extract),i=e.number,r=e.ext,e=e.error;if(!i){if(t.v2){if("TOO_SHORT"===e)throw new c("TOO_SHORT");throw new c("NOT_A_NUMBER")}return{}}var e=function(e,t,n,i){var r,e=Xe(b(e),t,n,i.metadata),o=e.countryCallingCodeSource,a=e.countryCallingCode,e=e.number;if(a)i.selectNumberingPlan(a);else{if(!e||!t&&!n)return{};i.selectNumberingPlan(t,n),t?r=t:mt&&i.isNonGeographicCallingCode(n)&&(r="001"),a=n||h(t,i.metadata)}if(!e)return{countryCallingCodeSource:o,countryCallingCode:a};n=Je(b(e),i),e=n.nationalNumber,n=n.carrierCode,t=rt(a,{nationalNumber:e,defaultCountry:t,metadata:i});t&&"001"!==(r=t)&&i.country(r);return{country:r,countryCallingCode:a,countryCallingCodeSource:o,nationalNumber:e,carrierCode:n}}(i,t.defaultCountry,t.defaultCallingCode,n),i=e.country,o=e.nationalNumber,a=e.countryCallingCode,s=e.countryCallingCodeSource,e=e.carrierCode;if(!n.hasSelectedNumberingPlan()){if(t.v2)throw new c("INVALID_COUNTRY");return{}}if(!o||o.length<l){if(t.v2)throw new c("TOO_SHORT");return{}}if(17<o.length){if(t.v2)throw new c("TOO_LONG");return{}}if(t.v2)return u=new We(a,o,n.metadata),i&&(u.country=i),e&&(u.carrierCode=e),r&&(u.ext=r),u.__countryCallingCodeSource=s,u;s=!(t.extended?!n.hasSelectedNumberingPlan():!i)&&w(o,n.nationalNumberPattern());if(t.extended)return{country:i,countryCallingCode:a,carrierCode:e,valid:s,possible:!!s||!(!0!==t.extended||!n.possibleLengths()||!we(o,n)),phone:o,ext:r};if(s){var u=i,a=r;return u={country:u,phone:o},a&&(u.ext=a),u}else return{}}function vt(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function yt(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(r),!0).forEach(function(e){var t,n;t=i,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function bt(e,t,n){return gt(e,yt(yt({},t),{},{v2:!0}),n)}function _t(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function wt(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(r),!0).forEach(function(e){var t,n;t=i,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?St(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function A(e){var t,n,e=Et(Array.prototype.slice.call(e),4),i=e[0],r=e[1],o=e[2],e=e[3];if("string"!=typeof i)throw new TypeError("A text for parsing must be a string.");if(i=i,r&&"string"!=typeof r){if(!u(r))throw new Error("Invalid second argument: ".concat(r));n=o?(t=r,o):r}else n=e?(t=o,e):(t=void 0,o),r&&(t=wt({defaultCountry:r},t));return{text:i,options:t,metadata:n}}function Ct(){var e=A(arguments);return bt(e.text,e.options,e.metadata)}function Dt(){return i(Ct,arguments)}function At(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function xt(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?At(Object(r),!0).forEach(function(e){var t,n;t=i,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):At(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function Ot(e,t,n){t&&t.defaultCountry&&!m(t.defaultCountry,n)&&(t=xt(xt({},t),{},{defaultCountry:void 0}));try{return bt(e,t,n)}catch(e){if(!(e instanceof c))throw e}}function x(){var e=A(arguments);return Ot(e.text,e.options,e.metadata)}function Tt(){return i(x,arguments)}function It(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function Pt(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?It(Object(r),!0).forEach(function(e){var t,n;t=i,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function $t(){var e=A(arguments),t=e.text,n=e.options,e=e.metadata,t=Ot(t,Pt(Pt({},n),{},{extract:!1}),e);return t&&t.isValid()||!1}function kt(){return i($t,arguments)}function Lt(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function Mt(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(r),!0).forEach(function(e){var t,n;t=i,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function Ft(){var e=A(arguments),t=e.text,n=e.options,e=e.metadata,t=Ot(t,Mt(Mt({},n),{},{extract:!1}),e);return t&&t.isPossible()||!1}function Bt(){return i(Ft,arguments)}function Nt(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function jt(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(r),!0).forEach(function(e){var t,n;t=i,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Nt(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function Rt(){var e=A(arguments),t=e.text,n=e.options,e=e.metadata,n=jt(jt({},n),{},{extract:!1});try{var i=bt(t,n,e),r=((e=new f(e)).selectNumberingPlan(i.countryCallingCode),_(i.nationalNumber,e));if("IS_POSSIBLE"!==r)return r}catch(e){if(e instanceof c)return e.message;throw e}}function Ut(){return i(Rt,arguments)}function qt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ht(e,t,n){return t&&qt(e.prototype,t),n&&qt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Vt=Ht(function e(t,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;zt(this,e),this.key=t,this.value=n,this.next=i,this.prev=r}),Wt=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;zt(this,t),this.size=0,this.limit=e,this.head=null,this.tail=null,this.cache={}}return Ht(t,[{key:"put",value:function(e,t){var n;this.ensureLimit(),this.head?(n=new Vt(e,t,this.head),this.head.prev=n,this.head=n):this.head=this.tail=new Vt(e,t),this.cache[e]=this.head,this.size++}},{key:"get",value:function(e){var t;if(this.cache[e])return t=this.cache[e].value,this.remove(e),this.put(e,t),t}},{key:"ensureLimit",value:function(){this.size===this.limit&&this.remove(this.tail.key)}},{key:"remove",value:function(e){var t=this.cache[e];null!==t.prev?t.prev.next=t.next:this.head=t.next,null!==t.next?t.next.prev=t.prev:this.tail=t.prev,delete this.cache[e],this.size--}},{key:"clear",value:function(){this.head=null,this.tail=null,this.size=0,this.cache={}}}]),t}();function Gt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Yt=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.cache=new Wt(e)}var e,n,i;return e=t,(n=[{key:"getPatternForRegExp",value:function(e){var t=this.cache.get(e);return t||(t=new RegExp("^"+e),this.cache.put(e,t)),t}}])&&Gt(e.prototype,n),i&&Gt(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function O(e,t){if(e<0||t<=0||t<e)throw new TypeError;return"{".concat(e,",").concat(t,"}")}function Qt(e,t){e=t.search(e);return 0<=e?t.slice(0,e):t}var e="   ᠎ - \u2028\u2029  　",t="[".concat(e,"]"),e="[^".concat(e,"]"),Kt="[".concat("0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹０-９","]"),Jt="A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",T="[".concat(Jt,"]"),Zt=new RegExp(T),T="[".concat("$¢-¥֏؋৲৳৻૱௹฿៛₠-₹꠸﷼﹩＄￠￡￥￦","]"),Xt=new RegExp(T),T="[".concat("̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣤ-ࣾऀ-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣଁ଼ିୁ-ୄ୍ୖୢୣஂீ்ా-ీె-ైొ-్ౕౖౢౣ಼ಿೆೌ್ೢೣു-ൄ്ൢൣ්ි-ුූัิ-ฺ็-๎ັິ-ູົຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᯦᮫ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᷀-ᷦ᷼-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꨩ-ꨮꨱꨲꨵꨶꩃꩌꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︦","]"),en=new RegExp(T),tn=new RegExp("[\0--ÿĀ-ſḀ-ỿƀ-ɏ̀-ͯ]");function nn(e){return(Zt.test(e)||en.test(e))&&tn.test(e)}function rn(e){return"%"===e||Xt.test(e)}var on={POSSIBLE:function(e,t){t.candidate,t.metadata;return!0},VALID:function(e,t){var n=t.candidate,t=(t.defaultCountry,t.metadata);return!(!e.isValid()||!an(e,n,t))},STRICT_GROUPING:function(e,t){var n=t.candidate,i=t.defaultCountry,r=t.metadata,t=t.regExpCache;return!(!e.isValid()||!an(e,n,r)||un(e,n)||!sn(e,{defaultCountry:i,metadata:r}))&&ln()},EXACT_GROUPING:function(e,t){var n=t.candidate,i=t.defaultCountry,r=t.metadata,t=t.regExpCache;return!(!e.isValid()||!an(e,n,r)||un(e,n)||!sn(e,{defaultCountry:i,metadata:r}))&&ln()}};function an(e,t,n){for(var i=0;i<t.length-1;i++){var r=t.charAt(i);if("x"===r||"X"===r){r=t.charAt(i+1);if("x"===r||"X"===r){if(i++,"NSN_MATCH"!==function(e,t,n){var i=!0,r=x(e,n);if(r||(i=!1,r=x(e,{defaultCallingCode:t.countryCallingCode},n)),!r)return"INVALID_NUMBER";if(t.ext){if(r.ext!==t.ext)return"NO_MATCH"}else if(r.ext)return"NO_MATCH";return i&&t.countryCallingCode!==r.countryCallingCode?"NO_MATCH":t.number===r.number?i?"EXACT_MATCH":"NSN_MATCH":0===t.nationalNumber.indexOf(r.nationalNumber)||0===r.nationalNumber.indexOf(t.nationalNumber)?"SHORT_NSN_MATCH":"NO_MATCH"}(t.substring(i),e,n))return}else{r=y(t.substring(i));if(r){if(e.ext!==r)return}else if(e.ext)return}}}return 1}function sn(e,t){var n=t.defaultCountry,t=t.metadata;return"FROM_DEFAULT_COUNTRY"!==e.__countryCallingCodeSource||((t=new f(t)).selectNumberingPlan(e.countryCallingCode),e.country||rt(e.countryCallingCode,{nationalNumber:e.nationalNumber,defaultCountry:n,metadata:t}),n=e.nationalNumber,!(n=Ue(t.numberingPlan.formats(),n)).nationalPrefixFormattingRule())||t.numberingPlan.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!n.usesNationalPrefix()||Boolean(e.nationalPrefix)}function un(e,t){var n,i=t.indexOf("/");if(!(i<0))return!((n=t.indexOf("/",i+1))<0)&&(!("FROM_NUMBER_WITH_PLUS_SIGN"===e.__countryCallingCodeSource||"FROM_NUMBER_WITHOUT_PLUS_SIGN"===e.__countryCallingCodeSource)||y(t.substring(0,i))!==e.countryCallingCode||0<=t.slice(n+1).indexOf("/"))}function ln(){throw new Error("This part of code hasn't been ported")}var cn=/[\\/] *x/;var dn=/(?:(?:[0-3]?\d\/[01]?\d)|(?:[01]?\d\/[0-3]?\d))\/(?:[12]\d)?\d{2}/,pn=/[12]\d{3}[-/]?[01]\d[-/]?[0-3]\d +[0-2]\d$/,fn=/^:[0-5]\d/;var T="(\\[（［",I=")\\]）］",P="[^".concat(T).concat(I,"]"),hn="[".concat(T).concat("+＋","]"),mn=new RegExp("^"+hn),$=O(0,3),gn=new RegExp("^(?:[(\\[（［])?(?:"+P+"+["+I+"])?"+P+"+(?:["+T+"]"+P+"+["+I+"])"+$+P+"*$"),vn=/\d{1,5}-+\d{1,5}\s{0,4}\(\d{1,4}/;function yn(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){var n;if(e)return"string"==typeof e?bn(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bn(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var T=v(),wn=["\\/+(.*)/","(\\([^(]*)","(?:".concat(t,"-|-").concat(t,")").concat(t,"*(.+)"),"[‒-―－]".concat(t,"*(.+)"),"\\.+".concat(t,"*([^.]+)"),"".concat(t,"+(").concat(e,"+)")],I=O(0,2),$=O(0,4),P=17+B,t=O(0,P),e="[".concat(o,"]")+$,$=Kt+O(1,P),En="(?:"+hn+e+")"+I+$+"(?:"+e+$+")"+t+"(?:"+T+")?",Sn=new RegExp("[^".concat("0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൦-൵๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹０-９").concat(Jt,"#]+$")),Cn=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,k=function(){function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,i=this,r=o;if(!(i instanceof r))throw new TypeError("Cannot call a class as a function");if(!(t={v2:t.v2,defaultCallingCode:t.defaultCallingCode,defaultCountry:t.defaultCountry&&m(t.defaultCountry,n)?t.defaultCountry:void 0,leniency:t.leniency||(t.extended?"POSSIBLE":"VALID"),maxTries:t.maxTries||Cn}).leniency)throw new TypeError("`leniency` is required");if("POSSIBLE"!==t.leniency&&"VALID"!==t.leniency)throw new TypeError('Invalid `leniency`: "'.concat(t.leniency,'". Supported values: "POSSIBLE", "VALID".'));if(t.maxTries<0)throw new TypeError("`maxTries` must be `>= 0`");if(this.text=e,this.options=t,this.metadata=n,this.leniency=on[t.leniency],!this.leniency)throw new TypeError('Unknown leniency: "'.concat(t.leniency,'"'));this.maxTries=t.maxTries,this.PATTERN=new RegExp(En,"ig"),this.state="NOT_READY",this.searchIndex=0,this.regExpCache=new Yt(32)}var e,t,n;return e=o,(t=[{key:"find",value:function(){for(var e;0<this.maxTries&&null!==(e=this.PATTERN.exec(this.text));){var t=e[0],n=e.index;if(function(e,t,n){if(!dn.test(e)){if(pn.test(e)){n=n.slice(t+e.length);if(fn.test(n))return}return 1}}(t=Qt(cn,t),n,this.text)){var t=this.parseAndVerify(t,n,this.text)||this.extractInnerMatch(t,n,this.text);if(t)return this.options.v2?{startsAt:t.startsAt,endsAt:t.endsAt,number:t.phoneNumber}:(n=t.phoneNumber,t={startsAt:t.startsAt,endsAt:t.endsAt,phone:n.nationalNumber},n.country?t.country=n.country:t.countryCallingCode=n.countryCallingCode,n.ext&&(t.ext=n.ext),t)}this.maxTries--}}},{key:"extractInnerMatch",value:function(e,t,n){for(var i=yn(wn);!(r=i()).done;)for(var r=r.value,o=!0,a=void 0,s=new RegExp(r,"g");0<this.maxTries&&null!==(a=s.exec(e));){if(o){var u=Qt(Sn,e.slice(0,a.index)),u=this.parseAndVerify(u,t,n);if(u)return u;this.maxTries--,o=!1}var u=Qt(Sn,a[1]),l=e.indexOf(u,a.index),l=this.parseAndVerify(u,t+l,n);if(l)return l;this.maxTries--}}},{key:"parseAndVerify",value:function(e,t,n){return function(e,t,n,i){if(gn.test(e)&&!vn.test(e)){if("POSSIBLE"!==i){if(0<t&&!mn.test(e)){i=n[t-1];if(rn(i)||nn(i))return}i=t+e.length;if(i<n.length){t=n[i];if(rn(t)||nn(t))return}}return 1}}(e,t,n,this.options.leniency)&&(n=x(e,{extended:!0,defaultCountry:this.options.defaultCountry,defaultCallingCode:this.options.defaultCallingCode},this.metadata))&&n.isPossible()&&this.leniency(n,{candidate:e,defaultCountry:this.options.defaultCountry,metadata:this.metadata,regExpCache:this.regExpCache})?{startsAt:t,endsAt:t+e.length,phoneNumber:n}:void 0}},{key:"hasNext",value:function(){return"NOT_READY"===this.state&&(this.lastMatch=this.find(),this.lastMatch?this.state="READY":this.state="DONE"),"READY"===this.state}},{key:"next",value:function(){var e;if(this.hasNext())return e=this.lastMatch,this.lastMatch=null,this.state="NOT_READY",e;throw new Error("No next element")}}])&&_n(e.prototype,t),n&&_n(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}();function Dn(){for(var e=A(arguments),t=e.text,n=e.options,e=e.metadata,i=new k(t,n,e),r=[];i.hasNext();)r.push(i.next());return r}function An(){return i(Dn,arguments)}function xn(){var e=A(arguments),t=e.text,n=e.options,e=e.metadata,i=new k(t,n,e);return t={},n=Symbol.iterator,e=function(){return{next:function(){return i.hasNext()?{done:!1,value:i.next()}:{done:!0}}}},n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function On(){return i(xn,arguments)}function Tn(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function In(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tn(Object(r),!0).forEach(function(e){var t,n;t=i,n=r[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Tn(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function Pn(){for(var e=A(arguments),t=e.text,n=e.options,e=e.metadata,i=new k(t,In(In({},n),{},{v2:!0}),e),r=[];i.hasNext();)r.push(i.next());return r}function $n(){return i(Pn,arguments)}function kn(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function Ln(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kn(Object(n),!0).forEach(function(e){Mn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fn(){var e=A(arguments),t=e.text,n=e.options,e=e.metadata,i=new k(t,Ln(Ln({},n),{},{v2:!0}),e);return Mn({},Symbol.iterator,function(){return{next:function(){return i.hasNext()?{done:!1,value:i.next()}:{done:!0}}}})}function Bn(){return i(Fn,arguments)}function Nn(e,t){return k.call(this,e,t,n)}function jn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(Nn.prototype=Object.create(k.prototype,{})).constructor=Nn;var Rn=function(){function n(e){var t=e.onCountryChange,e=e.onCallingCodeChange;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.onCountryChange=t,this.onCallingCodeChange=e}var e,t,i;return e=n,(t=[{key:"reset",value:function(e){var t=e.country,e=e.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(t,e)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];this[i]=e[i]}}},{key:"initCountryAndCallingCode",value:function(e,t){this.setCountry(e),this.setCallingCode(t)}},{key:"setCountry",value:function(e){this.country=e,this.onCountryChange(e)}},{key:"setCallingCode",value:function(e){this.callingCode=e,this.onCallingCodeChange(e,this.country)}},{key:"startInternationalNumber",value:function(e,t){this.international=!0,this.initCountryAndCallingCode(e,t)}},{key:"appendDigits",value:function(e){this.digits+=e}},{key:"appendNationalSignificantNumberDigits",value:function(e){this.nationalSignificantNumber+=e}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])&&jn(e.prototype,t),i&&jn(e,i),Object.defineProperty(e,"prototype",{writable:!1}),n}();function Un(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){var n;if(e)return"string"==typeof e?qn(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var L="x",Hn=new RegExp(L);function M(e,t){if(t<1)return"";for(var n="";1<t;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function zn(e,t){")"===e[t]&&t++;for(var n=e.slice(0,t),i=[],r=0;r<n.length;)"("===n[r]?i.push(r):")"===n[r]&&i.pop(),r++;var o=0,a="";i.push(n.length);for(var s=0,u=i;s<u.length;s++){var l=u[s];a+=n.slice(o,l),o=l+1}return a}function Vn(e,t,n){var i=n.metadata,r=n.shouldTryNationalPrefixFormattingRule,n=n.getSeparatorAfterNationalPrefix;if(new RegExp("^(?:".concat(t.pattern(),")$")).test(e.nationalSignificantNumber)){r=(i={metadata:i,shouldTryNationalPrefixFormattingRule:r,getSeparatorAfterNationalPrefix:n}).metadata,n=i.shouldTryNationalPrefixFormattingRule,i=i.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,n(t)){n=Wn(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:i,metadata:r});if(n)return n}return Wn(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:i,metadata:r})}}function Wn(e,t,n){var i=n.metadata,r=n.useNationalPrefixFormattingRule,n=n.getSeparatorAfterNationalPrefix,i=Oe(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:r,metadata:i});if(r||(e.nationalPrefix?i=e.nationalPrefix+n(t)+i:e.complexPrefixBeforeNationalSignificantNumber&&(i=e.complexPrefixBeforeNationalSignificantNumber+" "+i)),r=e,y(i)===r.getNationalDigits())return i}function Gn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Yn=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,n,i;return t=e,(n=[{key:"parse",value:function(e){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(e),1!==this.context.length)throw new Error("Non-finalized contexts left when pattern parse ended");var e=this.context[0],t=e.branches,e=e.instructions;if(t)return{op:"|",args:t.concat([Jn(e)])};if(0===e.length)throw new Error("Pattern is required");return 1===e.length?e[0]:e}},{key:"startContext",value:function(e){this.context.push(e)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(e){if(!e)throw new Error("Pattern is required");var t=e.match(Kn);if(t){var n=t[1],i=e.slice(0,t.index),t=e.slice(t.index+n.length);switch(n){case"(?:":i&&this.parsePattern(i),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(i&&this.parsePattern(i),0===this.getContext().instructions.length)throw new Error('No instructions found after "|" operator in an "or" group');var r=this.getContext().branches;r.push(Jn(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:r});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(i&&this.parsePattern(i),!this.getContext().branches){if(1!==this.context.length)throw new Error('"branches" not found in an "or" group context');this.getContext().branches=[]}this.getContext().branches.push(Jn(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":i&&this.parsePattern(i),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:function(e){var t=[],n=0;for(;n<e.length;){if("-"===e[n]){if(0===n||n===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var i=e[n-1].charCodeAt(0)+1,r=e[n+1].charCodeAt(0)-1,o=i;o<=r;)t.push(String.fromCharCode(o)),o++}else t.push(e[n]);n++}return t}(i)});break;default:throw new Error("Unknown operator: ".concat(n))}t&&this.parsePattern(t)}else{if(Qn.test(e))throw new Error("Illegal characters found in a pattern: ".concat(e));this.getContext().instructions=this.getContext().instructions.concat(e.split(""))}}}])&&Gn(t.prototype,n),i&&Gn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();var Qn=/[\(\)\[\]\?\:\|]/,Kn=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function Jn(e){return 1===e.length?e[0]:e}function Zn(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){var n;if(e)return"string"==typeof e?Xn(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xn(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ei(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var ti=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.matchTree=(new Yn).parse(e)}var e,n,i;return e=t,(n=[{key:"match",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).allowOverflow;if(!e)throw new Error("String is required");e=function e(t,n,i){{var r;if("string"==typeof n)return r=t.join(""),0===n.indexOf(r)?t.length===n.length?{match:!0,matchedChars:t}:{partialMatch:!0}:0===r.indexOf(n)?i&&t.length>n.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,n.length)}:void 0}if(Array.isArray(n)){for(var o=t.slice(),a=0;a<n.length;){var s=n[a],s=e(o,s,i&&a===n.length-1);if(!s)return;if(s.overflow)return s;if(!s.match){if(s.partialMatch)return{partialMatch:!0};throw new Error("Unsupported match result:\n".concat(JSON.stringify(s,null,2)))}if(0===(o=o.slice(s.matchedChars.length)).length)return a===n.length-1?{match:!0,matchedChars:t}:{partialMatch:!0};a++}return i?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-o.length)}}switch(n.op){case"|":for(var u,l=Zn(n.args);!(c=l()).done;){var c=c.value,c=e(t,c,i);if(c){if(c.overflow)return c;if(c.match)return{match:!0,matchedChars:c.matchedChars};if(!c.partialMatch)throw new Error("Unsupported match result:\n".concat(JSON.stringify(c,null,2)));u=!0}}return u?{partialMatch:!0}:void 0;case"[]":for(var d=Zn(n.args);!(p=d()).done;){var p=p.value;if(t[0]===p)return 1===t.length?{match:!0,matchedChars:t}:i?{overflow:!0}:{match:!0,matchedChars:[p]}}return;default:throw new Error("Unsupported instruction tree: ".concat(n))}}(e.split(""),this.matchTree,!0);if(e&&e.match&&delete e.matchedChars,!e||!e.overflow||t)return e}}])&&ei(e.prototype,n),i&&ei(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ni(e,t){var n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){var n;if(e)return"string"==typeof e?ii(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ii(e,t):void 0}(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ri(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var oi=M("9",15),ai=/[- ]/,si=function(){return/\[([^\[\]])*\]/g},ui=function(){return/\d(?=[^,}][^,}])/g},li=new RegExp("["+o+"]*\\$1["+o+"]*(\\$\\d["+o+"]*)*$"),ci=function(){function t(e){e.state;e=e.metadata;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.metadata=e,this.resetFormat()}var e,n,i;return e=t,(n=[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(e,t){this.resetFormat(),e?(this.isNANP="1"===e.callingCode(),this.matchingFormats=e.formats(),t.nationalSignificantNumber&&this.narrowDownMatchingFormats(t)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(e,t){var n,i,r=this;if(n=t.nationalSignificantNumber,i=this.metadata,"IS_POSSIBLE"===_(n,i))for(var o=ni(this.matchingFormats);!(a=o()).done;){var a=a.value,s=Vn(t,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(e){return r.shouldTryNationalPrefixFormattingRule(e,{international:t.international,nationalPrefix:t.nationalPrefix})},getSeparatorAfterNationalPrefix:function(e){return r.getSeparatorAfterNationalPrefix(e)}});if(s)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(s.replace(/\d/g,L),t),this.populatedNationalNumberTemplate=s,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(L),s}return this.formatNationalNumberWithNextDigits(e,t)}},{key:"formatNationalNumberWithNextDigits",value:function(e,t){var n=this.chosenFormat,i=this.chooseFormat(t);if(i)return i===n?this.formatNextNationalNumberDigits(e):this.formatNextNationalNumberDigits(t.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(e){var t=this,n=e.nationalSignificantNumber,i=e.nationalPrefix,r=e.international,o=n,a=o.length-3;a<0&&(a=0),this.matchingFormats=this.matchingFormats.filter(function(e){return t.formatSuits(e,r,i)&&t.formatMatches(e,o,a)}),this.chosenFormat&&-1===this.matchingFormats.indexOf(this.chosenFormat)&&this.resetFormat()}},{key:"formatSuits",value:function(e,t,n){return!(n&&!e.usesNationalPrefix()&&!e.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!t&&!n&&e.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(e,t,n){var i=e.leadingDigitsPatterns().length;if(0===i)return!0;n=Math.min(n,i-1);i=e.leadingDigitsPatterns()[n];if(t.length<3)try{return void 0!==new ti(i).match(t,{allowOverflow:!0})}catch(e){return!0}return new RegExp("^(".concat(i,")")).test(t)}},{key:"getFormatFormat",value:function(e,t){return t?e.internationalFormat():e.format()}},{key:"chooseFormat",value:function(e){for(var n,i=this,t=ni(this.matchingFormats.slice());!(n=t()).done;){var r=function(){var t=n.value;if(i.chosenFormat!==t){if(!li.test(i.getFormatFormat(t,e.international)))return"continue";if(!i.createTemplateForFormat(t,e))return i.matchingFormats=i.matchingFormats.filter(function(e){return e!==t}),"continue";i.chosenFormat=t}return"break"}();if("break"===r)break}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(e,t){return!(0<=e.pattern().indexOf("|"))&&(e=this.getTemplateForFormat(e,t))?(this.setNationalNumberTemplate(e,t),!0):void 0}},{key:"getSeparatorAfterNationalPrefix",value:function(e){return this.isNANP||e&&e.nationalPrefixFormattingRule()&&ai.test(e.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(e,t){var n=e.IDDPrefix,e=e.missingPlus;return n?t&&!1===t.spacing?n:n+" ":e?"":"+"}},{key:"getTemplate",value:function(e){if(this.template){for(var t=-1,n=0,i=e.international?this.getInternationalPrefixBeforeCountryCallingCode(e,{spacing:!1}):"";n<i.length+e.getDigitsWithoutInternationalPrefix().length;)t=this.template.indexOf(L,t+1),n++;return zn(this.template,t+1)}}},{key:"setNationalNumberTemplate",value:function(e,t){this.nationalNumberTemplate=e,this.populatedNationalNumberTemplate=e,this.populatedNationalNumberTemplatePosition=-1,t.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(t).replace(/[\d\+]/g,L)+M(L,t.callingCode.length)+" "+e:this.template=e}},{key:"getTemplateForFormat",value:function(e,t){var n=t.nationalSignificantNumber,i=t.international,r=t.nationalPrefix,t=t.complexPrefixBeforeNationalSignificantNumber,o=(o=e.pattern()).replace(si(),"\\d").replace(ui(),"\\d"),a=oi.match(o)[0];if(!(n.length>a.length)){var s,u=new RegExp("^"+o+"$"),n=n.replace(/\d/g,"9"),l=(u.test(n)&&(a=n),this.getFormatFormat(e,i));if(this.shouldTryNationalPrefixFormattingRule(e,{international:i,nationalPrefix:r})){u=l.replace(xe,e.nationalPrefixFormattingRule());if(y(e.nationalPrefixFormattingRule())===(r||"")+y("$1")&&(l=u,s=!0,r))for(var c=r.length;0<c;)l=l.replace(/\d/,L),c--}n=a.replace(new RegExp(o),l).replace(new RegExp("9","g"),L);return s||(t?n=M(L,t.length)+" "+n:r&&(n=M(L,r.length)+this.getSeparatorAfterNationalPrefix(e)+n)),n=i?Ae(n):n}}},{key:"formatNextNationalNumberDigits",value:function(e){e=function(e,t,n){for(var i=Un(n.split(""));!(r=i()).done;){var r=r.value;if(e.slice(t+1).search(Hn)<0)return;t=e.search(Hn),e=e.replace(Hn,r)}return[e,t]}(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,e);if(e)return this.populatedNationalNumberTemplate=e[0],this.populatedNationalNumberTemplatePosition=e[1],zn(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1);this.resetFormat()}},{key:"shouldTryNationalPrefixFormattingRule",value:function(e,t){var n=t.international,t=t.nationalPrefix;if(e.nationalPrefixFormattingRule()){e=e.usesNationalPrefix();if(e&&t||!e&&!n)return!0}}}])&&ri(e.prototype,n),i&&ri(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function di(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?pi(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pi(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function fi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var hi=new RegExp("^"+("["+o+r+"]+")+"$","i"),mi="(?:[+＋]["+o+r+"]*|["+o+r+"]+)",gi=new RegExp("[^"+o+r+"]+.*$"),vi=/[^\d\[\]]/,yi=function(){function r(e){var t=e.defaultCountry,n=e.defaultCallingCode,i=e.metadata,e=e.onNationalSignificantNumberChange;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.defaultCountry=t,this.defaultCallingCode=n,this.metadata=i,this.onNationalSignificantNumberChange=e}var e,t,n;return e=r,(t=[{key:"input",value:function(e,t){var n,e=function(e){var e=di(function(e){e=function(e){var t,n=e.search(mi);if(!(n<0))return"+"===(e=e.slice(n))[0]&&(t=!0,e=e.slice("+".length)),e=e.replace(gi,""),e=t?"+"+e:e}(e)||"";return"+"!==e[0]?[e]:[e.slice("+".length),!0]}(e),2),t=e[0],e=e[1];hi.test(t)||(t="");return[t,e]}(e),e=di(e,2),i=e[0],e=e[1],i=y(i);return!e||t.digits||(t.startInternationalNumber(),i)||(n=!0),i&&this.inputDigits(i,t),{digits:i,justLeadingPlus:n}}},{key:"inputDigits",value:function(e,t){var n=t.digits,n=n.length<3&&3<=n.length+e.length;if(t.appendDigits(e),n&&this.extractIddPrefix(t),this.isWaitingForCountryCallingCode(t)){if(!this.extractCountryCallingCode(t))return}else t.appendNationalSignificantNumberDigits(e);t.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(t.getNationalDigits(),function(e){return t.update(e)})}},{key:"isWaitingForCountryCallingCode",value:function(e){var t=e.international,e=e.callingCode;return t&&!e}},{key:"extractCountryCallingCode",value:function(e){var t=Xe("+"+e.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),n=t.countryCallingCode,t=t.number;if(n)return e.setCallingCode(n),e.update({nationalSignificantNumber:t}),!0}},{key:"reset",value:function(e){e?(this.hasSelectedNumberingPlan=!0,e=e._nationalPrefixForParsing(),this.couldPossiblyExtractAnotherNationalSignificantNumber=e&&vi.test(e)):(this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0)}},{key:"extractNationalSignificantNumber",value:function(e,t){if(this.hasSelectedNumberingPlan){var n=Ke(e,this.metadata),i=n.nationalPrefix,r=n.nationalNumber,n=n.carrierCode;if(r!==e)return this.onExtractedNationalNumber(i,n,r,e,t),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(e,t,n){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(e,n);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var i=Ke(e,this.metadata),r=i.nationalPrefix,o=i.nationalNumber,i=i.carrierCode;if(o!==t)return this.onExtractedNationalNumber(r,i,o,e,n),!0}}},{key:"onExtractedNationalNumber",value:function(e,t,n,i,r){var o,a,s=i.lastIndexOf(n);0<=s&&s===i.length-n.length&&(a=!0,(i=i.slice(0,s))!==e)&&(o=i),r({nationalPrefix:e,carrierCode:t,nationalSignificantNumber:n,nationalSignificantNumberMatchesInput:a,complexPrefixBeforeNationalSignificantNumber:o}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(t){return!!this.extractAnotherNationalSignificantNumber(t.getNationalDigits(),t.nationalSignificantNumber,function(e){return t.update(e)})||(this.extractIddPrefix(t)||this.fixMissingPlus(t)?(this.extractCallingCodeAndNationalSignificantNumber(t),!0):void 0)}},{key:"extractIddPrefix",value:function(e){var t=e.international,n=e.IDDPrefix,i=e.digits;e.nationalSignificantNumber;return!t&&!n&&void 0!==(t=Qe(i,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata))&&t!==i?(e.update({IDDPrefix:i.slice(0,i.length-t.length)}),this.startInternationalNumber(e,{country:void 0,callingCode:void 0}),!0):void 0}},{key:"fixMissingPlus",value:function(e){if(!e.international){var t=Ze(e.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),n=t.countryCallingCode;t.number;if(n)return e.update({missingPlus:!0}),this.startInternationalNumber(e,{country:e.country,callingCode:n}),!0}}},{key:"startInternationalNumber",value:function(e,t){var n=t.country,t=t.callingCode;e.startInternationalNumber(n,t),e.nationalSignificantNumber&&(e.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(t){this.extractCountryCallingCode(t)&&this.extractNationalSignificantNumber(t.getNationalDigits(),function(e){return t.update(e)})}}])&&fi(e.prototype,t),n&&fi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),r}();function bi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?_i(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_i(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function wi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var Ei=function(){function n(e,t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.metadata=new f(t);t=bi(this.getCountryAndCallingCode(e),2),e=t[0],t=t[1];this.defaultCountry=e,this.defaultCallingCode=t,this.reset()}var e,t,i;return e=n,(t=[{key:"getCountryAndCallingCode",value:function(e){var t,n;return e&&(u(e)?(t=e.defaultCountry,n=e.defaultCallingCode):t=e),[t=t&&!this.metadata.hasCountry(t)?void 0:t,n]}},{key:"input",value:function(e){var t,e=this.parser.input(e,this.state),n=e.digits;return e.justLeadingPlus?this.formattedOutput="+":n&&(this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state),void 0===(t=this.metadata.hasSelectedNumberingPlan()?this.formatter.format(n,this.state):t)&&this.parser.reExtractNationalSignificantNumber(this.state)&&(this.determineTheCountryIfNeeded(),e=this.state.getNationalDigits())&&(t=this.formatter.format(e,this.state)),this.formattedOutput=t?this.getFullNumber(t):this.getNonFormattedNumber()),this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new Rn({onCountryChange:function(e){n.country=e},onCallingCodeChange:function(e,t){n.metadata.selectNumberingPlan(t,e),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new ci({state:this.state,metadata:this.metadata}),this.parser=new yi({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){if(this.state.digits)return this._getCountry()}},{key:"_getCountry",value:function(){var e=this.state.country;return e}},{key:"determineTheCountryIfNeeded",value:function(){this.state.country&&!this.isCountryCallingCodeAmbiguous()||this.determineTheCountry()}},{key:"getFullNumber",value:function(e){var t,n=this;return this.isInternational()?function(e){return n.formatter.getInternationalPrefixBeforeCountryCallingCode(n.state,{spacing:!!e})+e}((t=this.state.callingCode)?e?"".concat(t," ").concat(e):t:"".concat(this.state.getDigitsWithoutInternationalPrefix())):e}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var e=this.state,t=e.nationalSignificantNumber,n=e.complexPrefixBeforeNationalSignificantNumber,e=e.nationalPrefix,n=n||e;return n?n+t:t}},{key:"getNonFormattedNumber",value:function(){var e=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(e?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var e=this.getNonFormattedNumber();if(e)return e.replace(/[\+\d]/g,L)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var e=this.state.callingCode,e=this.metadata.getCountryCodesForCallingCode(e);return e&&1<e.length}},{key:"determineTheCountry",value:function(){this.state.setCountry(rt(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var e=this.state,t=e.digits,n=e.callingCode,i=e.country,e=e.nationalSignificantNumber;if(t)return this.isInternational()?n?"+"+n+e:"+"+t:i||n?"+"+(i?this.metadata.countryCallingCode():n)+e:void 0}},{key:"getNumber",value:function(){var e,t=this.state,n=t.nationalSignificantNumber,i=t.carrierCode,t=t.callingCode,r=this._getCountry();if(n&&(r||t))return r&&r===this.defaultCountry&&((e=new f(this.metadata.metadata)).selectNumberingPlan(r),e=e.numberingPlan.callingCode(),1<(e=this.metadata.getCountryCodesForCallingCode(e)).length)&&(e=nt(n,{countries:e,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata}))&&(r=e),e=new We(r||t,n,this.metadata.metadata),i&&(e.carrierCode=i),e}},{key:"isPossible",value:function(){var e=this.getNumber();return!!e&&e.isPossible()}},{key:"isValid",value:function(){var e=this.getNumber();return!!e&&e.isValid()}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])&&wi(e.prototype,t),i&&wi(e,i),Object.defineProperty(e,"prototype",{writable:!1}),n}();function Si(e){return Ei.call(this,e,n)}function Ci(){return i(m,arguments)}function Di(e){return new f(e).getCountries()}function Ai(){return i(Di,arguments)}function xi(){return i(h,arguments)}function Oi(){return i(oe,arguments)}function Ti(){return f.call(this,n)}function Ii(e,t,n){if(t[e])return new We(e,t[e],n)}function Pi(){return i(Ii,arguments)}function $i(e,t,n){return n||(n=t,t=void 0),new Ei(t,n).input(e)}function ki(){return i($i,arguments)}(Si.prototype=Object.create(Ei.prototype,{})).constructor=Si,(Ti.prototype=Object.create(f.prototype,{})).constructor=Ti},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IlovepdfPremium=void 0;var i=n(74);function r(e){this.user=e.user,this.init()}r.prototype.init=function(){var e=new i.PremiumContext({limits:null,triggerReason:null});e.render(document.getElementById("paymentContent")),e.addEventListener("end",function(){"en-US"==window.lang?window.location.href="/":window.location.href="/"+window.lang})},t.IlovepdfPremium=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(45);function r(){}r.updateWorkspaceName=function(e){var t="/user/team/workspace/name";return"en-US"!=window.lang&&(t="/"+window.lang+t),fetch(t,{method:"POST",body:JSON.stringify({name:e}),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()})},r.updateTeamName=function(e,t){var n="/user/team/team/name";return"en-US"!=window.lang&&(n="/"+window.lang+n),fetch(n,{method:"POST",body:JSON.stringify({name:t,teamId:e}),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()})},r.deleteTeam=function(e){e="/user/team/team/"+e+"/delete";return"en-US"!=window.lang&&(e="/"+window.lang+e),fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}})},r.createTeam=function(e){var t=r.TEAM_CREATE_URI;return"en-US"!=window.lang&&(t="/"+window.lang+t),fetch(t,{method:"POST",body:JSON.stringify({name:e}),headers:{"Content-Type":"application/json"}})},r.uploadContacts=function(e,t){var n=i.Settings.get("service")+"/v1/parse-contacts";return fetch(n,{method:"POST",body:e,headers:{Authorization:"Bearer "+t}})},r.inviteMembers=function(e){var t="/user/team/invite/add",e=("en-US"!=window.lang&&(t="/"+window.lang+t),{members:e});return fetch(t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},r.inviteCheck=function(e){var t="/user/team/invite/check",e=("en-US"!=window.lang&&(t="/"+window.lang+t),{member:e});return fetch(t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},r.setMemberRole=function(e){var t="/user/team/members/role";return"en-US"!=window.lang&&(t="/"+window.lang+t),fetch(t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()})},r.setInviteRole=function(e){var t="/user/team/invites/role";return"en-US"!=window.lang&&(t="/"+window.lang+t),fetch(t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()})},r.setMemberTeam=function(e){var t="/user/team/members/team";return"en-US"!=window.lang&&(t="/"+window.lang+t),fetch(t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()})},r.setInviteTeam=function(e){var t="/user/team/invites/team";return"en-US"!=window.lang&&(t="/"+window.lang+t),fetch(t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},r.deleteMember=function(e){var t="/user/team/members/delete";return"en-US"!=window.lang&&(t="/"+window.lang+t),fetch(t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},r.deleteInvite=function(e){return fetch("/user/team/invites/delete",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},r.setBatchMemberTeam=function(e,t){var n="/user/team/batch/team";return"en-US"!=window.lang&&(n="/"+window.lang+n),fetch(n,{method:"POST",body:JSON.stringify({members:e,invites:t}),headers:{"Content-Type":"application/json"}})},r.setBatchMemberRole=function(e,t){var n="/user/team/batch/role";return"en-US"!=window.lang&&(n="/"+window.lang+n),fetch(n,{method:"POST",body:JSON.stringify({members:e,invites:t}),headers:{"Content-Type":"application/json"}})},r.setBatchMemberDelete=function(e,t){var n="/user/team/batch/delete";return"en-US"!=window.lang&&(n="/"+window.lang+n),fetch(n,{method:"POST",body:JSON.stringify({members:e,invites:t}),headers:{"Content-Type":"application/json"}})},r.saveTeamSettings=function(i){var r="/user/team/team/"+i.teamId+"/settings";return"en-US"!=window.lang&&(r="/"+window.lang+r),new Promise(function(t,e){var n=new XMLHttpRequest;n.open("POST",r,!0),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(i)),n.onload=function(){var e=JSON.parse(this.responseText);t(e)},n.onerror=function(){e(n.statusText)}})},r.setUpdatedAt=function(e){var t=document.getElementById("lastUpdated");t&&e&&(t.innerHTML=e)},r.TEAM_CREATE_URI="/user/team/team",t.default=r},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),t.SignConfigManager=void 0,i(n(328))),o=n(330),a=n(81),s=n(331);function u(e,t){void 0===t&&(t=!1),this.api=e,this.brandLogoServiceOnly=t,this.init()}u.prototype.init=function(){this.listenEventReceiversChanged(),this.initOrder(),this.initEnableExpire(),this.initExpire(),this.initMultiple(),this.initCustomCerts(),this.initCerts(),this.initLanguage(),this.initReminders(),this.initCustomMessage(),this.initUuid(),this.initNotify(),this.initBrand(),this.initSvc()},u.prototype.listenEventReceiversChanged=function(){var t=this;a.SignatureEventManager.addEventListener("signature:receiver_item:remove",function(e){t.afterMultipleAction()},!0),a.SignatureEventManager.addEventListener("signature:receiver_item:add",function(e){t.afterMultipleAction()},!0)},u.prototype.initOrder=function(){var e=this;this.orderCheckbox.addEventListener("change",function(){a.SignatureEventManager.dispatchEvent("signature:settings:order",e.getEventChangedToSend("order"))})},u.prototype.initEnableExpire=function(){var e=this;this.expirateCheckbox.addEventListener("change",function(){e.expireCheckboxAction()}),this.expireCheckboxAction()},u.prototype.expireCheckboxAction=function(){var e=this.expirateCheckbox.checked;this.expireSet.style.display=e?"inline-block":"none",this.dayExpire.style.display=e?"":"none",this.expireDaysDefault.style.display=e?"none":"",this.dayExpireDefault.style.display=e?"none":"",e&&this.expireInput.focus()},u.prototype.initExpire=function(){var i=this,r=window.navigator.userLanguage||window.navigator.language;try{var e=new Intl.DateTimeFormat(r).format(new Date(this.dayExpireDefault.innerHTML));this.dayExpireDefault.innerHTML=e,this.dayExpire.innerHTML=e}catch(e){}this.expireInput.addEventListener("change",function(){var e=i.expireInput.value.toString(),e=(""==(e=e.replace(/\D/g,""))&&(e=i.expireInput.getAttribute("data-default")),parseInt(e)>parseInt(i.expireInput.getAttribute("max"))&&(e=i.expireInput.getAttribute("max")),i.expireInput.value=parseInt(e).toString(),parseInt(e)),t=new Date,e=(t.setDate(t.getDate()+e),t.getDate().toString().padStart(2,"0")),n=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getFullYear()+"-"+n+"-"+e;try{n=new Intl.DateTimeFormat(r).format(t)}catch(e){}i.dayExpire.innerHTML=n})},u.prototype.initMultiple=function(){var e=this;this.multipleCheckbox.addEventListener("change",function(){e.multipleAction()}),this.afterMultipleAction()},u.prototype.multipleAction=function(){var e=this,t=null==(t=null==(t=null==(t=null==(t=window.ilovepdf)?void 0:t.optionsManager)?void 0:t.elementsManager)?void 0:t.elementsStack)?void 0:t.activeElements,n=window.ilovepdf.optionsManager.receiversManager.hasActiveReceiverItemsNonSigners;t&&1<=t.length||n?s.ConfirmBatchModal.confirm(this.multipleCheckbox.checked).then(function(){e.afterMultipleAction()},function(){e.multipleCheckbox.checked=!e.multipleCheckbox.checked}):this.afterMultipleAction()},u.prototype.afterMultipleAction=function(){var e=null==(e=null==(e=null==(e=null==(e=window.ilovepdf)?void 0:e.optionsManager)?void 0:e.receiversManager)?void 0:e.receiverItems)?void 0:e.filter(function(e){return!e.isRemoved()});this.toggleOrderCheckboxAction(!(this.multipleCheckbox.checked||e&&e.length<=1)),a.SignatureEventManager.dispatchEvent("signature:settings:multiple",this.getEventChangedToSend("multiple"))},u.prototype.toggleOrderCheckboxAction=function(e){var t=this.orderCheckbox.closest(".receiver__setting").querySelector(".receiver__setting__content");e?(this.orderCheckbox.removeAttribute("disabled"),t.classList.remove("disabled")):(this.orderCheckbox.setAttribute("disabled","disabled"),t.classList.add("disabled"))},u.prototype.initCerts=function(){var e=this;this.certifiedCheckbox.addEventListener("change",function(){e.certsAction()}),this.certsAction()},u.prototype.certsAction=function(){},u.prototype.initCustomCerts=function(){this.customCertManager=new o.CustomCertsManager},u.prototype.initLanguage=function(){var e=this;this.languageSelectOption.style.display="none",this.languageSelected.style.display="none",this.languageAction(),this.languageCheckbox.addEventListener("change",function(){e.languageAction()}),this.selectLanguage.addEventListener("change",function(){e.languageSelected.innerHTML=e.selectLanguageSelectedOption.innerHTML})},u.prototype.languageAction=function(){var e=this.languageCheckbox.checked;this.languageSelectOption.style.display=e?"":"none",this.languageSelected.style.display=e?"":"none",this.languageDefault.style.display=e?"none":""},u.prototype.initCustomMessage=function(){var e=this;this.messageCheckbox.addEventListener("change",function(){e.customMessageAction()}),this.customMessageAction()},u.prototype.customMessageAction=function(){document.querySelector(".receiver__messages").style.display=this.messageCheckbox.checked?"":"none"},u.prototype.initReminders=function(){var e=this;this.reminderCheckbox.addEventListener("change",function(){e.reminderAction()}),this.reminderAction()},u.prototype.reminderAction=function(){var e=this.reminderCheckbox.checked;this.reminderSet.style.display=e?"":"none",this.reminderDays.style.display=e?"none":""},u.prototype.initUuid=function(){},u.prototype.initNotify=function(){},u.prototype.setFromTemplate=function(e){var t=this.orderCheckbox.checked,t=(("1"==e.lock_order&&0==t||"0"==e.lock_order&&1==t)&&this.orderCheckbox.click(),this.certifiedCheckbox.checked),t=(("1"==e.certified&&0==t||"0"==e.certified&&1==t)&&this.certifiedCheckbox.click(),e.expiration_days&&0==this.expirateCheckbox.checked&&(document.querySelector("#expireDaysDefault .value").innerHTML=e.expiration_days,this.expireInput.value=e.expiration_days,this.expirateCheckbox.click()),e.language&&(0==this.languageCheckbox.checked&&this.languageCheckbox.click(),this.selectLanguage.value=e.language,this.selectLanguage.dispatchEvent(new Event("change"))),this.uuidCheckbox.checked),t=(("true"==e.uuid_visible&&0==t||"false"==e.uuid_visible&&1==t)&&this.uuidCheckbox.click(),this.multipleCheckbox.checked),t=(("batch"==e.mode&&0==t||"batch"!=e.mode&&1==t)&&this.multipleCheckbox.click(),this.customSubject.value=e.subject_signer||"",this.customMessage.value=e.message_signer||"",this.messageCheckbox.checked),t=((e.message_signer&&0==t||!e.message_signer&&1==t)&&this.messageCheckbox.click(),this.notifyCheckbox.checked),t=(("true"==e.signed_notifications&&0==t||"false"==e.signed_notifications&&1==t)&&this.notifyCheckbox.click(),this.reminderCheckbox.checked),t=("true"==e.signer_reminders&&(0==t&&this.reminderCheckbox.click(),e.signer_reminder_days_cycle)&&(this.reminderInput.value=e.signer_reminder_days_cycle.toString(),this.reminderInput.dispatchEvent(new Event("change"))),this.svcCheckbox.checked);("1"==e.verify_enabled&&0==t||"0"==e.verify_enabled&&1==t)&&this.svcCheckbox.click()},u.prototype.initBrand=function(){var e=this;this.brandLogoManager=new r.default(this.api,this.brandLogoServiceOnly),this.brandAction(),this.brandCheckbox.addEventListener("change",function(){e.brandAction()})},u.prototype.brandAction=function(){var e=this.brandCheckbox.checked;this.brandOptions.style.display=e?"":"none"},u.prototype.initSvc=function(){},u.prototype.setBrandNameError=function(){this.brandName.classList.add("error")},u.prototype.removeBrandNameError=function(){this.brandName.classList.remove("error")},u.prototype.getEventChangedToSend=function(e){return{setting_changed:e,order:this.orderCheckbox.checked,multiple:this.multipleCheckbox.checked,expiration_date:this.expirateCheckbox.checked,expiration_date_value:this.expirationDaysValue,email_notifications:this.notifyCheckbox.checked,email_reminders:this.reminderCheckbox.checked,email_reminders_days:this.remindersDaysValue,digital_signature:this.certifiedCheckbox.checked,language:this.languageCheckbox.checked,language_set:this.selectedLanguageValue,custom_email:this.messageCheckbox.checked,custom_email_subject:this.customEmailSubjectValue,custom_email_body:this.customEmailBodyValue,uuid:this.uuidCheckbox.checked,verification_code:this.svcCheckbox.checked,branding:this.brandCheckbox.checked,brand_name:this.brandNameValue,brand_logo:this.brandLogoValue}},Object.defineProperty(u.prototype,"brandNameValue",{get:function(){return this.brandCheckbox.checked?this.brandName.value.toString():null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"brandLogoValue",{get:function(){return this.brandCheckbox.checked?this.brandLogo.value.toString():null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"customEmailBodyValue",{get:function(){return this.messageCheckbox.checked?this.customMessage.value.toString():null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"customEmailSubjectValue",{get:function(){return this.messageCheckbox.checked?this.customSubject.value.toString():null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"remindersDaysValue",{get:function(){return this.reminderCheckbox.checked?parseInt(this.reminderInput.value.toString()):null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"selectedLanguageValue",{get:function(){return this.languageCheckbox.checked?this.selectLanguage.value.toString():window.lang},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"expirationDaysValue",{get:function(){return this.expirateCheckbox.checked?parseInt(this.expireInput.value.toString()):parseInt(this.expireDaysDefault.innerText)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"notifyCheckbox",{get:function(){return document.getElementById("notifyCheckbox")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"expirateCheckbox",{get:function(){return document.getElementById("expirateCheckbox")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"expireInput",{get:function(){return document.getElementById("expire")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"expireSet",{get:function(){return document.getElementById("expireSet")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dayExpire",{get:function(){return document.getElementById("dayExpire")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"expireDaysDefault",{get:function(){return document.getElementById("expireDaysDefault")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dayExpireDefault",{get:function(){return document.getElementById("dayExpireDefault")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"brandCheckbox",{get:function(){return document.getElementById("brandCheckbox")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"brandOptions",{get:function(){return document.getElementById("brandOptions")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"brandName",{get:function(){return document.getElementById("brandName")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"brandLogo",{get:function(){return document.getElementById("fileApiBrand")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"uploadBrandArea",{get:function(){return document.getElementById("uploadBrandArea")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"svcCheckbox",{get:function(){return document.getElementById("svcCheckbox")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"messageCheckbox",{get:function(){return document.getElementById("messageCheckbox")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"customSubject",{get:function(){return document.getElementById("customSubject")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"customMessage",{get:function(){return document.getElementById("customMessage")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"certifiedCheckbox",{get:function(){return document.getElementById("certifiedCheckbox")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"languageCheckbox",{get:function(){return document.getElementById("languageCheckbox")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"languageSelected",{get:function(){return document.getElementById("languageSelected")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"selectLanguage",{get:function(){return document.getElementById("selectLanguage")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"selectLanguageSelectedOption",{get:function(){var e=this.selectLanguage;return e.options[e.selectedIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"languageSelectOption",{get:function(){return document.getElementById("languageSelectOption")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"languageDefault",{get:function(){return document.getElementById("languageDefault")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"uuidCheckbox",{get:function(){return document.getElementById("uuidCheckbox")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"multipleCheckbox",{get:function(){return document.getElementById("multipleCheckbox")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"orderCheckbox",{get:function(){return document.getElementById("orderCheckbox")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"reminderCheckbox",{get:function(){return document.getElementById("reminderCheckbox")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"reminderInput",{get:function(){return document.getElementById("reminderInput")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"reminderSet",{get:function(){return document.getElementById("reminderSet")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"reminderDays",{get:function(){return document.getElementById("reminderDays")},enumerable:!1,configurable:!0}),t.SignConfigManager=u},function(e,n,i){"use strict";!function(a){Object.defineProperty(n,"__esModule",{value:!0});var r=i(329),e=i(77),o=i(16),s=i(176),u=i(101),l=i(116);function t(e,t){void 0===t&&(t=!1),this.api=e,this.serviceOnly=t,this.init(),this.listenEventUserAuth()}t.prototype.init=function(){var e,t=this,n=this;1==o.UserModel.isUser()&&(e=o.UserModel.get(),this.service_filename=e.signConfig.brandLogo),this.initBrandUploader(),this.service_filename&&this.api.pingService().then(function(){t.setServiceBrandLogo(),1!=t.serviceOnly&&n.uploadBrandFromService()},function(){t.uploadBlankImage()}),a("#uploadBrandClean").on("click",function(){a("#brandLogo").val(""),a("#fileApiBrand").val(""),a("#uploadBrandArea, #uploadBrandContainer").removeClass("uploaded"),a("#uploadBrandPreview").css("background-image","none")})},t.prototype.listenEventUserAuth=function(){},t.prototype.serviceError=function(){},t.prototype.uploadBrandFromService=function(){this.initBrandUploader(),this.uploadStarts(),this.uploader.uploadToApi(this.service_filename)},t.prototype.uploadBlankImage=function(){this.initBrandUploader(),this.uploader.setApiMode();var e=this.dataURLtoFile(this.onePixelImg(),"blank.png");this.uploader.uploader.start(),this.uploader.uploader.addFile(e),window.brandu=this.uploader},t.prototype.onePixelImg=function(){var e=document.createElement("canvas"),t=e.getContext("2d");return e.width=1,e.height=1,t.fillStyle="rgba("+[255,255,255,0].join()+")",t.fillRect(0,0,1,1),e.toDataURL("image/png","")},t.prototype.dataURLtoFile=function(e,t){try{for(var n=e.split(","),i=n[0].match(/:(.*?);/)[1],r=atob(n[1]),o=r.length,a=new Uint8Array(o);o--;)a[o]=r.charCodeAt(o);return new File([a],t,{type:i})}catch(e){return null}},t.prototype.initBrandUploader=function(){this.files||(this.files=new e.FileStack),this.uploader||(this.uploader=this.makeUploaderService("uploadBrand","uploadBrandContainer","uploadBrandContainer",this.files))},t.prototype.makeUploaderService=function(e,t,n,i){return new r.BrandPlupload({target:null!=o.UserModel.get()&&1!=this.serviceFail?1==this.serviceOnly?"serviceOnly":"service":"api",id:e,container:t,optionsManager:this,config:new u.Config({tool:"sign",subtool:"sign",config:{sign:{mimeTypes:[{title:"Image files",extensions:"png,svg,jpg,jpeg",mime:"image/png,image/jpeg,image/svg+xml,image/svg"}],multiSelection:!1}}}),files:i,workerServer:this.api.workerServer,tool:"sign",servers:[],haveDrop:!0,dropElement:n,tokenApi:this.api.token,tokenService:null!=o.UserModel.get()&&1!=this.serviceFail?o.UserModel.get().token:null,token:(null!=o.UserModel.get()&&1!=this.serviceFail?o.UserModel.get():this.api).token,taskId:this.api.taskId})},t.prototype.changeServer=function(e){},t.prototype.checkLimits=function(e,t){return e},t.prototype.fileAdded=function(e,t,n){return this.uploadStarts(),this.setBrandLogo(e)},t.prototype.setServiceBrandLogo=function(){var e=new l.ImageView,t="uploadBrandPreview";e.renderUrl(this.service_filename,t).then(function(){document.getElementById(t).parentElement.classList.add("uploaded")},function(){})},t.prototype.setBrandLogo=function(o){return void 0===o&&(o=null),new Promise(function(t,n){var e=o.getSource().getSource(),i="uploadBrandPreview";a("#uploadBrandArea").css("background-image","none"),s.ImageHelper.getBase64(o,!0).then(function(e){s.ImageHelper.preload(e)});var r=o.name.endsWith(".svg")?"renderSvg":"renderImage";(new l.ImageView)[r](e,i,!1).then(function(e){return o.width=e.width,o.height=e.height,document.getElementById(i).parentElement.classList.add("uploaded"),t(e)},function(e){n(e)})})},t.prototype.fileUploaded=function(e,t){this.uploadEnds(),null!=this.files.updateFile(e,t)&&(t.service_filename&&(this.service_filename=t.service_filename,a("#brandLogo").val(t.service_filename),this.server_filename=t.service_filename),t.server_filename)&&(this.server_filename=t.server_filename,a("#fileApiBrand").val(t.server_filename))},t.prototype.invalidUpload=function(e){},t.prototype.fatalError=function(e){},t.prototype.uploadStarts=function(){a("#uploadBrandContainer").addClass("uploading")},t.prototype.uploadEnds=function(){a("#uploadBrandContainer").removeClass("uploading")},n.default=t}.call(this,i(1))},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},s=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},u=(Object.defineProperty(t,"__esModule",{value:!0}),t.BrandPlupload=void 0,n(251)),l=n(45),c=n(7),n=n(250),n=(r=n.ServicePlupload,o(d,r),d.prototype.fileAdded=function(n,i){return a(this,void 0,void 0,function(){var t=this;return s(this,function(e){return n.status=window.plupload.FAILED,n.error=window.plupload.GENERIC_ERROR,this.isImageValid(n.getSource().getSource(),function(e){e?(t.reUploadAllFiles(),r.prototype.fileAdded.call(t,n,i)):t.invalidFileAdded(n)}),[2,{}]})})},d.prototype.invalidFileAdded=function(e){null!=e&&e.id&&this.files.removeFile(e.id,!0),window.Toastr.error(c.Lang.t("damagedFile"),c.Lang.t("uploadError"),{timeOut:15e3,closeButton:!0,positionClass:"toast-top-left"})},d.prototype.getServiceUrl=function(){return l.Settings.get("service")+"/brand/upload"},d.prototype.checkLimits=function(e,t){if(1<e.length)for(var n=0;n<e.length;n++){var i=e[n];0<n&&this.files.removeFile(i.id,!0)}return[e[0]]},d.prototype.isImageValid=function(e,t){var n=this,i=new Image;i.onload=function(){URL.revokeObjectURL(i.src),u.FileTools.getMimeTypeFromSource(e).then(function(e){return t(n.ACCEPTED_MIME_TYPES.includes(e))})},i.onerror=function(){URL.revokeObjectURL(i.src),t(!1)},i.src=URL.createObjectURL(e)},d);function d(){var e=null!==r&&r.apply(this,arguments)||this;return e.ACCEPTED_MIME_TYPES=["image/png","image/jpeg","image/svg+xml","image/svg"],e}t.BrandPlupload=n},function(e,t,n){"use strict";!function(n){function e(e){this.elementSelector=(e=void 0===e?null:e)||".askCustomCert",this.initSelect(),this.init()}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomCertsManager=void 0,e.prototype.init=function(){var t=this,e=(null!=this.elementSelector&&(n(this.elementSelector).off("click"),n(this.elementSelector).on("click",function(e){e.preventDefault(),t.showModal()})),n("#sendCustomCertBtn"));e.off("click"),e.on("click",function(){t.hideModal()}),n("#cancelCustomCertBtn").on("click",function(){t.hideModal()})},e.prototype.initSelect=function(){var e=this,t=n("#selectCertName");t.off("change"),t.on("change",function(){"custominc"==t.val()&&e.showModal(),t.val(t.find("option:first").val())})},e.prototype.toggleEnableCerts=function(e){e?(this.certificateSelectCheckbox.classList.remove("disabled"),this.certificateSelectOption.parentNode.querySelector(".receiver__setting__content").classList.remove("disabled"),this.certificateSelectOption.removeAttribute("disabled")):(this.certificateSelectCheckbox.classList.add("disabled"),this.certificateSelectOption.setAttribute("disabled","disabled"),this.certificateSelectOption.parentNode.querySelector(".receiver__setting__content").classList.add("disabled"))},e.prototype.showModal=function(){var e=this;n("#customCertsModal").modal("show"),window.setTimeout(function(){e.emailCustomCert.focus()},500)},e.prototype.hideModal=function(){n("#customCertsModal").modal("hide")},Object.defineProperty(e.prototype,"certificateSelectCheckbox",{get:function(){return document.getElementById("certificateSelectCheckbox")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"certificateSelectOption",{get:function(){return document.getElementById("certificateSelectOption")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emailCustomCert",{get:function(){return document.getElementById("certificateSelectOption")},enumerable:!1,configurable:!0}),t.CustomCertsManager=e}.call(this,n(1))},function(e,t,n){"use strict";!function(i){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmBatchModal=void 0,n.confirm=function(e){return n.openModal(e),new Promise(function(e,t){i("#confirmBatch").on("click",function(){n.closeModal(),e()}),i("#cancelBatch").on("click",function(){n.closeModal(),t()})})},n.openModal=function(t){var e=document.getElementById("confirmBatchModal"),n=e.querySelectorAll(".normal-to-multiple"),e=e.querySelectorAll(".multiple-to-normal");n.forEach(function(e){e.style.display=t?"":"none"}),e.forEach(function(e){e.style.display=t?"none":""}),i("#confirmBatchModal").modal("show")},n.closeModal=function(){i("#confirmBatchModal").modal("hide"),i("#confirmBatch").off("click"),i("#cancelBatch").off("click")},t.ConfirmBatchModal=n}.call(this,n(1))},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorState=void 0,n(21)),s=n(8),n=(r=a.StateBase,o(u,r),u.prototype.initNextAction=function(){var e=this;this.domRoot.querySelector("[end-from-error]").addEventListener("click",function(){e._goNextState()})},u);function u(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="ErrorState",e.LAYOUT_TEMPLATE_NAME="subscription-status",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction()},e._goNextState=function(){e.dispatchEvent(new s.IloveEvent("end")),window.location.reload()},e}t.ErrorState=n},function(e,n,t){"use strict";!function(t){function e(){}Object.defineProperty(n,"__esModule",{value:!0}),n.ScrollHelper=void 0,e.scrollToElement=function(e){e=t(e).parent().position().top+t(e).position().top;t("#workArea").animate({scrollTop:e-parseInt((t(".tool__workarea").height()/3).toString())},500)},n.ScrollHelper=e}.call(this,t(1))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TagSelector=void 0;var i=n(25),l=n(8),c=n(89);function r(e){var t=this;this.url="/user/tags",this.active=null,this.container=null,this.activeEl=null,this.listEl=null,this.addSelector=!0,this.createText="+ New",this.createPlaceholder="Write here",this.inlineMode=!1,this.onClickOutside=function(e){t.listEl.contains(e.target)||t.removeList()},this.eventEmitter=new i.ILoveEventEmitter,Object.assign(this,e),e.activeId&&this.setActiveTagById(e.activeId),this.init()}r.prototype.getTags=function(){return this.tags},r.prototype.setTags=function(e){this.tags=e},r.prototype.addTag=function(e){this.tags.push(e)},r.prototype.removeTag=function(t){this.tags=this.tags.filter(function(e){return e.id!==t})},r.prototype.hasTag=function(t){return this.tags.some(function(e){return e.name===t})},r.prototype.getTagCount=function(){return this.tags.length},r.prototype.saveTag=function(e){var t=new Headers;return t.append("Content-Type","application/json"),fetch(this.url,{method:"POST",headers:t,body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){throw new Error("Network response was not ok.")})},r.prototype.loadTags=function(){},r.prototype.init=function(){var e,t=this;1==this.inlineMode?(e=this._createContainer(),this.container.appendChild(e),this.container=e,this.renderList()):1==this.addSelector&&(e=this._createContainer(),this.activeEl=this._createActiveEl(),e.appendChild(this.activeEl),this.container.appendChild(e),this.renderActiveTag()),this.container.style.position="relative",this.container.setAttribute("data-tag-value",this.getActiveTag().id.toString()),1!=this.inlineMode&&this.container.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault(),t.renderList()})},r.prototype._createContainer=function(){var e=document.createElement("div");return e.classList.add("tag-selector"),1==this.inlineMode&&e.classList.add("tag-selector--inline"),e},r.prototype._createActiveEl=function(){var e=document.createElement("div");return e.setAttribute("data-tag-active","true"),e.classList.add("tag-selector__active"),e.style.position="relative",e.style.display="inline-block",e},r.prototype.renderList=function(){var n,i,t,r,o,a,s,u=this;this.listEl||((n=document.createElement("div")).classList.add("tag-selector__list"),i=this.getActiveTag(),this.tags.forEach(function(t){var e=document.createElement("div");e.classList.add("tag-selector__tag"),e.setAttribute("data-tag-id",t.id.toString()),e.innerText=t.name,t.id===i.id&&e.classList.add("tag-selector__tag--active"),e.addEventListener("click",function(e){e.stopPropagation(),1!=u.inlineMode&&u.removeList(),t.id!==i.id&&(u.setActiveTagById(t.id),u.renderActiveTag(),u.dispatchEvent(new l.IloveEvent("tagChanged",{tag:t.id}))),u.dispatchEvent(new l.IloveEvent("tagSelected",{tag:t.id}))}),n.appendChild(e)}),!0===this.allowCreate&&((t=document.createElement("div")).classList.add("tag-selector__tag"),(r=document.createElement("div")).classList.add("tag-selector__tag-editable"),r.setAttribute("placeholder",this.createPlaceholder),r.innerText=this.createText,t.appendChild(r),(o=document.createElement("div")).classList.add("tag-selector__tag-confirm"),t.appendChild(o),a=function(){t.classList.remove("editing"),r.removeAttribute("contenteditable")},s=function(){var e=r.innerText;""==e?r.innerText=u.createText:u.saveTag({name:e}).then(function(e){u.tags.push(e),u.setActiveTagById(e.id),u.removeList(),1==u.inlineMode&&(u.listEl.innerHTML="",u.listEl=null,u.renderList()),u.renderActiveTag(),u.dispatchEvent(new l.IloveEvent("tagCreated",{tag:e.id})),u.dispatchEvent(new l.IloveEvent("tagSelected",{tag:e.id}))})},o.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),a(),s(),u.removeList()}),r.addEventListener("click",function(e){e.preventDefault(),r.innerText="",r.setAttribute("contenteditable","true"),t.classList.add("editing"),r.focus(),c.TextHelper.setEndOfContenteditable(r)}),r.addEventListener("keydown",function(e){"Enter"!==e.key&&13!==e.keyCode||(e.preventDefault(),e.stopPropagation(),a(),s(),u.removeList())}),r.addEventListener("keyup",function(e){"Enter"!==e.key&&13!==e.keyCode&&(""==r.innerText?o.classList.remove("ok"):o.classList.add("ok"))}),n.appendChild(t)),this.listEl=n,(1==this.addSelector&&1!=this.inlineMode?this.activeEl:this.container).appendChild(n),1!=this.inlineMode&&(document.addEventListener("click",this.onClickOutside),this.dispatchEvent(new l.IloveEvent("tagListShown",{}))))},r.prototype.removeList=function(){1!=this.inlineMode&&(document.removeEventListener("click",this.onClickOutside),this.dispatchEvent(new l.IloveEvent("tagListHidden",{})),this.listEl&&this.listEl.remove(),this.listEl=null)},r.prototype.setActiveTag=function(){this.active=this.tags.find(function(e){return!0===e.active}),this.active||(this.active=this.tags[0])},r.prototype.setActiveTagById=function(t){this.active=this.tags.find(function(e){return e.id===t})},r.prototype.getActiveTag=function(){return this.active||this.setActiveTag(),this.active},r.prototype.renderActiveTag=function(){var e;1==this.inlineMode?(document.querySelectorAll(".tag-selector__tag--active").forEach(function(e){e.classList.remove("tag-selector__tag--active")}),e=this.getActiveTag(),document.querySelector('[data-tag-id="'+e.id+'"]').classList.add("tag-selector__tag--active")):1==this.addSelector&&(e=this.getActiveTag(),this.activeEl.innerHTML=e.name)},r.prototype.isInDom=function(){return document.body.contains(this.container)},r.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},r.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},t.TagSelector=r},function(e,t,n){"use strict";!function(a){Object.defineProperty(t,"__esModule",{value:!0});var s=n(86);function e(){}e.show=function(o){return new Promise(function(e,t){var n=!1,i=(o.img||(o.img="/img/icons/svg-icons/notification-warning.svg"),document.createElement("div")),r=(i.innerHTML=s.Tools.feedbackModalView(o),document.body.appendChild(i.firstChild),a("#"+o.id));r.modal("show"),document.getElementById(o.id+"-primary-btn").addEventListener("click",function(){n=!0,e({})}),r.on("hidden.bs.modal",function(){r.remove(),(n?e:t)({})})})},t.default=e}.call(this,n(1))},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.CancelledReasonState=void 0,n(21)),s=n(8),n=(r=a.StateBase,o(u,r),u.prototype.initForm=function(){for(var e=document.getElementById("subscription-cancel-form"),t=(e.addEventListener("submit",function(e){return e.preventDefault(),!1}),e.querySelectorAll('input[type="radio"]')),n=e.querySelector("[reasonOtherContent]"),i=0;i<t.length;i++)t[i].addEventListener("change",function(e){1==e.target.checked&&e.target.value&&"other"==e.target.value?n.classList.remove("hidden"):n.classList.add("hidden")})},Object.defineProperty(u.prototype,"radioButtons",{get:function(){var e=Array.from(this.domStateRoot.querySelectorAll("input[type='radio']"));if(0===e.length)throw"Radio buttons not found";return e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"sendReasonBtn",{get:function(){var e=this.domRoot.querySelector("[next-from-cancelled-reason]");if(e)return e;throw"'Send reason' button not found"},enumerable:!1,configurable:!0}),u);function u(){var t=null!==r&&r.apply(this,arguments)||this;return t.name="CancelledReasonState",t.LAYOUT_TEMPLATE_NAME="subscription-status",t.INITIAL_SCREEN="default",t.onDomReady=function(){t.ctx.setEndState(),t.changeScreen(t.INITIAL_SCREEN),t.clearLoadingScreen(),t.initForm(),t.initNextAction()},t.initNextAction=function(){var e=t.domRoot;e.querySelector("[next-from-cancelled-reason-sent]").addEventListener("click",function(){t._end()}),t.sendReasonBtn.addEventListener("click",function(){t._sendReason()}),t.sendReasonBtn.disabled=!0,t.radioButtons.forEach(function(e){e.addEventListener("change",function(){return t.sendReasonBtn.disabled=!1})})},t._sendReason=function(){document.getElementById("subscription-cancel-form");var e=document.querySelector('input[name="SubscriptionCancelForm[reason]"]:checked');e&&(window.ev("send","event","cancel-reason",e.value),window.ev("event","cancel_form",{reason:e.value})),t.changeScreen("reasonSent"),t.domRoot.parentElement.parentElement.classList.remove("dialog--lg")},t._end=function(){t.dispatchEvent(new s.IloveEvent("end")),window.location.reload()},t}t.CancelledReasonState=n},,,,,,,,,,,,,,,function(e,A,x){"use strict";!function(i,a){var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},t=(Object.defineProperty(A,"__esModule",{value:!0}),A.IlovepdfUser=void 0,x(416)),n=x(421),r=x(422),o=x(423),s=x(424),u=x(45),l=x(327),c=x(426),d=x(427),p=x(48),f=x(206),h=x(201),m=e(x(59)),g=x(428),v=x(434),y=x(438),b=e(x(364)),_=x(7),w=x(441),E=x(333),S=x(34),C=x(442);function D(e){void 0===e&&(e={}),this.userAgendaDetail=null,this.userAgendaList=null,this.userApiKeysManage=null,this.action=null,this.userId=null,this.email=null,this.tool=null,this.processManager=null,this.apiVersion="v1",this.appVersion="web.0",this.token=null,this.user=null,this.userToken=null,this.userPayment=null,this.startServer=null,this.userTeam=null,Object.assign(this,e),this.init()}D.prototype.init=function(){if(this.userCommon(),this.dateTimeFormat(),null!=this.action){if(void 0===this.action||null===this.action)return;var e="action"+this.action.camelCase().ucFirst();e in this&&this[e]()}x(284)},D.prototype.checkPrevent=function(){i.ajax({url:"/user/prevent-changes",cache:!1,contentType:!1,processData:!1,method:"GET",type:"GET",success:function(e){"false"==e&&location.reload()}})},D.prototype.dateTimeFormat=function(){document.querySelectorAll("time.datetime-format").forEach(function(e){var t=e.dataset,n=new Date(Date.UTC(parseInt(t.year),parseInt(t.month)-1,parseInt(t.day),parseInt(t.hour),parseInt(t.minute),parseInt(t.second))),n=new C.DateTimeFormatter(n,t.timezone||"UTC",t.locale),i="1"==t.showtz,r=t.format||"medium";e.innerText="1"==t.dateonly?n.formatDate(r):n.formatDateTime(r,i)})},D.prototype.userCommon=function(){void 0!==window.preventCheck&&setInterval(this.checkPrevent,2e3),a("#resendConfirm").on("click",function(){var e=window.siteData.csrfParam,t=window.siteData.csrfToken,n=new FormData;n.append(e,t),a("#resendAlert").hide(),a("#resendProcess").show(),i.ajax({url:"/auth/resend-confirm",data:n,cache:!1,contentType:!1,processData:!1,method:"POST",type:"POST",success:function(e){a("#resendProcess").hide(),a("#resendSuccess").show()}})}),this.userAvatar()},D.prototype.actionTeam=function(){this.userTeam=new t.UserTeam({userToken:this.userToken,teamData:this.teamData})},D.prototype.actionTeamSettings=function(){this.teamSettings=new c.TeamConfigManager,this.teamSettings.init()},D.prototype.actionContactsDetail=function(){this.userAgendaDetail=new n.UserAgendaDetail},D.prototype.actionContactsList=function(){this.userAgendaList=new r.UserAgendaList({userToken:this.userToken})},D.prototype.actionApiUserKeys=function(){this.userApiKeysManage=new o.UserApiKeysManage({userToken:this.userToken})},D.prototype.actionPlan=function(){this._initPackages(),this._initSubscriptionStatus(),this._initSubscriptionUpdate(),this._initUpdateCard(),this._initPaymentRemove()},D.prototype._initPackages=function(){document.querySelectorAll("[data-package]").forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();var t=new h.PackagesContext({requestedAction:n.dataset.packageAction,neededNumberOfPkgItems:void 0});(new m.default).setContentBuilder(function(){return t}).show(),t.addEventListener("end",function(){window.location.reload()})})})},D.prototype._initSubscriptionUpdate=function(){document.querySelectorAll("[data-subscription]").forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();var t=new f.SubscriptionContext({requestedAction:n.dataset.subscriptionAction,neededSignatures:void 0});n.dataset.subscriptionUsers?t.summaryParams.numUsers=parseInt(n.dataset.subscriptionUsers):n.dataset.subscriptionSignatures?t.summaryParams.numSignatures=parseInt(n.dataset.subscriptionSignatures):n.dataset.subscriptionInterval&&(t.summaryParams.paymentInterval=n.dataset.subscriptionInterval),(new m.default).setContentBuilder(function(){return t}).show(),t.addEventListener("end",function(){window.location.reload()})})})},D.prototype._initSubscriptionStatus=function(){document.querySelectorAll("[data-subscription-status]").forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();var e=n.dataset.subscriptionStatusAction,t=new g.SubscriptionStatusContext({requestedAction:e}),e=["cancelSubscription","cancelOfferSubscription"].includes(e)?["dialog--lg"]:[];new m.default({classes:e}).setContentBuilder(function(){return t}).show(),t.addEventListener("end",function(){window.location.reload()})})})},D.prototype._initUpdateCard=function(){document.querySelectorAll("[data-update-card]").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=new y.CardContext({requestedAction:"updateCard"});(new m.default).setContentBuilder(function(){return t}).show(),t.addEventListener("end",function(){window.location.reload()})})})},D.prototype._initPaymentRemove=function(){document.querySelectorAll("[data-payment-remove]").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=new v.RemovePaymentContext({requestedAction:"confirmRemove"}),n=(new m.default).setContentBuilder(function(){return t});n.show(),t.addEventListener("end",function(e){"close"==(null==(e=e.detail)?void 0:e.action)?n.close():window.location.reload()})})})},D.prototype.actionHistory=function(){this.userHistory()},D.prototype.actionEdit=function(){this.socialUnlink()},D.prototype.actionSignature=function(){this.userSignature=new s.UserSignature({startServer:this.startServer,token:this.token}),this._initPackages(),this._initSubscriptionUpdate()},D.prototype.actionTemplateslist=function(){this.userSignatureTemplate=new w.UserSignatureTemplate({startServer:this.startServer,token:this.token})},D.prototype.actionSignSettings=function(){var r=this,e=new p.Api({taskId:"",tool:"sign",workerServer:"",token:""}),o=(this.signSettings=new l.SignConfigManager(e,!0),document.getElementById("sign-settings"));null!=o&&o.addEventListener("submit",function(e){var t=document.getElementById("settingsBtn");if(t.disabled=!1,r.signSettings.brandCheckbox.checked){var n=[null,""],i=document.getElementById("brandLogo").value;if(n.includes(r.signSettings.brandNameValue)||n.includes(i))return e.preventDefault(),E.ScrollHelper.scrollToElement(r.signSettings.brandCheckbox),S.Tooltip.init(a("#confirmReceiver")),S.Tooltip.setContent(a("#confirmReceiver"),_.Lang.t("brandRequired")),S.Tooltip.show(a("#confirmReceiver")),r.signSettings.setBrandNameError(),void r.signSettings.uploadBrandArea.scrollIntoView()}t.disabled=!0,o.submit()})},D.prototype.actionSignatureDetails=function(){this.userCertsDetails=new d.UserSignatureDetails({startServer:this.startServer,token:this.token})},D.prototype.actionCancelSubscription=function(){a("#subscription-cancel-form").on("submit",function(e){e.preventDefault();var e=a('[name="reason"]').val(),t=(window.ev("send","event","user","cancel",e),window.ev("event","user_cancel",{reason:e}),a("#cancelSubscriptionBtn").attr("disabled","disabled"),this);setTimeout(function(){t.submit()},150)})},D.prototype.socialUnlink=function(){var r=null,e=document.querySelectorAll(".delete[data-source]");e&&0!=e.length&&(e.forEach(function(i){i.addEventListener("click",function(e){var t=i.getAttribute("data-source"),n=i.parentElement.innerText;r=i.getAttribute("data-rel"),a("#deleteSource").html(t),a("#deleteEmail").html(n),a("#deleteRss").modal()})}),a("#goDelete").on("click",function(e){e.preventDefault();e="/"+window.lang+"/user/unlink/"+r;"en-US"===window.lang&&(e="/user/unlink/"+r),window.location.href=e}))},D.prototype.userAvatar=function(){var t;0!=a(".user__avatar__edit").length&&(t=this,a(".user__avatar__edit").on("click",function(){a("#uploadAvatar").trigger("click")}),a("#uploadAvatar").on("change",function(){var e=new FormData;e.append("avatar",a("#uploadAvatar")[0].files[0]),a(".user__avatar__edit i").hide(),a(".user__avatar__edit #avatarImage").hide(),a("#avatarPreloader").show(),i.ajax({url:u.Settings.get("service")+"/avatar",data:e,headers:{Authorization:"Bearer "+t.userToken},cache:!1,contentType:!1,processData:!1,method:"POST",type:"POST",success:function(e){var t=new Date;a("#avatarImage").attr("src",e.file+"?s=110&t="+t.getTime()),a("#avatarPreloader").attr("src","/img/ok.svg"),setTimeout(function(){a("#avatarImage").show(),a(".profile__avatar img").attr("src",e.file+"?s=64&t="+t.getTime()),a(".header .avatar").attr("src",e.file+"?s=30&t="+t.getTime())},1e3),setTimeout(function(){a("#avatarPreloader").hide(),a(".avatar__edit i").show()},3e3)}})}))},D.prototype.userHistory=function(){this._initRemoveTaskActions()},D.prototype._initRemoveTaskActions=function(){document.querySelectorAll('[data-action="delete"]').forEach(function(n){n.addEventListener("click",function(){var e=n.getAttribute("data-task"),t=n.getAttribute("data-worker");b.default.show({id:"deleteTaskModal",title:_.Lang.t("deleteTask"),primaryBtn:_.Lang.t("yesText"),secondaryBtn:_.Lang.t("noText")}).then(function(){new p.Api({taskId:e,tool:null,workerServer:"https://"+t,token:window.token}).deleteTask().then(function(){window.location.href=window.location.pathname},function(e){window.location.href=window.location.pathname})},function(){})})})},A.IlovepdfUser=D}.call(this,x(1),x(1))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var t=n(380),i=n(308);n(106),n(268),n(228),n(443);n(444),null!=window.userConfig&&(window.userModel=window.userConfig.user,n=new t.IlovepdfUser(window.userConfig),window.ilovepdfUser=n),null!=window.premiumConfig&&(t=new i.IlovepdfPremium(window.premiumConfig),window.ilovepdfPayment=t)},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),t.UserTeam=void 0,n(16)),o=n(7),a=n(74),s=i(n(59)),u=i(n(309)),l=n(417),c=n(60),d=n(89),p=n(418),f=n(419),h=i(n(420));function m(e){this.FORM_ID="teamBatchForm",this.memberCheckElementName="teamMemberActionCheck[]",this.invitedCheckElementName="teamInvitedActionCheck[]",this.bacthCheckElementId="selectAll",this.users=1,this.team=1,Object.assign(this,e),this.user=r.UserModel.get(),this.users=this.user&&this.user.current_subscription?this.user.current_subscription.users:0,this.team=window.userConfig.team||1,this.page=window.userConfig.page||"default",this.teamData=window.teamData,this.init()}m.prototype.init=function(){switch(this.page){case"welcome":this.actionWelcome();break;case"invite":this.actionInvite();break;case"workspace":this.actionWorkspace();break;case"members":this.actionMembers();break;case"team":this.actionTeam();break;case"settings":this.actionSettings();break;default:this.actionDefault()}},m.prototype.actionDefault=function(){},m.prototype.actionWelcome=function(){r.UserModel.isRealPremium()||this.initPremiumBtnPopup()},m.prototype.actionInvite=function(){this.initEditWorkspaceName(),this.teamInvite=new l.UserTeamInvite(this.teamData)},m.prototype.actionMembers=function(){this.initEditWorkspaceName(),this.initCreateTeam(),h.default.sortable("sortable"),h.default.searchable(function(){document.querySelectorAll("[data-mass-action]").forEach(function(e){e.checked=!1})}),this.teamManage=new p.UserTeamManage},m.prototype.actionWorkspace=function(){this.initEditWorkspaceName(),this.initEditTeamName(),this.initCreateTeam(),this.teamManage=new p.UserTeamManage},m.prototype.actionTeam=function(){this.initEditTeamName(),this.teamManage=new p.UserTeamManage},m.prototype.actionSettings=function(){this.teamSettings=new f.UserTeamSettings(window.teamId,window.settings)},m.prototype.initPremiumBtnPopup=function(){var n=document.querySelector("[become-premium-btn]");n&&n.addEventListener("click",function(e){e.preventDefault();e=new s.default({dialogName:"becomePremium"}).setContentBuilder(function(){return new a.PremiumContext({triggerReason:c.REASON.ERROR_FEATURE,limits:null,premiumFeatureName:"teams"})});e.addEventListener("closed",function(e){var t=n.getAttribute("href");r.UserModel.isPremium()&&(t?window.location.href=t:window.location.reload())}),e.show()})},m.prototype.cleanName=function(e){return e.replace(/[^0-9a-z_\-\s]/gi,"")},m.prototype.initEditableField=function(t,r){var e=document.querySelectorAll('[data-field="'+t+'"]');e&&0!=e.length&&e.forEach(function(n){var i=n.innerText,e=(n.addEventListener("focus",function(e){i=n.innerText}),n.addEventListener("blur",function(e){var t;(t=n.innerText.substring(0,30))!=i&&(""==t?n.innerText=i:r&&r(t,i,n))}),n.addEventListener("keydown",function(e){"Enter"===e.key||13===e.keyCode?(e.preventDefault(),e.stopPropagation(),n.blur()):30<n.innerText.length&&(e.preventDefault(),n.innerText=n.innerText.substring(0,30))}),n.parentNode.querySelector('[data-field-rel="'+t+'"]'));e&&e.addEventListener("click",function(e){n.focus(),d.TextHelper.setEndOfContenteditable(n)})})},m.prototype.initEditWorkspaceName=function(){this.initEditableField("workspace",function(e,t,n){u.default.updateWorkspaceName(e).then(function(e){window.Toastr.success(o.Lang.t("team.workspaceNameSaved")),u.default.setUpdatedAt(e.updated_at)}).catch(function(e){n.innerHTML=t,window.Toastr.error(o.Lang.t("team.workspaceNameError"))}).finally(function(){})})},m.prototype.initEditTeamName=function(){this.initEditableField("team",function(t,n,i){var r=parseInt(i.getAttribute("data-team-id"));u.default.updateTeamName(r,t).then(function(e){window.Toastr.success(o.Lang.t("team.teamNameSaved")),document.querySelectorAll('[data-field="team"][data-team-id="'+r+'"]').forEach(function(e){e.innerHTML!=t&&(e.innerHTML=t)}),u.default.setUpdatedAt(e.updated_at)}).catch(function(e){i.innerHTML=n,window.Toastr.error(o.Lang.t("team.teamNameError"))}).finally(function(){})})},m.prototype.initCreateTeam=function(){var t=document.querySelector('input[name="newTeamName"]'),e=document.getElementById("creatTeamBtn"),n=document.getElementById("cancelCreateTeamBtn");n&&(n.addEventListener("click",function(e){e.preventDefault(),t.value=""}),e.addEventListener("click",function(e){e.preventDefault();e=t.value;""==e?window.Toastr.error(o.Lang.t("team.teamNameError")):u.default.createTeam(e).then(function(e){window.Toastr.success(o.Lang.t("team.teamCreated")),window.location.reload()}).catch(function(e){window.Toastr.error(o.Lang.t("team.teamNameError"))}).finally(function(){})}))},t.UserTeam=m},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},u=(Object.defineProperty(t,"__esModule",{value:!0}),t.UserTeamInvite=void 0,i(n(309))),l=n(17),c=n(7),r=n(206),o=i(n(59)),d=n(363),p=n(16);function a(e){this.FORM_ID="teamAddForm",this.teamSelectors={},this.roleSelectors={},this.counter=0,this.users=e.allowedUsers,this.team=e.teamMembers+e.teamPending,this.initSelectAll(),this.initInviteActions(),this.initUploader(),this.updateResume(),this.setBtn(!1)}Object.defineProperty(a.prototype,"batchCheck",{get:function(){return document.getElementById("selectAll")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"batchText",{get:function(){return document.querySelector("[data-batch-enable]")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"batchActions",{get:function(){return document.querySelector("[data-batch-actions]")},enumerable:!1,configurable:!0}),a.prototype.initSelectAll=function(){var n=this;this.batchCheck.addEventListener("change",function(e){e.preventDefault();var t=n.batchCheck.checked;n.batchText.style.display=t?"none":"block",n.batchActions.style.display=t?"flex":"none",document.querySelectorAll("[data-mass-action]").forEach(function(e){e.checked=t})})},a.prototype.checkBatchActions=function(){var e=0<document.querySelectorAll("[data-mass-action]:checked").length;this.batchCheck.checked=e,this.batchText.style.display=e?"none":"block",this.batchActions.style.display=e?"flex":"none"},Object.defineProperty(a.prototype,"confirmBtn",{get:function(){return document.querySelector("[data-invite-confirm]")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"emailInputs",{get:function(){return document.querySelectorAll('[data-input="email"] input')},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"emailTexts",{get:function(){return document.querySelectorAll('[data-field="email"]')},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"roleInputs",{get:function(){return document.querySelectorAll('[data-field="email"]')},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"addMoreBtn",{get:function(){return document.getElementById("teamAddMore")},enumerable:!1,configurable:!0}),a.prototype.initInviteActions=function(){var t=this,n=this.confirmBtn;n.addEventListener("click",function(e){e.preventDefault(),n.disabled=!0,t.addNewUsers()}),this.addUserItem(),document.getElementById("teamAddMore").addEventListener("click",function(e){e.preventDefault(),t.addUserItem()}),this.initBatchRole(),this.initBatchTeam(),this.initBatchDelete()},a.prototype.initBatchRole=function(){var n=this;new d.TagSelector({tags:window.roleTags,container:document.querySelector('[data-batch-action="role"]'),addSelector:!1}).addEventListener("tagSelected",function(e){var t=e.detail.tag;Object.keys(n.roleSelectors).forEach(function(e){e=n.roleSelectors[e];e.container.parentElement.querySelector('[name="inviteCheck[]"]').checked&&(e.setActiveTagById(t),e.renderActiveTag())})})},a.prototype.initBatchTeam=function(){var n=this;new d.TagSelector({url:u.default.TEAM_CREATE_URI,tags:window.teamTags,container:document.querySelector('[data-batch-action="team"]'),addSelector:!1,allowCreate:"manager"!=p.UserModel.get().team_role,createText:c.Lang.t("team.createNew"),createPlaceholder:c.Lang.t("team.writeNew")}).addEventListener("tagSelected",function(e){var t=e.detail.tag;Object.keys(n.teamSelectors).forEach(function(e){e=n.teamSelectors[e];e.container.parentElement.querySelector('[name="inviteCheck[]"]').checked&&(e.setActiveTagById(t),e.renderActiveTag())})})},a.prototype.initBatchDelete=function(){var t=this;document.querySelector('[data-batch-action="remove"]').addEventListener("click",function(e){document.querySelectorAll("[data-mass-action]:checked").forEach(function(e){e.closest("tr").remove()}),0==document.querySelectorAll("[data-mass-action]").length&&t.addUserItem()})},a.prototype.initUploader=function(){var t=this,n=document.getElementById("teamUpload"),i=document.getElementById("teamUploadInput");n.addEventListener("click",function(){i.click()}),i.addEventListener("change",function(){var e=new FormData;e.append("file",i.files[0]),e.append("onlyemail","true"),n.setAttribute("disabled",""),document.querySelectorAll(".alert--error").forEach(function(e){e.classList.add("hidden")}),u.default.uploadContacts(e,p.UserModel.get().token).then(function(e){return e.json()}).then(function(e){e.success&&0<e.success.length?(t.cleanEmptyEmails(),e.success.forEach(function(e){t.addUserItem(e)}),t.cleanEmptyEmails(),t.validate(),n.removeAttribute("disabled"),document.getElementById("importInvitesModal").querySelector(".dialog__close").click(),document.getElementById("teamUploadInput").value=""):(document.getElementById("badImport").classList.remove("hidden"),n.removeAttribute("disabled"))}).catch(function(e){window.Toastr.error(c.Lang.t("error.upload_contacts")),n.removeAttribute("disabled")})})},a.prototype.addUserItem=function(e){var t=this,n=(void 0===e&&(e=null),l.Tools.randomId()),i=document.getElementById("inviteRowTemplate").content.children[0].cloneNode(!0),r=(i.removeAttribute("id"),i.id=n,this.counter++,i.querySelector(".checkbox input").setAttribute("id","contact"+this.counter),i.querySelector(".checkbox label").setAttribute("for","contact"+this.counter),i.querySelector('[data-input="email"]')),o=r.querySelector("input"),a=i.querySelector('[data-field="email"]'),e=(e?(a.innerText=e,o.value=e,r.style.display="none"):(a.innerText="",a.style.display="none"),a.addEventListener("click",function(e){e.preventDefault(),a.style.display="none",r.style.display="block",t.confirmBtn.disabled=!0,o.focus()}),o.addEventListener("keydown",function(e){13==e.keyCode||9==e.keyCode?(e.preventDefault(),o.blur(),t.addUserItem()):t.confirmBtn.disabled=!0}),o.addEventListener("blur",function(e){e.preventDefault();e=o.value;""!=e&&(a.innerHTML=e,r.style.display="none",a.style.display="block",t.checkInvite(o).then(function(){t.validate()}))}),i.querySelector("[data-remove]").addEventListener("click",function(e){e.preventDefault(),t.removeUserItem(i)}),i.querySelector("[data-mass-action]").addEventListener("change",function(e){t.checkBatchActions()}),document.getElementById("addRow")),s=new d.TagSelector({url:u.default.TEAM_CREATE_URI,tags:window.teamTags,container:i.querySelector('[data-tag="team"]'),allowCreate:"manager"!=p.UserModel.get().team_role,createText:c.Lang.t("team.createNew"),createPlaceholder:c.Lang.t("team.writeNew"),activeId:window.defaultTeam}),s=(this.teamSelectors[n]=s,new d.TagSelector({tags:window.roleTags,container:i.querySelector('[data-tag="role"]')}));this.roleSelectors[n]=s,e.parentNode.insertBefore(i,e),o.focus()},a.prototype.removeUserItem=function(e){var t=e.id;delete this.teamSelectors[t],delete this.roleSelectors[t],e.remove(),this.validate(),this.updateResume(),0==this.emailInputs.length&&this.addUserItem()},a.prototype.validateUniqueEmails=function(){var t=[],n=[],e=this.emailInputs,i=this.emailTexts;return e.forEach(function(e){""!=e.value&&(t.includes(e.value)?n:t).push(e.value)}),e.forEach(function(e,t){n.includes(e.value)&&(e.classList.add("error"),i[t].classList.add("error"))}),0==n.length},a.prototype.validateEmails=function(){var e=this.emailInputs,i=this.emailTexts,r=!0;return e.forEach(function(e,t){var n;""!=e.value&&(n=l.Tools.isEmail(e.value),r=r&&n,0==n)&&(e.classList.add("error"),i[t].classList.add("error"))}),r},a.prototype.validateMinimumUsers=function(){var n=!1;return Array.from(this.emailInputs).every(function(e,t){return""==e.value||!(n=!0)}),n},a.prototype.cleanEmptyEmails=function(){var e=this.emailInputs;1!=e.length&&e.forEach(function(e){""==e.value&&e.parentElement.parentElement.parentElement.remove()})},a.prototype.cleanErrors=function(){var e=this.emailInputs,n=this.emailTexts;e.forEach(function(e,t){e.classList.remove("error"),n[t].classList.remove("error")})},a.prototype.checkInvite=function(i){var r=this;return new Promise(function(t,e){var n=i.value;""!=n&&l.Tools.isEmail(n)?(n=r.getUserInviteData(i),u.default.inviteCheck(n).then(function(e){return e.json()}).then(function(e){0==e.valid&&e.errors?(e.errors.team&&i.setAttribute("data-team",e.errors.teamId),e.errors.user_id&&i.setAttribute("data-invited","true")):i.removeAttribute("data-team"),t()}).catch(function(e){})):t()})},a.prototype.validate=function(){this.cleanErrors();var e=this.validateUniqueEmails(),t=this.validateEmails(),n=this.validateMinimumUsers();return this.setBtn(t&&e&&n),this.updateResume(),t&&e&&n},a.prototype.setBtn=function(e){this.confirmBtn.disabled=!e},a.prototype.updateResume=function(){var e=this.countAddedUsers(),t=Math.abs(Math.min(0,this.users-this.team-e)),n=this.users-this.team,i=n-e,r="",r=0==e?"":0<t?c.Lang.t("seatsNeeded",{n:t}):n==e?c.Lang.t("seatsFull"):c.Lang.t("seatsRemaining",{n:i});document.getElementById("licencesResume").innerHTML=r,document.getElementById("licencesPricing").style.display=0<t?"block":"none"},a.prototype.payment=function(){var e=this,t=new r.SubscriptionContext({requestedAction:"summary",neededSignatures:void 0}),n=(t.summaryParams.numUsers=this.users+this.countNeededLicences(),(new o.default).setContentBuilder(function(){return t}));n.show(),n.addEventListener("closed",function(){e.confirmBtn.disabled=!1}),t.addEventListener("end",function(){1!=e.paymentDone&&(e.paymentDone=!0,e.executeAddNewUsers())})},a.prototype.countAddedUsers=function(){var t=0;return this.emailInputs.forEach(function(e){""==e.value||e.getAttribute("data-invited")||e.getAttribute("data-team")||t++}),t},a.prototype.countNeededLicences=function(){var e=this.countAddedUsers();return Math.abs(Math.min(0,this.users-this.team-e))},a.prototype.addNewUsers=function(){0<this.countNeededLicences()?this.payment():this.executeAddNewUsers()},a.prototype.executeAddNewUsers=function(){var t=this,e=(document.querySelector(".wait.full").style.display="block",this.getUsersInviteData());this.confirmBtn.disabled=!0,u.default.inviteMembers(e).then(function(e){return e.json()}).then(function(e){var t="/user/team";"en-US"!=window.lang&&(t="/"+window.lang+t),window.location.href=t}).catch(function(e){t.confirmBtn.disabled=!1,document.querySelector(".wait.full").style.display="none"})},a.prototype.getUsersInviteData=function(){var n=this,i=[];return this.emailInputs.forEach(function(e,t){""!=e.value&&i.push(n.getUserInviteData(e))}),i},a.prototype.getUserInviteData=function(e){var t;return""!=e.value?(t=e.closest("tr").id,t={email:e.value,team:this.teamSelectors[t].getActiveTag().id,role:this.roleSelectors[t].getActiveTag().id},"true"==e.getAttribute("data-invited")&&(t.invited=!0),e.getAttribute("data-team")&&(t.teamId=e.getAttribute("data-team")),t):null},t.UserTeamInvite=a},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},u=(Object.defineProperty(t,"__esModule",{value:!0}),t.UserTeamManage=void 0,i(n(309))),l=n(99),c=n(363),d=n(16),p=n(269);function r(){this.FORM_ID="teamAddForm",this.initTeamActions()}Object.defineProperty(r.prototype,"batchCheckAll",{get:function(){return document.querySelectorAll("[data-batch-select]")},enumerable:!1,configurable:!0}),r.prototype.forceTopOnReload=function(){window.onbeforeunload=function(){window.scrollTo(0,0)}},r.prototype.getBatchText=function(e){return e.querySelector("[data-batch-enable]")},r.prototype.getBatchActions=function(e){return e.querySelector("[data-batch-actions]")},r.prototype.initSelectAll=function(){var o=this;this.batchCheckAll.forEach(function(n){var i=o.getCardContainer(n),r=i.querySelectorAll("[data-mass-action]");n.addEventListener("change",function(e){e.preventDefault();var t=n.checked;o.getBatchText(i).style.display=t?"none":"block",o.getBatchActions(i).style.display=t?"flex":"none",r.forEach(function(e){e.checked=t})}),r.forEach(function(e){e.addEventListener("change",function(e){o.checkBatchActions(i)})})})},r.prototype.checkBatchActions=function(e){var t=0<e.querySelectorAll("[data-mass-action]:checked").length;e.querySelector("[data-batch-select]").checked=t,this.getBatchText(e).style.display=t?"none":"block",this.getBatchActions(e).style.display=t?"flex":"none"},Object.defineProperty(r.prototype,"roleInputs",{get:function(){return document.querySelectorAll('[data-field="email"]')},enumerable:!1,configurable:!0}),r.prototype.initTeamActions=function(){this.initSelectAll(),this.initBatchActions(),this.initLeaveActions(),this.initDeleteMemberActions(),this.initChangeMemberRoleActions(),this.initChangeInviteRoleActions(),this.initChangeMemberTeamActions(),this.initChangeInviteTeamActions(),this.initDeleteTeamActions(),this.initInviteRevoqueActions()},r.prototype.initBatchActions=function(){this.initBatchTeamActions(),this.initBatchRoleActions(),this.initBatchRemoveActions()},r.prototype.initBatchTeamActions=function(){var a=this,e=document.querySelectorAll('[data-batch-action="team"]');e&&0!=e.length&&e.forEach(function(t){new c.TagSelector({url:u.default.TEAM_CREATE_URI,tags:Object.assign([],window.teamTags),container:t,addSelector:!1,allowCreate:!0,createText:l.Lang.t("team.createNew"),createPlaceholder:l.Lang.t("team.writeNew")}).addEventListener("tagSelected",function(e){var i=e.detail.tag,e=a.getCardContainer(t).querySelectorAll("[data-mass-action]:checked"),r=[],o=[];e.forEach(function(e){var t,e=a.getRowContainer(e),n=e.getAttribute("data-member-id");n?(t={userId:n,teamId:e.getAttribute("data-member-team-id"),newTeamId:i},r.push(t)):(n=e.getAttribute("data-invite-id"))&&(t={inviteId:n,teamId:e.getAttribute("data-member-team-id"),newTeamId:i},o.push(t))}),u.default.setBatchMemberTeam(r,o).then(function(e){a.forceTopOnReload(),window.location.reload()})})})},r.prototype.initBatchRoleActions=function(){var a=this,e=document.querySelectorAll('[data-batch-action="role"]');e&&0!=e.length&&e.forEach(function(t){new c.TagSelector({tags:Object.assign([],window.roleTags),container:t,addSelector:!1}).addEventListener("tagSelected",function(e){var i=e.detail.tag,e=a.getCardContainer(t).querySelectorAll("[data-mass-action]:checked"),r=[],o=[];e.forEach(function(e){var t,e=a.getRowContainer(e),n=e.getAttribute("data-member-id");n?(t={userId:n,teamId:e.getAttribute("data-member-team-id"),roleId:i},r.push(t)):(n=e.getAttribute("data-invite-id"))&&(t={inviteId:n,teamId:e.getAttribute("data-member-team-id"),roleId:i},o.push(t))}),u.default.setBatchMemberRole(r,o).then(function(e){window.location.reload()})})})},r.prototype.initBatchRemoveActions=function(){var o=this,e=document.querySelectorAll('[data-batch-action="remove"]');e&&0!=e.length&&e.forEach(function(t){t.addEventListener("click",function(e){e.preventDefault();e=new p.ConfirmModal("batchRemove");e.show(),e.onYes=function(){var e=o.getCardContainer(t).querySelectorAll("[data-mass-action]:checked"),i=[],r=[];e.forEach(function(e){var t,e=o.getRowContainer(e),n=e.getAttribute("data-member-id");n?(t={userId:n,teamId:e.getAttribute("data-member-team-id")},i.push(t)):(n=e.getAttribute("data-invite-id"))&&(t={inviteId:n,teamId:e.getAttribute("data-member-team-id")},r.push(t))}),u.default.setBatchMemberDelete(i,r).then(function(e){o.forceTopOnReload(),window.location.reload()})}})})},Object.defineProperty(r.prototype,"revoqueBtns",{get:function(){return document.querySelectorAll("[data-invite-revoque-action]")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leaveBtns",{get:function(){return document.querySelectorAll("[data-leave-action]")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"removeMemberBtns",{get:function(){return document.querySelectorAll("[data-remove-action]")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"changeMemberRoleBtns",{get:function(){return document.querySelectorAll("[data-change-role-action]")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"changeInviteRoleBtns",{get:function(){return document.querySelectorAll("[data-invite-change-role-action]")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"changeMemberTeamBtns",{get:function(){return document.querySelectorAll("[data-change-team-action]")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"changeInviteTeamBtns",{get:function(){return document.querySelectorAll("[data-invite-change-team-action]")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"deleteTeamBtns",{get:function(){return document.querySelectorAll("[data-delete-team-action]")},enumerable:!1,configurable:!0}),r.prototype.getRowContainer=function(e){return e.closest("tr")},r.prototype.getTableContainer=function(e){return e.closest("table")},r.prototype.getCardContainer=function(e){return e.closest(".card")},r.prototype.initInviteRevoqueActions=function(){var n,i,t=this,e=this.revoqueBtns;e&&document.querySelector('[data-template-name="revoque"]')&&(n=new p.ConfirmModal("revoque"),i=null,e.forEach(function(e){e.addEventListener("click",function(){i=t.getRowContainer(e),t.getCardContainer(e),n.show()})}),n.onYes=function(){n.setState("loading");var e=i.getAttribute("data-invite-id"),t=i.getAttribute("data-member-team-id");u.default.deleteInvite({inviteId:parseInt(e),teamId:parseInt(t)}).finally(function(){window.location.reload()})})},r.prototype.initLeaveActions=function(){var t,n=this,e=this.leaveBtns;e&&document.querySelector('[data-template-name="leave"]')&&(t=new p.ConfirmModal("leave"),e.forEach(function(e){e.addEventListener("click",function(){n.getRowContainer(e),n.getCardContainer(e),t.show()})}),t.onYes=function(){var e="/user/team/leave";"en-US"!=window.lang&&(e="/"+window.lang+e),window.location.href=e})},r.prototype.initDeleteMemberActions=function(){var n,i,t=this,e=this.removeMemberBtns;e&&document.querySelector('[data-template-name="remove"]')&&(n=new p.ConfirmModal("remove"),i=null,e.forEach(function(e){e.addEventListener("click",function(){i=t.getRowContainer(e),t.getCardContainer(e),n.show()})}),n.onYes=function(){n.setState("loading");var e=i.getAttribute("data-member-id"),t=i.getAttribute("data-member-team-id");u.default.deleteMember({userId:parseInt(e),teamId:parseInt(t)}).finally(function(){window.location.reload()})})},r.prototype.initChangeInviteRoleActions=function(){this.initChangeMemberRoleActions("invite")},r.prototype.initChangeMemberRoleActions=function(r){var e,o,a,s,i=this;"member"===(r=void 0===r?"member":r)&&(e=this.changeMemberRoleBtns),(e="invite"===r?this.changeInviteRoleBtns:e)&&document.querySelector('[data-template-name="'+r+'ChangeRole"]')&&(o=new p.ConfirmModal(r+"ChangeRole"),s=a=null,e.forEach(function(n){n.addEventListener("click",function(e){e.preventDefault(),a=i.getRowContainer(n),i.getCardContainer(n);var t=parseInt(a.getAttribute("data-member-role-id"));o.show(),s?(s.setActiveTagById(t),s.renderActiveTag()):window.setTimeout(function(){(s=new c.TagSelector({tags:Object.assign([],window.roleTags),container:document.querySelector("[change-"+r+"-role-select]")})).setActiveTagById(t),s.renderActiveTag()},300)})}),o.onYes=function(){o.setState("loading");var e,t=s.getActiveTag(),n=t.id,i=a.getAttribute("data-member-team-id");"member"===r&&(e=a.getAttribute("data-member-id"),u.default.setMemberRole({userId:parseInt(e),teamId:parseInt(i),roleId:n}).then(function(e){window.Toastr.success("Role updated"),a.querySelector("[data-role-name]").innerHTML=t.name,u.default.setUpdatedAt(e.updated_at)}).catch(function(e){window.Toastr.error("Role update error",e)}).finally(function(){o.hide()})),"invite"===r&&(e=a.getAttribute("data-invite-id"),u.default.setInviteRole({inviteId:parseInt(e),teamId:parseInt(i),roleId:n}).then(function(e){window.Toastr.success("Role updated"),a.querySelector("[data-role-name]").innerHTML=t.name,u.default.setUpdatedAt(e.updated_at)}).catch(function(e){window.Toastr.error("Role update error",e)}).finally(function(){o.hide()}))})},r.prototype.initChangeInviteTeamActions=function(){this.initChangeMemberTeamActions("invite")},r.prototype.initChangeMemberTeamActions=function(i){var e,r,o,a,s=this;"member"===(i=void 0===i?"member":i)&&(e=this.changeMemberTeamBtns),(e="invite"===i?this.changeInviteTeamBtns:e)&&document.querySelector('[data-template-name="'+i+'ChangeTeam"]')&&(r=new p.ConfirmModal(i+"ChangeTeam"),a=o=null,e.forEach(function(n){n.addEventListener("click",function(e){e.preventDefault(),o=s.getRowContainer(n),s.getCardContainer(n),r.show();var t=parseInt(o.getAttribute("data-member-team-id"));window.setTimeout(function(){a?(a.setActiveTagById(t),a.renderActiveTag()):window.setTimeout(function(){(a=new c.TagSelector({tags:Object.assign([],window.teamTags),container:document.querySelector("[change-"+i+"-team-select]"),allowCreate:"manager"!=d.UserModel.get().team_role,url:u.default.TEAM_CREATE_URI,createText:l.Lang.t("team.createNew"),createPlaceholder:l.Lang.t("team.writeNew")})).setActiveTagById(t),a.renderActiveTag(),a.addEventListener("tagListShown",function(e){r.yesBtn[0].disabled=!0}),a.addEventListener("tagSelected",function(e){r.yesBtn[0].disabled=!1})},300)},300)})}),r.onYes=function(){r.setState("loading");var e,t=o.getAttribute("data-member-team-id"),n=a.getActiveTag().id;"member"===i&&(e=o.getAttribute("data-member-id"),u.default.setMemberTeam({userId:parseInt(e),teamId:parseInt(t),newTeamId:n}).finally(function(){window.location.reload()})),"invite"===i&&(e=o.getAttribute("data-invite-id"),u.default.setInviteTeam({inviteId:parseInt(e),teamId:parseInt(t),newTeamId:n}).finally(function(){window.location.reload()}))})},r.prototype.initDeleteTeamActions=function(){var t,n,i=this,e=this.deleteTeamBtns;e&&document.querySelector('[data-template-name="deleteTeam"]')&&(t=new p.ConfirmModal("deleteTeam"),n=null,e.forEach(function(e){e.addEventListener("click",function(){n=i.getCardContainer(e),t.show()})}),t.onYes=function(){t.setState("loading");var e=parseInt(n.getAttribute("data-team-id"));u.default.deleteTeam(e).then(function(){window.location.reload()}),n.remove(),t.hide(),window.Toastr.success("team removed")})},r.prototype.cleanSelectors=function(){},r.prototype.removeUserItem=function(e){e.remove()},t.UserTeamManage=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(t,"__esModule",{value:!0}),t.UserTeamSettings=void 0,i(n(309)));function o(e,t){this.teamId=e,this.settings=t,this.initSettings()}o.prototype.initSettings=function(){this.initDigitalSignatureSettings(),this.initPdfaSettings(),this.initSaveButton(),this.initApplyAllButton()},o.prototype.initApplyAllButton=function(){var t=this,e=document.querySelector("[data-apply-all]");e&&e.addEventListener("click",function(e){t.applyAll=!0,t.save()})},o.prototype.initSaveButton=function(){var t=this,n=document.getElementById("teamSettingsSave");n.addEventListener("click",function(e){n.disabled=!0,t.save()})},o.prototype.initPdfaSettings=function(){function t(){document.getElementById("pdfaSelectOption").style.display=i.checked?"block":"none"}var n=this.settings.pdfa,i=document.getElementById("pdfaCheckbox"),r=document.getElementById("conformance"),o=document.getElementById("allow_pdfa_downgrade");i.checked=!n.isDefault,r.value=n.conformance,o.checked=n.allow_pdfa_downgrade,t(),i.addEventListener("change",function(e){t(),n.isDefault=!i.checked}),r.addEventListener("change",function(e){n.conformance=r.value}),o.addEventListener("change",function(e){n.allow_pdfa_downgrade=o.checked})},o.prototype.initDigitalSignatureSettings=function(){var t=this.settings.digitalSignature,n=(delete t.isDefault,document.getElementById("certifiedCheckbox"));n.checked=t.allowDigital,n.addEventListener("change",function(e){t.allowDigital=n.checked})},o.prototype.getSettings=function(){return this.settings},o.prototype.save=function(){document.querySelector(".wait.full").style.display="block";var e={teamId:this.teamId,settings:this.getSettings()};!0===this.applyAll&&(e.applyAllTeams=!0),r.default.saveTeamSettings(e).then(function(){window.location.reload()})},t.UserTeamSettings=o},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0}),i.sortable=function(e){for(var t,n,i,r,p,o=document.querySelectorAll("table."+e),a=0;a<o.length;a++)if(n=(t=o[a]).querySelector("thead")){for(i=n.querySelectorAll("th"),r=0;r<i.length;r++)i[r].innerHTML="<a href='#'>"+i[r].innerText+"</a>";n.addEventListener("click",function(d){return function(e){if("a"==e.target.tagName.toLowerCase()){var t,n,i=d,r=function(e){var t=0;for(;e=e.previousElementSibling;)t++;return t}(e.target.parentNode),o=i.querySelectorAll("tbody tr"),a="thead th:nth-child("+(r+1)+")",s="td:nth-child("+(r+1)+")",r=i.querySelector(a).classList,u=[],a="",l=!0;for(r.contains("sort-asc-hover")?(p=-1,r.add("sort-desc-hover"),r.remove("sort-asc-hover")):(p=1,r.add("sort-asc-hover"),r.remove("sort-desc-hover")),r&&(r.contains("date")?a="date":r.contains("number")&&(a="number")),t=0;t<o.length;t++)n=(n=o[t].querySelector(s)).innerText,isNaN(n)?l=!1:n=parseFloat(n),u.push({value:n,row:o[t]});"number"==(a=""==a&&l?"number":a)?(u.sort(f),u=u.reverse()):"date"==a?u.sort(h):u.sort(m);for(var c=0;c<u.length;c++)i.querySelector("tbody").appendChild(u[c].row);e.preventDefault()}}}(t))}function f(e,t){return s(e.value,t.value)}function s(e,t){return(e-t)*p}function h(e,t){return s(Date.parse(e.value),Date.parse(t.value))}function m(e,t){e=(e.value+"").toUpperCase(),t=(t.value+"").toUpperCase();return e<t?-1*p:t<e?+p:0}},i.searchable=function(t){var i;function n(e){i=e.target;e=document.getElementsByClassName(i.getAttribute("data-table"));t(),[].forEach.call(e,function(e){[].forEach.call(e.tBodies,function(e){[].forEach.call(e.rows,function(e){var t=e.textContent.toLowerCase(),n=i.value.toLowerCase();e.style.display=-1<t.indexOf(n)?"":"none"})})})}void 0===t&&(t=function(){});var e=document.querySelectorAll("input[data-table]");[].forEach.call(e,function(e){e.oninput=n})},t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserAgendaDetail=void 0;var i=n(216);function r(e){void 0===e&&(e={}),Object.assign(this,e),this.init()}r.prototype.init=function(){this.initPhonePrefix(),this.initFormSubmit()},r.prototype.initPhonePrefix=function(){var t=this,n=document.getElementById("contact-info-edit").querySelector("[type='tel']");this.telInput=n,this.mobilePhoneInput=new i.MobilePhoneInput(this.telInput),this.mobilePhoneInput.setNumber(this.telInput.value),this.mobilePhoneInput.onChange(function(e){n.classList.contains("error")&&(t.mobilePhoneInput.isMobileEmpty||t.mobilePhoneInput.isMobileValid)&&n.classList.remove("error")})},r.prototype.initFormSubmit=function(){var n=this,i=document.getElementById("contact-info-edit").querySelector("form");i.addEventListener("submit",function(e){e.preventDefault();var e=n.telInput.getAttribute("name").replace("phone","phonePrefix"),t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name",e),t.setAttribute("value",n.mobilePhoneInput.countryPrefix),n.mobilePhoneInput.isMobileEmpty||n.mobilePhoneInput.isMobileValid?n.submitForm(i):n.telInput.classList.add("error")})},r.prototype.submitForm=function(e){var t=this.telInput.getAttribute("name").replace("phone","phonePrefix"),n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",t),n.setAttribute("value",this.mobilePhoneInput.countryPrefix),e.appendChild(n),e.submit()},t.UserAgendaDetail=r},function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(t,"__esModule",{value:!0}),t.UserAgendaList=void 0,n(45)),r=i(n(364)),o=n(7),a=i(n(59)),u=n(216);function l(e){var a=this;this.UPLOAD_BTN_LINK_ID="contactUpload",this.UPLOAD_INPUT_ID="contactUploadInput",this.BAD_IMPORT_BLOCK="badImport",this.SIZE_EXEEDED="contactExceeded",this.contactCheckElementName="agendaContactCheck[]",this.batchCheckElementId="selectAll",this.FORM_ID="contactsForm",this.pendingSigningOnlyId="filterPendingSigning",this.ADD_CONTACT_MODAL_ID="addContactModal",this.REMOVE_AGENDA_CONTACT_CLASS="remove-agenda-contact",this.CONTAINER_ID="agendaAddList",this.UPDATE_CONTACT_FORM_ID="updateContactForm",this.FILTER_NAME_ONLY="agendaFilter",this.FORM_FILTER_CONTACTS="contactFormFilter",this.addContactItems=[],this._onAddContactDialogDomReady=function(t,n){var e=t.querySelectorAll("#agendaAddMore")[0],i=t.querySelector("form"),r=t.querySelector("[create-contacts-action]"),o=t.querySelector("[close-dialog-action]");e.addEventListener("click",function(e){e.preventDefault(),a.addContactItem(t)}),r.addEventListener("click",function(e){i.checkValidity()&&(e.preventDefault(),a.submitForm(i))}),o.addEventListener("click",function(e){e.preventDefault(),n.close()}),a.addContactItem(t)},Object.assign(this,e),this.init()}l.prototype.init=function(){this.userContactUploadInit(),this.initBatchActions(),this.initSignleActions(),this.initFilterByPendingOnly(),this.initAddContact(),this.initFilterByName()},l.prototype.initFilterByName=function(){var t=document.getElementById(this.FORM_FILTER_CONTACTS);document.querySelector("#"+this.FORM_FILTER_CONTACTS+' input[name="search_string"]').closest("div").addEventListener("click",function(e){e.offsetX<=29&&t.submit()})},l.prototype.initFilterByPendingOnly=function(){var t=this.getCurrentUrlParams(),e=document.getElementById(this.pendingSigningOnlyId),i=document.getElementById(this.FORM_FILTER_CONTACTS);t.pending_signing="1"===t.pending_signing?"":"1",e.addEventListener("change",function(e){var n="";t.page="1",Object.entries(t).forEach(function(e){var t=e[0],e=e[1];""!=n&&(n+="&"),n+=t+"="+e}),i.submit()})},l.prototype.initAddContact=function(){var n=this,e=document.getElementById("openAddContactModal");e&&e.addEventListener("click",function(){var t=new a.default({dialogName:"openAddContactModal",canBeClosedByUser:!0,clickAwayClose:!0,classes:["dialog--lg"]}),e=document.querySelector("#addContactModal_template");t.setTemplate(e,function(e){n._onAddContactDialogDomReady(e,t)}),t.show()})},l.prototype.submitForm=function(i){var n=!0;this.addContactItems.forEach(function(e){var t=e.phoneInput;t.isMobileEmpty||t.isMobileValid||(e.phoneEl.classList.add("error"),n=!1)}),n&&(this.addContactItems.forEach(function(e){var t=e.phoneInput.countryPrefix,e=e.phoneEl.getAttribute("name").replace("phone","phonePrefix"),n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("value",t),i.appendChild(n)}),i.submit())},l.prototype.userContactUploadInit=function(){var i=this,r=document.getElementById(this.UPLOAD_BTN_LINK_ID),t=document.getElementById(this.UPLOAD_INPUT_ID),o=document.getElementById(this.BAD_IMPORT_BLOCK),a=document.getElementById(this.SIZE_EXEEDED);r.addEventListener("click",function(e){t.click()}),t.addEventListener("change",function(e){var n,t=new FormData;r.classList.add("hidden"),o.classList.add("hidden"),a.classList.add("hidden"),102400<this.files[0].size?(a.classList.remove("hidden"),r.classList.remove("hidden"),e.preventDefault()):(t.append("file",this.files[0]),(n=new XMLHttpRequest).open("POST",s.Settings.get("service")+"/v1/contacts-upload",!0),n.setRequestHeader("Authorization","Bearer "+i.userToken),n.onreadystatechange=function(){var e,t;4==n.readyState&&(200!=n.status?(r.classList.remove("hidden"),o.classList.remove("hidden")):(e=JSON.parse(n.responseText),t="en-US"==window.lang?"":"/"+window.lang,e.limit_reatched?window.location.href=t+"/user/contacts/import-ok/"+e.count_created+"/"+e.count_could_not_create+"/"+e.limit_reatched:window.location.href=t+"/user/contacts/import-ok/"+e.count_created+"/"+e.count_could_not_create))},n.send(t))})},l.prototype.initBatchActions=function(){var t=this;this.batchCheckElement=document.getElementById(t.batchCheckElementId),this.getAllCheckboxes().forEach(function(e){e.addEventListener("change",function(){t.batchCheckElement.checked=t.checkForAll()})}),t.batchCheckElement.addEventListener("change",function(){t.checkAll(t.batchCheckElement.checked)}),document.getElementById("deleteAll").addEventListener("click",function(){0!=t.checkForAll()&&r.default.show({id:"deleteAllModal",title:o.Lang.t("deleteAll"),primaryBtn:o.Lang.t("yesText"),secondaryBtn:o.Lang.t("noText")}).then(function(){t.submitBatchActionForm()},function(){})})},l.prototype.initSignleActions=function(){var n=this;document.querySelectorAll('[data-action="delete"]').forEach(function(t){t.addEventListener("click",function(){var e=document.getElementById("contact"+t.getAttribute("data-contact-id"));e.checked=!0,r.default.show({id:"deleteOneModal",title:o.Lang.t("deleteOne"),primaryBtn:o.Lang.t("yesText"),secondaryBtn:o.Lang.t("noText")}).then(function(){n.submitBatchActionForm()},function(){e.checked=!1})})})},l.prototype.checkForAll=function(){return 0<this.getAllCheckboxesChecked().length},l.prototype.getAllCheckboxes=function(){return document.querySelectorAll('[name="'+this.contactCheckElementName+'"]')},l.prototype.getAllCheckboxesChecked=function(){return document.querySelectorAll('[name="'+this.contactCheckElementName+'"]:checked')},l.prototype.checkAll=function(t){this.getAllCheckboxes().forEach(function(e){e.checked=t})},l.prototype.submitBatchActionForm=function(){document.getElementById(this.FORM_ID).submit()},l.prototype.getCurrentUrlParams=function(){var e=window.location.href,i={},t=document.createElement("a");return t.href=e,t.search.substring(1).split("&").forEach(function(e,t,n){e=e.split("=");i[e[0]]=decodeURIComponent(e[1])}),i},l.prototype.addContactItem=function(e){var n=this,t=document.getElementById("contactAddItemTemplate");if(!t)throw"contactAddItemTemplate Not found";var e=e.querySelector("#"+this.CONTAINER_ID),i=document.createElement("tr"),t=(i.innerHTML=t.innerHTML,i.querySelectorAll("."+this.REMOVE_AGENDA_CONTACT_CLASS).forEach(function(e){e.addEventListener("click",function(e){var t=Array.from(i.parentElement.children).indexOf(i);n.removeContactItem(t)})}),e.appendChild(i)),r=t.querySelector("[type='tel']"),e=t.querySelector('input[name$="[name]"]'),o=t.querySelector('input[name$="[email]"]');if(!r)throw"Phone input not found";var a=new u.MobilePhoneInput(r);a.onChange(function(e){r.classList.contains("error")&&(a.isMobileEmpty||a.isMobileValid)&&r.classList.remove("error")}),this.addContactItems.push({phoneEl:r,phoneInput:a,rowEl:t,emailEl:o,nameEl:e}),this.reorganizeFormNames()},l.prototype.removeContactItem=function(e){this.addContactItems[e].phoneEl.closest("tr").remove(),this.addContactItems.splice(e,1),this.reorganizeFormNames()},l.prototype.reorganizeFormNames=function(){var e=document.getElementById(this.CONTAINER_ID);this.addContactItems.forEach(function(e,t){var n="contacts["+t+"][email]",i="contacts["+t+"][name]";e.phoneEl.setAttribute("name","contacts["+t+"][phone]"),e.emailEl.setAttribute("name",n),e.nameEl.setAttribute("name",i)}),e.querySelectorAll("tr:first-child td:last-child")[0].innerHTML="<span></span>"},t.UserAgendaList=l},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},r=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},o=(Object.defineProperty(t,"__esModule",{value:!0}),t.UserApiKeysManage=void 0,n(269));function a(e){void 0===e&&(e={}),Object.assign(this,e),this.init()}a.prototype.init=function(){this.editEnabled=!1,this.initChangeBtn(),this.initCancelBtn(),this.initRemoveBtn(),this.initRemoveUserApiKeyModal(),this.initEditCard()},a.prototype.initRemoveBtn=function(){var e=this;this.removeBtn=document.getElementById("api-keys-remove-btn"),this.removeBtn&&this.removeBtn.addEventListener("click",function(){e.removeUserApiKeyModal.show()})},a.prototype.initChangeBtn=function(){var e=this;this.changeBtn=document.getElementById("api-keys-change-btn"),this.changeBtn&&this.changeBtn.addEventListener("click",function(){e.editEnabled=!0,e.toggleActiveElement()})},a.prototype.initCancelBtn=function(){var e=this;this.cancelBtn=document.getElementById("api-keys-cancel-btn"),this.cancelBtn.addEventListener("click",function(){e.toggleActiveElement(),e.editEnabled=!1})},a.prototype.initEditCard=function(){var e=this,t=(this.editCard=document.getElementById("api-keys-edit"),this.editCard.style.position="relative",this.editCard.style.zIndex="1",this.getOverlayLayer());"true"===this.editCard.getAttribute("data-open")&&this.changeBtn.click(),t.addEventListener("click",function(){e.toggleActiveElement(),e.editEnabled=!1})},a.prototype.initRemoveUserApiKeyModal=function(){var e=this;this.removeUserApiKeyModal=new o.ConfirmModal("remove-user-api-key"),this.removeUserApiKeyModal.onYes=function(){e.removeUserApiKeyModal.setState("loading"),e.deleteApiKeys().then(function(e){window.location.reload()},function(e){})}},a.prototype.deleteApiKeys=function(){return i(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,fetch("/user/link-developers-account",{method:"DELETE",headers:{"Content-type":"application/json"}})];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}})})},a.prototype.getOverlayLayer=function(){var e=document.getElementById("overlay");return e||((e=document.createElement("div")).classList.add("absolute-overlay"),e.classList.add("hidden"),e.id="overlay",document.getElementById("mainAdmin").appendChild(e),e)},a.prototype.toggleActiveElement=function(){var e=document.getElementById("api-keys-preview"),t=document.getElementById("api-keys-edit"),n=this.getOverlayLayer();this.editEnabled&&(e.classList.toggle("hidden"),n.classList.toggle("hidden"),t.classList.toggle("hidden"))},t.UserApiKeysManage=a},function(e,v,y){"use strict";!function(a){var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(v,"__esModule",{value:!0}),v.UserSignature=void 0,y(236)),r=y(182),o=y(177),s=y(16),u=y(200),l=y(269),c=y(7),d=y(62),t=y(201),n=e(y(59)),p=y(271),f=y(81),h=y(425),m=y(34);function g(e){Object.assign(this,e),this.init()}g.prototype.init=function(){var n=this,t=(this.api=new r.SignApi({taskId:null,tool:null,workerServer:this.startServer,token:this.token}),null!=(e=document.getElementById("addCerts"))&&e.addEventListener("click",function(){n.buySignatures()}),u.CanvasHelper.forcePrerenderFonts(o.FONT_FAMILY_EXPLORER,o.FONT_STYLES),s.UserModel.get()),e=(t.signature||(t.signature={signature:t.name}),document.getElementById("signatureRequestsFilter")),e=(e&&(this.signaturesRequestsFilterForm=new h.SignaturesFilterForm(e)),document.getElementById("signatureSignedFilter")),e=(e&&(this.signaturesSignedFilterForm=new h.SignaturesFilterForm(e)),document.getElementById("signaturesPendingFilter")),e=(e&&(this.signaturesPendingFilterForm=new h.SignaturesFilterForm(e)),document.getElementById("signaturesApiFilter"));e&&(this.signaturesApiFilterForm=new h.SignaturesFilterForm(e)),null!=(e=document.querySelectorAll(".user-signature table td.filename-row"))&&e.forEach(function(e){var t=e.querySelector(".signature-filename-text");n.isTextOverflowingHorizontally(e)&&(e=t.innerText,m.Tooltip.setContent(t,e))}),0<a("#openSignatureConfig").length&&(this.listenSettingsInvalidInfo(),window.setTimeout(function(){var e=new o.SignatureModel(t.signature);e.setApi(n.api),n.signIdentityManager=new p.SignerIdentityManager({signer:new i.SignerModel,api:n.api,signatureModel:e}),n.signIdentityManager.setServiceOnly(),f.SignatureEventManager.addEventListener("signature:signer_identity_modal:ping_finished",function(e){n.signIdentityManager.canModalBeOpened=!0,n.initSignerIdentityModal(),n.listenServiceDown(),n.updateSignatureConfigPreview(),n.listenSignatureConfirm(),window.setTimeout(function(){document.getElementById("openSignatureConfig").classList.remove("signature__area--transparent")},500)})},500)),this.initVoidSignatureAction(),this.initDeleteSignatureAction(),this.initCertifySignatureAction()},g.prototype.updateSignatureConfigPreview=function(){var e=document.querySelector("#openSignatureConfig .signature__preview--signature");if(this.signIdentityManager.serviceFail)this.showServiceErrorElement();else{var t=this.signIdentityManager.signatureModel.getSignaturePreview();for(t.style.maxHeight="90px";e.firstChild;)e.removeChild(e.firstChild);e.append(t)}},g.prototype.listenSettingsInvalidInfo=function(){f.SignatureEventManager.addEventListener("signature:settings:invalid_info:save_finished",function(e){window.location.reload()})},g.prototype.listenSignatureConfirm=function(){var t=this;f.SignatureEventManager.addEventListener("signature:signer_identity_modal:signature_changed",function(e){t.updateSignatureConfigPreview()})},g.prototype.showServiceErrorElement=function(){var e=document.getElementById("openSignatureConfig"),t=document.getElementById("openSignatureConfigServiceError");e.style.display="none",t.style.display="flex"},g.prototype.listenServiceDown=function(){var t=this;f.SignatureEventManager.addEventListener("signature:service_down",function(e){t.showServiceErrorElement()})},g.prototype.initSignerIdentityModal=function(){var e=this;this.signIdentityManager.serviceFail||document.getElementById("openSignatureConfig").addEventListener("click",function(){e.signIdentityManager.showModal()})},g.prototype.initVoidSignatureAction=function(){var i,r,o=this;0<a(".void-request-btn").length&&(i=new l.ConfirmModal("void-signature"),r=null,a(".void-request-btn").click(function(e){e.preventDefault();e=a(e.target);if(0===(r=e.closest("[data-token-requester]")).length)throw"Token requester not found";i.show()}),i.onYes=function(){var e=d.FormDataHelper.jsonToFormData({status:"void"}),t=(i.setState("loading"),o.api.token),n=r.attr("data-api-token");n&&""!=n&&(o.api.token=n),o.api.workerServer=r.attr("data-worker"),o.api.signatureUpdate(r.attr("data-token-requester"),e).then(function(e){var t;t=c.Lang.t("signature_status_void"),r.find(".signature-status").text(t),r.find(".btn-group").remove(),i.hide(),window.location.reload()},function(e){i.setState("error",{message:c.Lang.t("voidActionError")})}).finally(function(){o.api.token=t})})},g.prototype.initDeleteSignatureAction=function(){for(var n=this,i=new l.ConfirmModal("delete-signature"),e=document.querySelectorAll(".delete-request-btn,.remove-request-btn"),r=null,t=0;t<e.length;t++)e[t].addEventListener("click",function(e){var t=e.target;e.preventDefault(),(r=t.closest("tr")).getAttribute("data-token-requester")&&i.show()});i.onYes=function(){i.setState("loading");var e=n.api.token,t=r.getAttribute("data-api-token");t&&""!=t&&(n.api.token=t),n.api.delete(r.getAttribute("data-token-requester")).then(function(e){i.hide(),window.location.reload()},function(e){i.setState("error",{message:c.Lang.t("deleteActionError")})}).finally(function(){n.api.token=e})}},g.prototype.initCertifySignatureAction=function(){var n,i,t,r;0<a(".certify-request-btn").length&&(n=new l.ConfirmModal("certify-signature"),i=null,t=function(){return i.attr("data-token-requester")},r=this,a(".certify-request-btn").click(function(e){e.preventDefault();e=a(e.target);if(0===(i=e.closest("[data-token-requester]")).length)throw"Token requester not found";var t=parseInt(e.attr("data-files-quantity"));s.UserModel.get().signatures_left<t?r.buySignatures():(n.show(),window.setTimeout(function(){a(".certsNeeded").html(t.toString())},100))}),n.onYes=function(){var e;d.FormDataHelper.jsonToFormData({certified:1});n.setState("loading"),e=d.FormDataHelper.jsonToFormData({certified:1}),r.api.signatureUpdate(t(),e).then(function(e){n.hide(),window.location.reload()},function(e){n.setState("error",{message:c.Lang.t("certifyActionError")})})})},g.prototype.buySignatures=function(){var e=new t.PackagesContext({requestedAction:"selectPackageSignatures",neededNumberOfPkgItems:void 0});(new n.default).setContentBuilder(function(){return e}).show(),e.addEventListener("end",function(){window.location.reload()})},g.prototype.isTextOverflowingHorizontally=function(e){return e.scrollWidth>e.clientWidth},v.UserSignature=g}.call(this,y(1))},function(e,t,n){"use strict";function i(e){this.root=e,this.init()}Object.defineProperty(t,"__esModule",{value:!0}),t.SignaturesFilterForm=void 0,i.prototype.init=function(){this.listenCreatedMoreThan(),this.listenCreatedLessThan(),this.listenSubmitEvent(),this.listenClearButtonEvent(),this.listenDataFilter(),this.listenSearchTextButton(),this.formatDates()},i.prototype.formatDates=function(){var e;null!=(e=this.unformattedDates)&&e.forEach(function(e){var t=new Date(e.innerText),n=e.closest(".applied-filter-box"),t=new Intl.DateTimeFormat("default",{year:"numeric",month:"2-digit",day:"2-digit"}).format(t);e.innerText=t,n&&(n.style.display=null)})},i.prototype.listenSearchTextButton=function(){this.searchTextButton.addEventListener("click",function(e){e.preventDefault(),e.currentTarget.form.submit()})},i.prototype.listenDataFilter=function(){var n=this;this.dataFilter.addEventListener("click",function(e){e.preventDefault();var e=e.currentTarget,t=e.querySelector(".arrow-up,.arrow-down");t.classList.contains("arrow-up")?(t.classList.remove("arrow-up"),t.classList.add("arrow-down"),n.filterMoreHtml.style.display="none",e.classList.remove("active")):(t.classList.remove("arrow-down"),t.classList.add("arrow-up"),n.filterMoreHtml.style.display=null,e.classList.add("active"))})},i.prototype.listenCreatedMoreThan=function(){var e,r=this;null!=(e=this.createdMoreThanField)&&e.addEventListener("change",function(e){var t=r.createdLessThanField,e=e.currentTarget,n=new Date(t.value),i=new Date(e.value);r.isValidDate(n)&&r.isValidDate(i)&&n<i&&(t.value=e.value)})},i.prototype.listenCreatedLessThan=function(){var e,r=this;null!=(e=this.createdLessThanField)&&e.addEventListener("change",function(e){var t=r.createdMoreThanField,e=e.currentTarget,n=new Date(e.value),i=new Date(t.value);r.isValidDate(n)&&r.isValidDate(i)&&n<i&&(t.value=e.value)})},i.prototype.listenSubmitEvent=function(){var t=this;this.root.addEventListener("submit",function(e){t.confirmButton.disabled=!0,t.clearButton.disabled=!0,t.sanitizeFields()})},i.prototype.listenClearButtonEvent=function(){var e=this;this.clearButton.addEventListener("click",function(){e.confirmButton.disabled=!0,e.clearButton.disabled=!0,window.location.href=e.clearButton.dataset.clearRedirect})},i.prototype.isValidDate=function(e){return e instanceof Date&&!isNaN(e.getTime())},i.prototype.sanitizeFields=function(){var e,t,n;this.isValidDate(new Date(this.createdLessThanField.value))||(this.createdLessThanField.value="2020-01-01"),this.isValidDate(new Date(this.createdMoreThanField.value))||(e=(n=new Date).getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),n=String(n.getDate()).padStart(2,"0"),this.createdMoreThanField.value=e+"-"+t+"-"+n),this.statusField.value=Array.from(this.statusCheckboxesFields).filter(function(e){return e.checked}).map(function(e){return e.value}).join(",")},Object.defineProperty(i.prototype,"createdMoreThanField",{get:function(){return this.root.querySelector('input[name="created_more_than"]')},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"createdLessThanField",{get:function(){return this.root.querySelector('input[name="created_less_than"]')},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textField",{get:function(){return this.root.querySelector('input[name="text"]')},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"statusField",{get:function(){return this.root.querySelector('input[name="status"]')},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"statusCheckboxesFields",{get:function(){return this.root.querySelectorAll("input[data-checkbox-status]")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"confirmButton",{get:function(){return this.root.querySelector('[type="submit"]')},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clearButton",{get:function(){return this.root.querySelector("[data-clear]")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataFilter",{get:function(){return this.root.querySelector(".filter-main--search-box--search-button")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"filterMoreHtml",{get:function(){return this.root.querySelector("[data-filter-more]")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"unformattedDates",{get:function(){return this.root.querySelectorAll(".applied-filter-box.date-filter .applied-filter > span")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"removeCurrentFilterElements",{get:function(){return this.root.querySelectorAll("[data-remove-current-filter]")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"removeFilterImg",{get:function(){return this.root.querySelectorAll(".filter-main--filter-list img")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"searchTextButton",{get:function(){return this.root.querySelector(".input--search button")},enumerable:!1,configurable:!0}),t.SignaturesFilterForm=i},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.TeamConfigManager=void 0,i.prototype.init=function(){},t.TeamConfigManager=i},function(e,i,p){"use strict";!function(o){var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},t=(Object.defineProperty(i,"__esModule",{value:!0}),i.UserSignatureDetails=void 0,p(182)),a=p(269),s=p(7),u=p(62),l=p(16),c=p(201),d=e(p(59)),r=p(216);function n(e){Object.assign(this,e),this.init()}n.prototype.init=function(){this.api=new t.SignApi({taskId:null,tool:null,workerServer:this.startServer,token:this.token}),this.initVoidSignatureAction(),this.initCertifySignatureAction(),this.initPhoneInputs()},n.prototype.initPhoneInputs=function(){var t,n,i=this,e=document.getElementById("phoneInput");e&&(this.mobilePhoneInput=new r.MobilePhoneInput(e),t=document.getElementById("fix-phone-form"),n=document.getElementById("fixPhoneModalError"))&&(n.style.display="none",t.addEventListener("submit",function(e){i.mobilePhoneInput.isMobileValid?(n.style.display="none",t.querySelectorAll("button").forEach(function(e){e.disabled=!0}),document.getElementById("phone").value=i.mobilePhoneInput.mobileValue):(i.mobilePhoneInput.telInput.classList.add("error"),e.preventDefault(),n.style.display="",n.classList.add("error"))}))},n.prototype.initVoidSignatureAction=function(){var n,t,i=this;0<o(".void-request-btn").length&&(n=new a.ConfirmModal("void-signature"),t=null,o(".void-request-btn").click(function(e){if(e.preventDefault(),!(t=o(e.target)).attr("data-token-requester"))throw"Token requester not found";if(!t.attr("data-worker"))throw"Worker not found";n.show()}),n.onYes=function(){var e=u.FormDataHelper.jsonToFormData({status:"void"});n.setState("loading"),i.api.workerServer=t.attr("data-worker"),i.api.signatureUpdate(t.attr("data-token-requester"),e).then(function(e){var t;t=s.Lang.t("signature_status_void"),o(".signature-status").text(t),n.hide()},function(e){n.setState("error",{message:s.Lang.t("voidActionError")})})})},n.prototype.initCertifySignatureAction=function(){var i,r,t,n;0<o(".certify-request-btn").length&&(i=new a.ConfirmModal("certify-signature"),r=null,t=function(){return r.attr("data-token-requester")},n=this,o(".certify-request-btn").click(function(e){e.preventDefault();e=o(e.target);if(0===(r=e.closest("[data-token-requester]")).length)throw"Token requester not found";var t,n=parseInt(e.attr("data-files-quantity")),e=Math.max(0,n-l.UserModel.get().signatures_left);0<e?(t=new c.PackagesContext({requestedAction:"selectPackageSignatures",neededNumberOfPkgItems:e}),(new d.default).setContentBuilder(function(){return t}).show(),t.addEventListener("end",function(){window.location.reload()})):(i.show(),window.setTimeout(function(){o(".certsNeeded").html(n.toString())},100))}),i.onYes=function(){var e;u.FormDataHelper.jsonToFormData({certified:1});i.setState("loading"),e=u.FormDataHelper.jsonToFormData({certified:1}),n.api.signatureUpdate(t(),e).then(function(e){i.hide(),window.location.reload()},function(e){i.setState("error",{message:s.Lang.t("certifyActionError")})})})},i.UserSignatureDetails=n}.call(this,p(1))},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionStatusContext=void 0,n(47)),s=n(429),u=n(432),l=n(215),n=(r=a.ContextBase,o(c,r),c.prototype.getInitialState=function(){return this.isLoggedIn()?this._getInitialState():new l.AuthState},c.prototype._getInitialState=function(){switch(this.requestedAction){case"cancelSubscription":case"cancelOfferSubscription":return new s.CancelState;case"reactivateSubscription":return new u.ReactivateState;default:throw"Requested Action '"+this.requestedAction+"' is not handled"}throw"Not implemented 'initialState' when userType is "+this.userType},c);function c(e){var t=r.call(this,e)||this;return t.contentName="SubscriptionStatusContext",t.requestedAction=e.requestedAction,t}t.SubscriptionStatusContext=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.CancelState=void 0,n(21)),s=n(365),u=n(8),l=n(82),c=n(332),d=n(430),n=(r=a.StateBase,o(p,r),p.prototype.initNextAction=function(){var e=this,t=this.domRoot;t.querySelector("[next-from-cancel]").addEventListener("click",function(){e._goNextState()}),t.querySelector("[end-from-cancel]").addEventListener("click",function(){e._end()})},p);function p(){var t=null!==r&&r.apply(this,arguments)||this;return t.name="CancelState",t.LAYOUT_TEMPLATE_NAME="subscription-status",t.INITIAL_SCREEN="default",t.onDomReady=function(){t.changeScreen(t.INITIAL_SCREEN),t.clearLoadingScreen(),t.initNextAction()},t._goNextState=function(){var e;"cancelSubscription"===t.ctx.requestedAction&&(t.showLoadingScreen(),(new l.UserPayment).cancelSubscription().then(function(){window.ev("send","event","subscription","cancel"),window.ev("event","subscription_cancel",{mode:"normal"});var e=new s.CancelledReasonState;t.ctx.changeState(e),t.clearLoadingScreen(),e.render(t.domRoot)},function(){var e=new c.ErrorState;t.ctx.changeState(e),t.clearLoadingScreen(),e.render(t.domRoot)})),"cancelOfferSubscription"===t.ctx.requestedAction&&(e=new d.CancelOfferState,t.ctx.changeState(e),t.clearLoadingScreen(),e.render(t.domRoot))},t._end=function(){t.dispatchEvent(new u.IloveEvent("end"))},t}t.CancelState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.CancelOfferState=void 0,n(21)),s=n(8),u=n(365),l=n(431),c=n(332),d=n(82),n=(r=a.StateBase,o(p,r),p.prototype.initButtons=function(){var t=this;this._selectButtons.forEach(function(e){e.addEventListener("click",t._selectBtnHandler)}),this._submitButtons.forEach(function(e){e.addEventListener("click",t._submitBtnHandler)})},Object.defineProperty(p.prototype,"applyDiscountSelectBtn",{get:function(){return this._selectButtons.find(function(e){return"apply-discount"===e.dataset.actionOption})},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"cancelSubscriptionSelectBtn",{get:function(){return this._selectButtons.find(function(e){return"cancel-subscription"===e.dataset.actionOption})},enumerable:!1,configurable:!0}),p);function p(){var i=null!==r&&r.apply(this,arguments)||this;return i.name="CancelOfferState",i.LAYOUT_TEMPLATE_NAME="subscription-status",i.INITIAL_SCREEN="default",i._selectButtons=[],i._submitButtons=[],i.onDomReady=function(){i.changeScreen(i.INITIAL_SCREEN),i.clearLoadingScreen(),0===i._selectButtons.length&&(i._selectButtons=Array.from(i.domStateRoot.querySelectorAll(".cancel__option"))),0===i._submitButtons.length&&(i._submitButtons=Array.from(i.domStateRoot.querySelectorAll(".dialog__action .btn"))),i.initButtons()},i._selectBtnHandler=function(e){var e=e.currentTarget,n=e.dataset.actionOption;i._selectButtons.forEach(function(e){return e.classList.remove("cancel__option--active")}),e.classList.add("cancel__option--active"),i._submitButtons.forEach(function(e){var t=e.dataset.action===n;e.style.display=t?"":"none"})},i._submitBtnHandler=function(e){e=e.currentTarget.dataset.action;i._goNextState(e)},i._goNextState=function(e){var t=new d.UserPayment;switch(e){case"apply-discount":i.showLoadingScreen(),t.subscribeNextMonthsWithDiscount().then(i._goDiscountState,i._goErrorState);break;case"cancel-subscription":i.showLoadingScreen(),t.cancelSubscription().then(i._goReasonState,i._goErrorState);break;default:throw"Unknown submit action name "+e}},i._goReasonState=function(){i.clearLoadingScreen(),window.ev("send","event","subscription","cancel","offer"),window.ev("event","subscription_cancel",{mode:"offer"});var e=new u.CancelledReasonState;i.ctx.changeState(e),e.render(i.domRoot)},i._goDiscountState=function(){i.clearLoadingScreen();var e=new l.DiscountAppliedState;i.ctx.changeState(e),e.render(i.domRoot)},i._goErrorState=function(){i.clearLoadingScreen();var e=new c.ErrorState;i.ctx.changeState(e),e.render(i.domRoot)},i._end=function(){i.dispatchEvent(new s.IloveEvent("end"))},i}t.CancelOfferState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.DiscountAppliedState=void 0,n(21)),s=n(8),n=(r=a.StateBase,o(u,r),u.prototype.initNextAction=function(){var e=this;this.domRoot.querySelector("[next-from-discount-applied]").addEventListener("click",function(){e._end()})},u);function u(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="DiscountAppliedState",e.LAYOUT_TEMPLATE_NAME="subscription-status",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.domRoot.parentElement.parentElement.classList.remove("dialog--lg"),window.ev("send","event","subscription","discount-applied","50"),window.ev("event","subscription_discount",{percent:50}),e.clearLoadingScreen(),e.initNextAction()},e._end=function(){e.dispatchEvent(new s.IloveEvent("end")),window.location.reload()},e}t.DiscountAppliedState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,a,s,u){return new(s=s||Promise)(function(n,t){function i(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((u=u.apply(e,a||[])).next())})},s=this&&this.__generator||function(i,r){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,a=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))u.label=t[1];else if(6===t[0]&&u.label<s[1])u.label=s[1],s=t;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(t)}}t=r.call(i,u)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},u=(Object.defineProperty(t,"__esModule",{value:!0}),t.ReactivateState=void 0,n(21)),l=n(433),c=n(8),d=n(82),p=n(332),n=(r=u.StateBase,o(f,r),f.prototype.initNextAction=function(){var e=this,t=this.domRoot;t.querySelector("[next-from-reactivate]").addEventListener("click",function(){e._goNextState()}),t.querySelector("[end-from-reactivate]").addEventListener("click",function(){e._end()})},f.prototype._reactivateSubscription=function(){return a(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:t=new d.UserPayment,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.reactivateSubscription()];case 2:return e.sent(),window.ev("send","event","subscription","reactivate"),window.ev("event","subscription_reactivated"),[3,4];case 3:return e.sent(),[2,!1];case 4:return[2,!0]}})})},f);function f(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="ReactivateState",e.LAYOUT_TEMPLATE_NAME="subscription-status",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction()},e._goNextState=function(){return a(e,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return this.showLoadingScreen(),[4,this._reactivateSubscription()];case 1:return t=new(1==e.sent()?l.ReactivatedState:p.ErrorState),this.ctx.changeState(t),this.clearLoadingScreen(),t.render(this.domRoot),[2]}})})},e._end=function(){e.dispatchEvent(new c.IloveEvent("end"))},e}t.ReactivateState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.ReactivatedState=void 0,n(21)),s=n(8),n=(r=a.StateBase,o(u,r),u.prototype.initNextAction=function(){var e=this;this.domRoot.querySelector("[next-from-reactivated]").addEventListener("click",function(){e._goNextState()})},u);function u(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="ReactivatedState",e.LAYOUT_TEMPLATE_NAME="subscription-status",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction()},e._goNextState=function(){e.dispatchEvent(new s.IloveEvent("end")),window.location.reload()},e}t.ReactivatedState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.RemovePaymentContext=void 0,n(47)),s=n(210),u=n(435),n=(r=a.ContextBase,o(l,r),l.prototype.getInitialState=function(){return this.isLoggedIn()?this._getInitialState():new s.AuthState},l.prototype._getInitialState=function(){return new u.ConfirmRemoveState},l);function l(e){var t=r.call(this,e)||this;return t.contentName="RemovePaymentContext",t.requestedAction=e.requestedAction,t}t.RemovePaymentContext=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmRemoveState=void 0,n(436)),s=n(437),u=n(21),l=n(8),c=n(82),n=(r=u.StateBase,o(d,r),d.prototype.initNextAction=function(){var e=this,t=this.domRoot;t.querySelector("[next-from-confirm-remove-yes]").addEventListener("click",function(){e._removePayment()}),t.querySelector("[next-from-confirm-remove-no]").addEventListener("click",function(){e._goEnd()})},d.prototype._removePayment=function(){var t=this;this.showLoadingScreen(),(new c.UserPayment).paymentRemove().then(function(e){t.clearLoadingScreen(),t._goNextState()},function(e){t.clearLoadingScreen(),t._goFailedState()})},d);function d(){var t=null!==r&&r.apply(this,arguments)||this;return t.name="ConfirmRemoveState",t.LAYOUT_TEMPLATE_NAME="payment-remove",t.INITIAL_SCREEN="default",t.onDomReady=function(){t.changeScreen(t.INITIAL_SCREEN),t.clearLoadingScreen(),t.initNextAction()},t._goNextState=function(){var e=new a.PaymentRemovedState;t.ctx.changeState(e),e.render(t.domRoot)},t._goFailedState=function(){var e=new s.CannotRemoveState;t.ctx.changeState(e),e.render(t.domRoot)},t._goEnd=function(){t.dispatchEvent(new l.IloveEvent("end"))},t}t.ConfirmRemoveState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentRemovedState=void 0,n(21)),s=n(8),n=(r=a.StateBase,o(u,r),u.prototype.initNextAction=function(){var e=this;this.domRoot.querySelector("[next-from-payment-removed]").addEventListener("click",function(){e._goNextState()})},u);function u(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="PaymentRemovedState",e.LAYOUT_TEMPLATE_NAME="payment-remove",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction()},e._goNextState=function(){e.dispatchEvent(new s.IloveEvent("end"))},e}t.PaymentRemovedState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.CannotRemoveState=void 0,n(21)),s=n(8),n=(r=a.StateBase,o(u,r),u.prototype.initNextAction=function(){var e=this;this.domRoot.querySelector("[next-from-cannot-remove]").addEventListener("click",function(){e._goNextState()})},u);function u(){var t=null!==r&&r.apply(this,arguments)||this;return t.name="CannotRemoveState",t.LAYOUT_TEMPLATE_NAME="payment-remove",t.INITIAL_SCREEN="default",t.onDomReady=function(){t.changeScreen(t.INITIAL_SCREEN),t.clearLoadingScreen(),t.initNextAction()},t._goNextState=function(){var e=new s.IloveEvent("end",{action:"close"});t.dispatchEvent(e)},t}t.CannotRemoveState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.CardContext=void 0,n(47)),s=n(210),u=n(439),n=(r=a.ContextBase,o(l,r),l.prototype.getInitialState=function(){return this.isLoggedIn()?this._getInitialState():new s.AuthState},l.prototype._getInitialState=function(){return new u.CardState},l);function l(e){var t=r.call(this,e)||this;return t.contentName="CardContext",t.requestedAction=e.requestedAction,t}t.CardContext=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.CardState=void 0,n(440)),s=n(65),u=n(82),n=(r=s.AbstractPaymentState,o(l,r),l.prototype.initPaymentProviderSelectorButtons=function(){},l.prototype.clickProviderButton=function(){},l);function l(){var n=null!==r&&r.apply(this,arguments)||this;return n.name="CardState",n.LAYOUT_TEMPLATE_NAME="card-update",n.INITIAL_SCREEN="default",n.onDomReady=function(){n.changeScreen(n.INITIAL_SCREEN);var e=new u.UserPayment,e=n.initAbstractCard({userPayment:e,currentPaymentMethod:null,paymentProviderProps:[{name:"stripe",paymentButtonText:n.t("paymentButtonText")}],paymentAction:"update_card"});Promise.all([e]).then(n._onEverythingReady)},n._onPaymentSuccess=function(e,t){n._goNextState()},n._onPaymentFailed=function(e,t){},n._onEverythingReady=function(){n.domRoot.querySelector(".payment__mountpoint").style.display="block",setTimeout(n.clearLoadingScreen,150)},n._goNextState=function(){var e=new a.CardUpdatedState;n.ctx.changeState(e),e.render(n.domRoot)},n}t.CardState=n},function(e,t,n){"use strict";var i,r,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.CardUpdatedState=void 0,n(21)),s=n(8),n=(r=a.StateBase,o(u,r),u.prototype.initNextAction=function(){var e=this;this.domRoot.querySelector("[next-from-card-updated]").addEventListener("click",function(){e._goNextState()})},u);function u(){var e=null!==r&&r.apply(this,arguments)||this;return e.name="CardUpdatedState",e.LAYOUT_TEMPLATE_NAME="card-update",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction(),document.getElementById("cartUpdateText").innerText=document.getElementById("cartUpdateText").innerText.replace("{card}","")},e._goNextState=function(){e.dispatchEvent(new s.IloveEvent("end"))},e}t.CardUpdatedState=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserSignatureTemplate=void 0;var i=n(182),r=n(269),o=n(7),a=n(62);function s(e){Object.assign(this,e),this.init()}s.prototype.init=function(){this.api=new i.SignApi({taskId:null,tool:null,workerServer:this.startServer,token:this.token}),this.initDeleteTemplateAction(),this.initChangeNameTemplateAction()},s.prototype.initDeleteTemplateAction=function(){var t,n=this;0!=this.deleteTemplateBtns.length&&(t=new r.ConfirmModal("deleteTemplateModal"),this.deleteTemplateBtns.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();e=e.target.closest("[data-template]");if(null===e)throw"Token requester not found";n.clickedRow=e,t.show()})}),t.onYes=function(){var e=a.FormDataHelper.jsonToFormData({custom_string:n.currentClickedRowToken,custom_int:n.currentClickedRowUserId});t.setState("loading"),n.api.templateDelete(n.currentClickedRowTemplate,e).then(function(e){t.hide(),n.clickedRow.parentNode.removeChild(n.clickedRow),window.location.reload()},function(e){t.setState("error",{message:o.Lang.t("deleteActionError")})})})},s.prototype.initChangeNameTemplateAction=function(){document.querySelectorAll('[data-target="#changeNameModal"]').forEach(function(e){e.addEventListener("click",function(e){var e=e.currentTarget,t=e.dataset.name,e=e.dataset.template;document.getElementById("currentName").innerHTML=t,document.querySelector('[name="SignatureTemplateNameUpdate[name]"]').value=t,document.querySelector('[name="SignatureTemplateNameUpdate[template]"]').value=e})})},Object.defineProperty(s.prototype,"deleteTemplateBtns",{get:function(){return document.querySelectorAll(".delete-template-btn")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"currentClickedRowTemplate",{get:function(){return this.clickedRow.dataset.template},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"currentClickedRowUserId",{get:function(){return this.clickedRow.dataset.userId},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"currentClickedRowToken",{get:function(){return this.clickedRow.dataset.token},enumerable:!1,configurable:!0}),t.UserSignatureTemplate=s},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=(Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeFormatter=void 0,o.prototype.formatDate=function(e){var t={timeZone:this.timezone};switch(e=void 0===e?"medium":e){case"short":t=i(i({},t),{year:"numeric",month:"2-digit",day:"2-digit"});break;case"long":t=i(i({},t),{year:"numeric",month:"long",day:"numeric",weekday:"long"});break;default:t=i(i({},t),{year:"numeric",month:"long",day:"numeric"})}return this.date.toLocaleDateString(this.locale,t)},o.prototype.formatDateTime=function(e,t){void 0===e&&(e="medium"),void 0===t&&(t=!1);var n=i({timeZone:this.timezone},this.supportsHourCycle()?{hourCycle:"h23"}:{hour12:!1});switch(e){case"short":n=i(i({},n),{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});break;case"long":n=i(i({},n),{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"long"});break;default:n=i(i({},n),{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}e=this.date.toLocaleString(this.locale,n);return t&&(e+=" ("+this.timezone+")"),e},o.prototype.supportsHourCycle=function(){try{return"hourCycle"in new Intl.DateTimeFormat("en",{hour:"numeric",hourCycle:"h23"}).resolvedOptions()}catch(e){return!1}},o);function o(e,t,n){void 0===n&&(n=navigator.language),this.date=e,this.timezone=t,this.locale=n}t.DateTimeFormatter=r},function(e,t,n){e.exports=function(d,a,s){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function t(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}function r(e,t,n){if(t in e)Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true});else e[t]=n;return e}function o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var i=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function")i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}));i.forEach(function(e){r(t,e,n[e])})}return t}d=d&&d.hasOwnProperty("default")?d["default"]:d,a=a&&a.hasOwnProperty("default")?a["default"]:a,s=s&&s.hasOwnProperty("default")?s["default"]:s;var n="dropdown",u="4.2.1",p="bs.dropdown",l="."+p,e=".data-api",c=d.fn[n],f=27,h=32,m=9,g=38,v=40,y=3,b=new RegExp(g+"|"+v+"|"+f),_={HIDE:"hide"+l,HIDDEN:"hidden"+l,SHOW:"show"+l,SHOWN:"shown"+l,CLICK:"click"+l,CLICK_DATA_API:"click"+l+e,KEYDOWN_DATA_API:"keydown"+l+e,KEYUP_DATA_API:"keyup"+l+e},w={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},E={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},S={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},C={offset:0,flip:true,boundary:"scrollParent",reference:"toggle",display:"dynamic"},D={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},A=function(){function c(e,t){this._element=e;this._popper=null;this._config=this._getConfig(t);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners()}var e=c.prototype;e.toggle=function e(){if(this._element.disabled||d(this._element).hasClass(w.DISABLED))return;var t=c._getParentFromElement(this._element);var n=d(this._menu).hasClass(w.SHOW);c._clearMenus();if(n)return;var i={relatedTarget:this._element};var r=d.Event(_.SHOW,i);d(t).trigger(r);if(r.isDefaultPrevented())return;if(!this._inNavbar){if(typeof a==="undefined")throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var o=this._element;if(this._config.reference==="parent")o=t;else if(s.isElement(this._config.reference)){o=this._config.reference;if(typeof this._config.reference.jquery!=="undefined")o=this._config.reference[0]}if(this._config.boundary!=="scrollParent")d(t).addClass(w.POSITION_STATIC);this._popper=new a(o,this._menu,this._getPopperConfig())}if("ontouchstart"in document.documentElement&&d(t).closest(E.NAVBAR_NAV).length===0)d(document.body).children().on("mouseover",null,d.noop);this._element.focus();this._element.setAttribute("aria-expanded",true);d(this._menu).toggleClass(w.SHOW);d(t).toggleClass(w.SHOW).trigger(d.Event(_.SHOWN,i))};e.show=function e(){if(this._element.disabled||d(this._element).hasClass(w.DISABLED)||d(this._menu).hasClass(w.SHOW))return;var t={relatedTarget:this._element};var n=d.Event(_.SHOW,t);var i=c._getParentFromElement(this._element);d(i).trigger(n);if(n.isDefaultPrevented())return;d(this._menu).toggleClass(w.SHOW);d(i).toggleClass(w.SHOW).trigger(d.Event(_.SHOWN,t))};e.hide=function e(){if(this._element.disabled||d(this._element).hasClass(w.DISABLED)||!d(this._menu).hasClass(w.SHOW))return;var t={relatedTarget:this._element};var n=d.Event(_.HIDE,t);var i=c._getParentFromElement(this._element);d(i).trigger(n);if(n.isDefaultPrevented())return;d(this._menu).toggleClass(w.SHOW);d(i).toggleClass(w.SHOW).trigger(d.Event(_.HIDDEN,t))};e.dispose=function e(){d.removeData(this._element,p);d(this._element).off(l);this._element=null;this._menu=null;if(this._popper!==null){this._popper.destroy();this._popper=null}};e.update=function e(){this._inNavbar=this._detectNavbar();if(this._popper!==null)this._popper.scheduleUpdate()};e._addEventListeners=function e(){var t=this;d(this._element).on(_.CLICK,function(e){e.preventDefault();e.stopPropagation();t.toggle()})};e._getConfig=function e(t){t=o({},this.constructor.Default,d(this._element).data(),t);s.typeCheckConfig(n,t,this.constructor.DefaultType);return t};e._getMenuElement=function e(){if(!this._menu){var t=c._getParentFromElement(this._element);if(t)this._menu=t.querySelector(E.MENU)}return this._menu};e._getPlacement=function e(){var t=d(this._element.parentNode);var n=S.BOTTOM;if(t.hasClass(w.DROPUP)){n=S.TOP;if(d(this._menu).hasClass(w.MENURIGHT))n=S.TOPEND}else if(t.hasClass(w.DROPRIGHT))n=S.RIGHT;else if(t.hasClass(w.DROPLEFT))n=S.LEFT;else if(d(this._menu).hasClass(w.MENURIGHT))n=S.BOTTOMEND;return n};e._detectNavbar=function e(){return d(this._element).closest(".navbar").length>0};e._getPopperConfig=function e(){var t=this;var n={};if(typeof this._config.offset==="function")n.fn=function(e){e.offsets=o({},e.offsets,t._config.offset(e.offsets)||{});return e};else n.offset=this._config.offset;var i={placement:this._getPlacement(),modifiers:{offset:n,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};if(this._config.display==="static")i.modifiers.applyStyle={enabled:false};return i};c._jQueryInterface=function e(n){return this.each(function(){var e=d(this).data(p);var t=typeof n==="object"?n:null;if(!e){e=new c(this,t);d(this).data(p,e)}if(typeof n==="string"){if(typeof e[n]==="undefined")throw new TypeError('No method named "'+n+'"');e[n]()}})};c._clearMenus=function e(t){if(t&&(t.which===y||t.type==="keyup"&&t.which!==m))return;var n=[].slice.call(document.querySelectorAll(E.DATA_TOGGLE));for(var i=0,r=n.length;i<r;i++){var o=c._getParentFromElement(n[i]);var a=d(n[i]).data(p);var s={relatedTarget:n[i]};if(t&&t.type==="click")s.clickEvent=t;if(!a)continue;var u=a._menu;if(!d(o).hasClass(w.SHOW))continue;if(t&&(t.type==="click"&&/input|textarea/i.test(t.target.tagName)||t.type==="keyup"&&t.which===m)&&d.contains(o,t.target))continue;var l=d.Event(_.HIDE,s);d(o).trigger(l);if(l.isDefaultPrevented())continue;if("ontouchstart"in document.documentElement)d(document.body).children().off("mouseover",null,d.noop);n[i].setAttribute("aria-expanded","false");d(u).removeClass(w.SHOW);d(o).removeClass(w.SHOW).trigger(d.Event(_.HIDDEN,s))}};c._getParentFromElement=function e(t){var n;var i=s.getSelectorFromElement(t);if(i)n=document.querySelector(i);return n||t.parentNode};c._dataApiKeydownHandler=function e(t){if(/input|textarea/i.test(t.target.tagName)?t.which===h||t.which!==f&&(t.which!==v&&t.which!==g||d(t.target).closest(E.MENU).length):!b.test(t.which))return;t.preventDefault();t.stopPropagation();if(this.disabled||d(this).hasClass(w.DISABLED))return;var n=c._getParentFromElement(this);var i=d(n).hasClass(w.SHOW);if(!i||i&&(t.which===f||t.which===h)){if(t.which===f){var r=n.querySelector(E.DATA_TOGGLE);d(r).trigger("focus")}d(this).trigger("click");return}var o=[].slice.call(n.querySelectorAll(E.VISIBLE_ITEMS));if(o.length===0)return;var a=o.indexOf(t.target);if(t.which===g&&a>0)a--;if(t.which===v&&a<o.length-1)a++;if(a<0)a=0;o[a].focus()};t(c,null,[{key:"VERSION",get:function e(){return u}},{key:"Default",get:function e(){return C}},{key:"DefaultType",get:function e(){return D}}]);return c}();return d(document).on(_.KEYDOWN_DATA_API,E.DATA_TOGGLE,A._dataApiKeydownHandler).on(_.KEYDOWN_DATA_API,E.MENU,A._dataApiKeydownHandler).on(_.CLICK_DATA_API+" "+_.KEYUP_DATA_API,A._clearMenus).on(_.CLICK_DATA_API,E.DATA_TOGGLE,function(e){e.preventDefault();e.stopPropagation();A._jQueryInterface.call(d(this),"toggle")}).on(_.CLICK_DATA_API,E.FORM_CHILD,function(e){e.stopPropagation()}),d.fn[n]=A._jQueryInterface,d.fn[n].Constructor=A,d.fn[n].noConflict=function(){d.fn[n]=c;return A._jQueryInterface},A}(n(1),n(148),n(181))},function(e,t,n){}]);